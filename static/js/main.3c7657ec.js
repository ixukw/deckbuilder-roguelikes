/*! For license information please see main.3c7657ec.js.LICENSE.txt */
(()=>{var e={908:e=>{var t=Function.prototype,n=Object.prototype,r=t.toString,a=n.hasOwnProperty,i=r.call(Object),o=n.toString,s=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=s(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&r.call(n)==i}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var i,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(s[u]=i[u]);if(t){o=t(i);for(var c=0;c<o.length;c++)r.call(i,o[c])&&(s[o[c]]=i[o[c]])}}return s}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},550:(e,t,n)=>{"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=o(n(683)),i=o(n(123));function o(e){return e&&e.__esModule?e:{default:e}}var s="undefined"===typeof document||"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&!1,l={},u=void 0;function c(){return u&&!u.headersSent}function d(e,t){var n=s?l:a.default.parse(document.cookie),r=n&&n[e];if("undefined"===typeof t&&(t=!r||"{"!==r[0]&&"["!==r[0]),!t)try{r=JSON.parse(r)}catch(i){}return r}function p(e){var t=s?l:a.default.parse(document.cookie);if("undefined"===typeof e&&(e=!t||"{"!==t[0]&&"["!==t[0]),!e)try{t=JSON.parse(t)}catch(n){}return t}function f(e){var t=s?l:a.default.parse(document.cookie);return t?e?Object.keys(t).reduce((function(n,r){if(!e.test(r))return n;var a={};return a[r]=t[r],(0,i.default)({},n,a)}),{}):t:{}}function h(e,t,n){l[e]=t,"object"===("undefined"===typeof t?"undefined":r(t))&&(l[e]=JSON.stringify(t)),s||(document.cookie=a.default.serialize(e,l[e],n)),c()&&u.cookie&&u.cookie(e,t,n)}function m(e,t){delete l[e],t="undefined"===typeof t?{}:"string"===typeof t?{path:t}:(0,i.default)({},t),"undefined"!==typeof document&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=a.default.serialize(e,"",t)),c()&&u.clearCookie&&u.clearCookie(e,t)}function y(e){l=e?a.default.parse(e):{}}function v(e,t){return e.cookie?l=e.cookie:e.cookies?l=e.cookies:e.headers&&e.headers.cookie?y(e.headers.cookie):l={},u=t,function(){u=null,l={}}}t.Ay={setRawCookie:y,load:d,loadAll:p,select:f,save:h,remove:m,plugToRequest:v}},683:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(a),l=i.decode||n,u=0;u<s.length;u++){var c=s[u],d=c.indexOf("=");if(!(d<0)){var p=c.substr(0,d).trim(),f=c.substr(++d,c.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==r[p]&&(r[p]=o(f,l))}}return r},t.serialize=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw new TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!==typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(l+="; HttpOnly");a.secure&&(l+="; Secure");if(a.sameSite){switch("string"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return l};var n=decodeURIComponent,r=encodeURIComponent,a=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,j=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function F(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case x:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,ke=null;function xe(e){if(e=ba(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),Ee(e.stateNode,e.type,t))}}function Ne(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Te(){if(Se){var e=Se,t=ke;if(ke=Se=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Oe=!1;function Ce(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ie(e,t,n)}finally{Oe=!1,(null!==Se||null!==ke)&&(Pe(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){De=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){De=!1}function Re(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,je=null,Ue=!1,Be=null,ze={onError:function(e){Le=!0,je=e}};function Fe(e,t,n,r,a,i,o,s,l){Le=!1,je=null,Re.apply(ze,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ge(e)!==e)throw Error(i(188))}function Ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,We=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,kt,xt,Nt=!1,Tt=[],It=null,Pt=null,Ot=null,Ct=new Map,At=new Map,Dt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function jt(e){var t=ga(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void xt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Nt=!1,null!==It&&Ut(It)&&(It=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Ot&&Ut(Ot)&&(Ot=null),Ct.forEach(Bt),At.forEach(Bt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Gt(e){function t(t){return Ft(t,e)}if(0<Tt.length){Ft(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ft(It,e),null!==Pt&&Ft(Pt,e),null!==Ot&&Ft(Ot,e),Ct.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Vt=_.ReactCurrentBatchConfig,Ht=!0;function Zt(e,t,n,r){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Vt.transition=i}}function qt(e,t,n,r){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Vt.transition=i}}function Kt(e,t,n,r){if(Ht){var a=Yt(e,t,n,r);if(null===a)Hr(e,t,r,Wt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Lt(It,e,t,n,r,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,a),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ct.set(i,Lt(Ct.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Wt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=ga(e=we(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=j({},un,{view:0,detail:0}),pn=an(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(fn),mn=an(j({},fn,{dataTransfer:0})),yn=an(j({},dn,{relatedTarget:0})),vn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),_n=an(j({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function xn(){return kn}var Nn=j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Nn),In=an(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),On=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Cn),Dn=[9,13,27,32],Mn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,jn=c&&(!Mn||Rn&&8<Rn&&11>=Rn),Un=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Zn(e,t,n,r){Ne(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Wn(e){Ur(e,0)}function Yn(e){if(K(_a(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(c){var Qn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Zn(t,Kn,e,we(e)),Ce(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,gr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==W(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},kr={};function xr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Nr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Pr=xr("transitionend"),Or=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),l(t,[e])}for(var Dr=0;Dr<Cr.length;Dr++){var Mr=Cr[Dr];Ar(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Ar(Nr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,u){if(Fe.apply(this,arguments),Le){if(!Le)throw Error(i(198));var c=je;Le=!1,je=null,Ue||(Ue=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;jr(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;jr(a,s,u),i=l}}}if(Ue)throw e=Be,Ue=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Fr]){e[Fr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var a=Zt;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ga(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Ce((function(){var r=i,a=we(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Nr:case Tr:case Ir:l=vn;break;case Pr:l=On;break;case"scroll":l=pn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ae(h,p))&&c.push(Zr(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!ga(u)&&!u[ha])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ga(u):null)&&(u!==(d=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:_a(l),f=null==u?s:_a(u),(s=new c(m,h+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ga(a)===r&&((c=new c(p,h+"enter",u,n,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Kr(f))h++;for(f=0,m=p;m;m=Kr(m))f++;for(;0<h-f;)c=Kr(c),h--;for(;0<f-h;)p=Kr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Kr(c),p=Kr(p)}c=null}else c=null;null!==l&&Wr(o,s,l,c,!1),null!==u&&null!==d&&Wr(o,d,u,c,!0)}if("select"===(l=(s=r?_a(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=$n;else if(Hn(s))if(Jn)y=or;else{y=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ir);switch(y&&(y=y(e,r))?Zn(o,y,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?_a(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,vr=r,gr=null);break;case"focusout":gr=vr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(o,n,a)}var g;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(g=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,Gn=!0)),0<(v=qr(r,b)).length&&(b=new _n(b,e,null,n,a),o.push({event:b,listeners:v}),g?b.data=g:null!==(g=Fn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Un);case"textInput":return(e=t.data)===Un&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Mn&&zn(e,t)?(e=en(),Xt=Qt=Jt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=g))}Ur(o,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ae(e,n))&&r.unshift(Zr(e,i,a)),null!=(i=Ae(e,t))&&r.push(Zr(e,i,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Ae(n,i))&&o.unshift(Zr(n,l,s)):a||null!=(l=Ae(n,i))&&o.push(Zr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Gt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ya="__reactListeners$"+da,va="__reactHandles$"+da;function ga(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var Ea=[],Sa=-1;function ka(e){return{current:e}}function xa(e){0>Sa||(e.current=Ea[Sa],Ea[Sa]=null,Sa--)}function Na(e,t){Sa++,Ea[Sa]=e.current,e.current=t}var Ta={},Ia=ka(Ta),Pa=ka(!1),Oa=Ta;function Ca(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){xa(Pa),xa(Ia)}function Ma(e,t,n){if(Ia.current!==Ta)throw Error(i(168));Na(Ia,t),Na(Pa,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return j({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Oa=Ia.current,Na(Ia,e),Na(Pa,Pa.current),!0}function ja(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ra(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,xa(Pa),xa(Ia),Na(Ia,e)):xa(Pa),Na(Pa,n)}var Ua=null,Ba=!1,za=!1;function Fa(e){null===Ua?Ua=[e]:Ua.push(e)}function Ga(){if(!za&&null!==Ua){za=!0;var e=0,t=bt;try{var n=Ua;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Ba=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),Ke(Xe,Ga),a}finally{bt=t,za=!1}}return null}var Va=[],Ha=0,Za=null,qa=0,Ka=[],Wa=0,Ya=null,$a=1,Ja="";function Qa(e,t){Va[Ha++]=qa,Va[Ha++]=Za,Za=e,qa=t}function Xa(e,t,n){Ka[Wa++]=$a,Ka[Wa++]=Ja,Ka[Wa++]=Ya,Ya=e;var r=$a;e=Ja;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,$a=1<<32-ot(t)+a|n<<a|r,Ja=i+e}else $a=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&(Qa(e,1),Xa(e,1,0))}function ti(e){for(;e===Za;)Za=Va[--Ha],Va[Ha]=null,qa=Va[--Ha],Va[Ha]=null;for(;e===Ya;)Ya=Ka[--Wa],Ka[Wa]=null,Ja=Ka[--Wa],Ka[Wa]=null,$a=Ka[--Wa],Ka[Wa]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:$a,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw pi(),Error(i(418));for(;t;)oi(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var mi=_.ReactCurrentBatchConfig;function yi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vi=ka(null),gi=null,bi=null,_i=null;function wi(){_i=bi=gi=null}function Ei(e){var t=vi.current;xa(vi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t){gi=e,_i=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function xi(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===gi)throw Error(i(308));bi=e,gi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ni=null;function Ti(e){null===Ni?Ni=[e]:Ni.push(e)}function Ii(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ti(t)):(n.next=a.next,a.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Pi(e,n)}return null===(a=r.interleaved)?(t.next=t,Ti(r)):(t.next=a.next,a.next=t),r.interleaved=t,Pi(e,n)}function Ri(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,c=u=l=null,s=i;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=j({},d,p);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=d}}function Ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Bi=(new r.Component).refs;function zi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fi={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),i=Di(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(ru(t,e,a,r),Ri(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),i=Di(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(ru(t,e,a,r),Ri(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Di(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Mi(e,a,r))&&(ru(t,e,r,n),Ri(t,e,r))}};function Gi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function Vi(e,t,n){var r=!1,a=Ta,i=t.contextType;return"object"===typeof i&&null!==i?i=xi(i):(a=Aa(t)?Oa:Ia.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ca(e,a):Ta),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function Zi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Bi,Ci(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=xi(i):(i=Aa(t)?Oa:Ia.current,a.context=Ca(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Fi.enqueueReplaceState(a,a.state,null),ji(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Bi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&Wi(i)===t.type)?((r=a(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case E:return(t=Bu(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lu(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case E:return n.key===a?c(e,t,n,r):null;case A:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:d(e,t,n,r,null);Ki(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);Ki(t,r)}return null}function m(a,i,s,l){for(var u=null,c=null,d=i,m=i=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===c?u=v:c.sibling=v,c=v,d=y}if(m===s.length)return n(a,d),ai&&Qa(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],l))&&(i=o(d,i,m),null===c?u=d:c.sibling=d,c=d);return ai&&Qa(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(y=h(d,a,m,s[m],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),i=o(y,i,m),null===c?u=y:c.sibling=y,c=y);return e&&d.forEach((function(e){return t(a,e)})),ai&&Qa(a,m),u}function y(a,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,y=s=0,v=null,g=l.next();null!==m&&!g.done;y++,g=l.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=f(a,m,g.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,y),null===d?c=b:d.sibling=b,d=b,m=v}if(g.done)return n(a,m),ai&&Qa(a,y),c;if(null===m){for(;!g.done;y++,g=l.next())null!==(g=p(a,g.value,u))&&(s=o(g,s,y),null===d?c=g:d.sibling=g,d=g);return ai&&Qa(a,y),c}for(m=r(a,m);!g.done;y++,g=l.next())null!==(g=h(m,a,y,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(a,e)})),ai&&Qa(a,y),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===A&&Wi(u)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=qi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((i=Lu(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Ru(o.type,o.key,o.props,null,r.mode,l)).ref=qi(r,i,o),l.return=r,r=l)}return s(r);case E:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bu(o,r.mode,l)).return=r,r=i}return s(r);case A:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(R(o))return y(r,i,o,l);Ki(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Uu(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var $i=Yi(!0),Ji=Yi(!1),Qi={},Xi=ka(Qi),eo=ka(Qi),to=ka(Qi);function no(e){if(e===Qi)throw Error(i(174));return e}function ro(e,t){switch(Na(to,t),Na(eo,e),Na(Xi,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xa(Xi),Na(Xi,t)}function ao(){xa(Xi),xa(eo),xa(to)}function io(e){no(to.current);var t=no(Xi.current),n=le(t,e.type);t!==n&&(Na(eo,e),Na(Xi,n))}function oo(e){eo.current===e&&(xa(Xi),xa(eo))}var so=ka(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var po=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,ho=0,mo=null,yo=null,vo=null,go=!1,bo=!1,_o=0,wo=0;function Eo(){throw Error(i(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,a,o){if(ho=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(i(301));o+=1,vo=yo=null,t.updateQueue=null,po.current=us,e=n(r,a)}while(bo)}if(po.current=os,t=null!==yo&&null!==yo.next,ho=0,vo=yo=mo=null,go=!1,t)throw Error(i(300));return e}function xo(){var e=0!==_o;return _o=0,e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function To(){if(null===yo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,yo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=yo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((ho&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,mo.lanes|=d,jl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,jl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Ao(e,t){var n=mo,r=To(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,_s=!0),r=r.queue,Ho(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Bo(9,Mo.bind(null,n,r,a,t),void 0,null),null===Ol)throw Error(i(349));0!==(30&ho)||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Ro(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Pi(e,1);null!==t&&ru(t,e,1,-1)}function Uo(e){var t=No();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function Fo(e,t,n,r){var a=No();mo.flags|=e,a.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Go(e,t,n,r){var a=To();r=void 0===r?null:r;var i=void 0;if(null!==yo){var o=yo.memoizedState;if(i=o.destroy,null!==r&&So(r,o.deps))return void(a.memoizedState=Bo(t,n,i,r))}mo.flags|=e,a.memoizedState=Bo(1|t,n,i,r)}function Vo(e,t){return Fo(8390656,8,e,t)}function Ho(e,t){return Go(2048,8,e,t)}function Zo(e,t){return Go(4,2,e,t)}function qo(e,t){return Go(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Go(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ii(e,t,n,r))){ru(n,e,r,tu()),is(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ti(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Ii(e,t,a,r))&&(ru(n,e,r,a=tu()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:xi,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},ss={readContext:xi,useCallback:function(e,t){return No().memoizedState=[e,void 0===t?null:t],e},useContext:xi,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=No();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=No();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},No().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return No().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Xo.bind(null,e[1]),No().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,a=No();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ol)throw Error(i(349));0!==(30&ho)||Do(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Vo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Mo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=No(),t=Ol.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=($a&~(1<<32-ot($a)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:xi,useCallback:$o,useContext:xi,useEffect:Ho,useImperativeHandle:Wo,useInsertionEffect:Zo,useLayoutEffect:qo,useMemo:Jo,useReducer:Po,useRef:zo,useState:function(){return Po(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Qo(To(),yo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],To().memoizedState]},useMutableSource:Co,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},us={readContext:xi,useCallback:$o,useContext:xi,useEffect:Ho,useImperativeHandle:Wo,useInsertionEffect:Zo,useLayoutEffect:qo,useMemo:Jo,useReducer:Oo,useRef:zo,useState:function(){return Oo(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Qo(t,yo.memoizedState,e)},useTransition:function(){return[Oo(Io)[0],To().memoizedState]},useMutableSource:Co,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ql=r),ps(0,t)},n}function ms(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ps(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Mi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Ji(t,null,n,r):$i(t,e.child,n,r)}function Es(e,t,n,r,a){n=n.render;var i=t.ref;return ki(t,a),r=ko(e,t,n,r,i,a),n=xo(),null===e||_s?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Du(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,(e=Mu(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Zs(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,r,a)}function xs(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Ml,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Na(Ml,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Na(Ml,Dl),Dl|=r;return ws(e,t,a,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,a){var i=Aa(n)?Oa:Ia.current;return i=Ca(t,i),ki(t,a),n=ko(e,t,n,r,i,a),r=xo(),null===e||_s?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a))}function Is(e,t,n,r,a){if(Aa(n)){var i=!0;La(t)}else i=!1;if(ki(t,a),null===t.stateNode)Hs(e,t),Vi(t,n,r),Zi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=xi(u):u=Ca(t,u=Aa(n)?Oa:Ia.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Hi(t,o,r,u),Oi=!1;var p=t.memoizedState;o.state=p,ji(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Pa.current||Oi?("function"===typeof c&&(zi(t,n,c,r),l=t.memoizedState),(s=Oi||Gi(t,n,s,r,p,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ai(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yi(t.type,s),o.props=u,d=t.pendingProps,p=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=xi(l):l=Ca(t,l=Aa(n)?Oa:Ia.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==l)&&Hi(t,o,r,l),Oi=!1,p=t.memoizedState,o.state=p,ji(t,r,o,a);var h=t.memoizedState;s!==d||p!==h||Pa.current||Oi?("function"===typeof f&&(zi(t,n,f,r),h=t.memoizedState),(u=Oi||Gi(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,i,a)}function Ps(e,t,n,r,a,i){Ns(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&ja(t,n,!1),Zs(e,t,i);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&ja(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),ro(e,t.containerInfo)}function Cs(e,t,n,r,a){return fi(),hi(a),t.flags|=256,ws(e,t,n,r),t.child}var As,Ds,Ms,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Na(so,1&o),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ju(l,a,0,null),e=Lu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=ju({mode:"visible",children:r.children},a,0,null),(o=Lu(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Ol)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Pi(e,a),ru(r,e,a,-1))}return yu(),zs(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ka[Wa++]=$a,Ka[Wa++]=Ja,Ka[Wa++]=Ya,$a=e.id,Ja=e.overflow,Ya=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Mu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Mu(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Mu(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&hi(r),$i(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Gs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gs(t,!0,n,null,i);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Aa(t.type)&&Da(),Ks(t),null;case 3:return r=t.stateNode,ao(),xa(Pa),xa(Ia),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=no(Xi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pa]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ae(r,o),Br("invalid",r)}for(var l in ge(n,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),X(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[fa]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=j({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(o in ge(n,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":q(e),X(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no(Xi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Ks(t),null;case 13:if(xa(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[pa]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(su(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Rl&&(Rl=3):yu())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return ao(),Ds(e,t),null===e&&Gr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ei(t.type._context),Ks(t),null;case 19:if(xa(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Je()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Na(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return Aa(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),xa(Pa),xa(Ia),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xa(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xa(so),null;case 4:return ao(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ms=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Xi.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=j({},a,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ge(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){xu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tl(t,n,i)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[ma],delete t[ya],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,a=pl;dl=null,fl(e,t,n),pl=a,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Gt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=pl,dl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),dl=r,pl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tl(n,t,o),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));hl(o,s,a),dl=null,pl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){xu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),gl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(y){xu(e,e.return,y)}try{rl(5,e,e.return)}catch(y){xu(e,e.return,y)}}break;case 1:yl(t,e),gl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(yl(t,e),gl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(y){xu(e,e.return,y)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ye(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,c)}switch(l){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(y){xu(e,e.return,y)}}break;case 6:if(yl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(y){xu(e,e.return,y)}}break;case 3:if(yl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(y){xu(e,e.return,y)}break;case 4:default:yl(t,e),gl(e);break;case 13:yl(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Gl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||d,yl(t,e),Js=c):yl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){xu(r,n,y)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(p);continue}}null!==h?(h.return=f,Xs=h):El(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(y){xu(e,e.return,y)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){xu(e,e.return,y)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yl(t,e),gl(e),4&r&&ml(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(i(161))}}catch(s){xu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xs=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var a=Xs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||$s;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=$s;var u=Js;if($s=o,(Js=l)&&!u)for(Xs=a;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Xs=l):Sl(a);for(;null!==i;)Xs=i,_l(i,t,n),i=i.sibling;Xs=a,$s=s,Js=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xs=i):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ui(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ui(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Gt(p)}}}break;default:throw Error(i(163))}Js||512&t.flags&&il(t)}catch(f){xu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function El(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Sl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){xu(t,a,l)}}var i=t.return;try{il(t)}catch(l){xu(t,i,l)}break;case 5:var o=t.return;try{il(t)}catch(l){xu(t,o,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var kl,xl=Math.ceil,Nl=_.ReactCurrentDispatcher,Tl=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Pl=0,Ol=null,Cl=null,Al=0,Dl=0,Ml=ka(0),Rl=0,Ll=null,jl=0,Ul=0,Bl=0,zl=null,Fl=null,Gl=0,Vl=1/0,Hl=null,Zl=!1,ql=null,Kl=null,Wl=!1,Yl=null,$l=0,Jl=0,Ql=null,Xl=-1,eu=0;function tu(){return 0!==(6&Pl)?Je():-1!==Xl?Xl:Xl=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Al?Al&-Al:null!==mi.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ru(e,t,n,r){if(50<Jl)throw Jl=0,Ql=null,Error(i(185));vt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(Ul|=n),4===Rl&&lu(e,Al)),au(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Je()+500,Ba&&Ga()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Ol?Al:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ba=!0,Fa(e)}(uu.bind(null,e)):Fa(uu.bind(null,e)),oa((function(){0===(6&Pl)&&Ga()})),n=null;else{switch(_t(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,eu=0,0!==(6&Pl))throw Error(i(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=pt(e,e===Ol?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Pl;Pl|=2;var o=mu();for(Ol===e&&Al===t||(Hl=null,Vl=Je()+500,fu(e,t));;)try{bu();break}catch(l){hu(e,l)}wi(),Nl.current=o,Pl=a,null!==Cl?t=0:(Ol=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=ou(e,a))),1===t)throw n=Ll,fu(e,0),lu(e,r),au(e,Je()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(o=ht(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ll,fu(e,0),lu(e,r),au(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Eu(e,Fl,Hl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Gl+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Eu.bind(null,e,Fl,Hl),t);break}Eu(e,Fl,Hl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ra(Eu.bind(null,e,Fl,Hl),r);break}Eu(e,Fl,Hl);break;default:throw Error(i(329))}}}return au(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Fl,Fl=n,null!==t&&su(t)),e}function su(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function lu(e,t){for(t&=~Bl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Pl))throw Error(i(327));Su();var t=pt(e,0);if(0===(1&t))return au(e,Je()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ll,fu(e,0),lu(e,t),au(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Fl,Hl),au(e,Je()),null}function cu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Je()+500,Ba&&Ga())}}function du(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&Su();var t=Pl;Pl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Pl=t))&&Ga()}}function pu(){Dl=Ml.current,xa(Ml)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:ao(),xa(Pa),xa(Ia),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:xa(so);break;case 10:Ei(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Ol=e,Cl=e=Mu(e.current,null),Al=Dl=t,Rl=0,Ll=null,Bl=Ul=jl=0,Fl=zl=null,null!==Ni){for(t=0;t<Ni.length;t++)if(null!==(r=(n=Ni[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ni=null}return e}function hu(e,t){for(;;){var n=Cl;try{if(wi(),po.current=os,go){for(var r=mo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}go=!1}if(ho=0,vo=yo=mo=null,bo=!1,_o=0,Tl.current=null,null===n||null===n.return){Rl=1,Ll=t,Cl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&ys(o,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}if(0===(1&t)){ys(o,c,t),yu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,l,0,t),hi(cs(u,l));break e}}o=u=cs(u,l),4!==Rl&&(Rl=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Li(o,hs(0,u,t));break e;case 1:l=u;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Li(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(_){t=_,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function mu(){var e=Nl.current;return Nl.current=os,null===e?os:e}function yu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Ol||0===(268435455&jl)&&0===(268435455&Ul)||lu(Ol,Al)}function vu(e,t){var n=Pl;Pl|=2;var r=mu();for(Ol===e&&Al===t||(Hl=null,fu(e,t));;)try{gu();break}catch(a){hu(e,a)}if(wi(),Pl=n,Nl.current=r,null!==Cl)throw Error(i(261));return Ol=null,Al=0,Rl}function gu(){for(;null!==Cl;)_u(Cl)}function bu(){for(;null!==Cl&&!Ye();)_u(Cl)}function _u(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wu(e):Cl=t,Tl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Dl)))return void(Cl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Rl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Rl&&(Rl=5)}function Eu(e,t,n){var r=bt,a=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Yl);if(0!==(6&Pl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Ol&&(Cl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Ou(tt,(function(){return Su(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(ea=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==o||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===a&&(l=s),f===o&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:yi(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(w){xu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=nl,nl=!1}(e,n),vl(n,e),hr(ta),Ht=!!ea,ta=ea=null,e.current=n,bl(n,e,a),$e(),Pl=l,bt=s,Il.transition=o}else e.current=n;if(Wl&&(Wl=!1,Yl=e,$l=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zl)throw Zl=!1,e=ql,ql=null,e;0!==(1&$l)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Ga()}(e,t,n,r)}finally{Il.transition=a,bt=r}return null}function Su(){if(null!==Yl){var e=_t($l),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Pl))throw Error(i(331));var a=Pl;for(Pl|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(ol(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=o.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(E){xu(l,l.return,E)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Pl=a,Ga(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(E){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function ku(e,t,n){e=Mi(e,t=hs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),au(e,t))}function xu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Mi(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),au(t,e));break}}t=t.return}}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Je()-Gl?fu(e,0):Bl|=n),au(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Pi(e,t))&&(vt(e,t,n),au(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tu(e,n)}function Ou(e,t){return Ke(e,t)}function Cu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Cu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(n.children,a,o,t);case k:s=8,a|=8;break;case x:return(e=Au(12,n,t,2|a)).elementType=x,e.lanes=o,e;case P:return(e=Au(13,n,t,a)).elementType=P,e.lanes=o,e;case O:return(e=Au(19,n,t,a)).elementType=O,e.lanes=o,e;case D:return ju(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case T:s=9;break e;case I:s=11;break e;case C:s=14;break e;case A:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Au(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Au(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,a,i,o,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Au(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(i),e}function Gu(e){if(!e)return Ta;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Aa(n))return Ra(e,n,t)}return t}function Vu(e,t,n,r,a,i,o,s,l){return(e=Fu(n,r,!0,e,0,i,0,s,l)).context=Gu(null),n=e.current,(i=Di(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Mi(n,i,a),e.current.lanes=a,vt(e,a,r),au(e,r),e}function Hu(e,t,n,r){var a=t.current,i=tu(),o=nu(a);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mi(a,t,o))&&(ru(e,a,o,i),Ri(e,a,o)),o}function Zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Os(t),fi();break;case 5:io(t);break;case 1:Aa(t.type)&&La(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(vi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Na(so,1&so.current),null!==(e=Zs(e,t,n))?e.sibling:null);Na(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Zs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ai&&0!==(1048576&t.flags)&&Xa(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var a=Ca(t,Ia.current);ki(t,n),a=ko(null,t,r,e,a,n);var o=xo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ci(t),a.updater=Fi,t.stateNode=a,a._reactInternals=t,Zi(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===C)return 14}return 2}(r),e=yi(r,e),a){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ts(e,t,r,a=t.elementType===r?a:yi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:yi(r,a),n);case 3:e:{if(Os(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ai(e,t),ji(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Cs(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ui(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Ns(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:yi(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Na(vi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Pa.current){t=Zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Di(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Si(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ki(t,n),r=r(a=xi(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=yi(r=t.type,t.pendingProps),Ss(e,t,r,a=yi(r.type,a),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yi(r,a),Hs(e,t),t.tag=1,Aa(r)?(e=!0,La(t)):e=!1,ki(t,n),Vi(t,r,a),Zi(t,r,a,n),Ps(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return xs(e,t,n)}throw Error(i(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function ec(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Zu(o);s.call(e)}}Hu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Zu(o);i.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[ha]=o.current,Gr(8===e.nodeType?e.parentNode:e),du(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Zu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[ha]=l.current,Gr(8===e.nodeType?e.parentNode:e),du((function(){Hu(t,l,n,r)})),l}(n,t,e,a,r);return Zu(o)}$u.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hu(e,t,null,null)},$u.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Hu(null,e,null,null)})),t[ha]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),au(t,Je()),0===(6&Pl)&&(Vl=Je()+500,Ga()))}break;case 13:du((function(){var t=Pi(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ku(e,1)}},Et=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)ru(t,e,134217728,tu());Ku(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=Pi(e,t);if(null!==n)ru(n,e,t,tu());Ku(e,t)}},kt=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));K(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,Pe=du;var tc={usingClientEntryPoint:!1,Events:[ba,_a,wa,Ne,Te,cu]},nc={findFiberByHostInstance:ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),it=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(i(299));var n=!1,r="",a=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,a,0,o,s),e[ha]=t.current,Gr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $u(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(i(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=b.prototype=new g;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+I(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),P(o,t,a,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+I(s=e[u],u);l+=P(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,t,a,c=i+I(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffAny=t.diffObjects=t.diffArrays=t.intersection=t.subtract=t.isDestructive=void 0;var r=n(680);function a(e,t){var n={};for(var a in e)r.hasOwnProperty.call(e,a)&&void 0!==e[a]&&(n[a]=1);for(var i in t)r.hasOwnProperty.call(t,i)&&void 0!==t[i]&&delete n[i];return Object.keys(n)}function i(e){for(var t=e.length,n={},a=0;a<t;a++){var i=e[a];for(var o in i)r.hasOwnProperty.call(i,o)&&void 0!==i[o]&&(n[o]=(n[o]||0)+1)}for(var o in n)n[o]<t&&delete n[o];return Object.keys(n)}function o(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function s(e,t,n,r){void 0===r&&(r=u);var a={"0,0":{operations:[],cost:0}};var i=isNaN(e.length)||e.length<=0?0:e.length,s=isNaN(t.length)||t.length<=0?0:t.length,l=function i(s,l){var u="".concat(s,",").concat(l),c=a[u];if(void 0===c){if(s>0&&l>0&&!r(e[s-1],t[l-1],n.add(String(s-1))).length)c=i(s-1,l-1);else{var d=[];if(s>0){var p=i(s-1,l),f={op:"remove",index:s-1};d.push(o(p,f))}if(l>0){var h=i(s,l-1),m={op:"add",index:s-1,value:t[l-1]};d.push(o(h,m))}if(s>0&&l>0){var y=i(s-1,l-1),v={op:"replace",index:s-1,original:e[s-1],value:t[l-1]};d.push(o(y,v))}c=d.sort((function(e,t){return e.cost-t.cost}))[0]}a[u]=c}return c}(i,s).operations;return l.reduce((function(e,t){var a=e[0],o=e[1];if(function(e){return"add"===e.op}(t)){var s=t.index+1+o,l=s<i+o?String(s):"-",u={op:t.op,path:n.add(l).toString(),value:t.value};return[a.concat(u),o+1]}if(function(e){return"remove"===e.op}(t)){u={op:t.op,path:n.add(String(t.index+o)).toString()};return[a.concat(u),o-1]}var c=n.add(String(t.index+o)),d=r(t.original,t.value,c);return[a.concat.apply(a,d),o]}),[[],0])[0]}function l(e,t,n,r){void 0===r&&(r=u);var o=[];return a(e,t).forEach((function(e){o.push({op:"remove",path:n.add(e).toString()})})),a(t,e).forEach((function(e){o.push({op:"add",path:n.add(e).toString(),value:t[e]})})),i([e,t]).forEach((function(a){o.push.apply(o,r(e[a],t[a],n.add(a)))})),o}function u(e,t,n,a){if(void 0===a&&(a=u),e===t)return[];var i=(0,r.objectType)(e),o=(0,r.objectType)(t);return"array"==i&&"array"==o?s(e,t,n,a):"object"==i&&"object"==o?l(e,t,n,a):[{op:"replace",path:n.toString(),value:t}]}t.isDestructive=function(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t},t.subtract=a,t.intersection=i,t.diffArrays=s,t.diffObjects=l,t.diffAny=u},78:(e,t,n)=>{"use strict";t.B8=t.X6=void 0;var r=n(979);var a=n(392),i=n(147);function o(e,t){var n=r.Pointer.fromJSON(t).evaluate(e);if(void 0!==n)return{op:"test",path:t,value:n.value}}t.X6=function(e,t){return t.map((function(t){return(0,a.apply)(e,t)}))},t.B8=function(e,t,n){var a=new r.Pointer;return(n?function(e){return function t(n,r,a){var o=e(n,r,a);return Array.isArray(o)?o:(0,i.diffAny)(n,r,a,t)}}(n):i.diffAny)(e,t,a)}},392:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.apply=t.InvalidOperationError=t.test=t.copy=t.move=t.replace=t.remove=t.add=t.TestError=t.MissingError=void 0;var a=n(979),i=n(680),o=n(147),s=function(e){function t(t){var n=e.call(this,"Value required at path: ".concat(t))||this;return n.path=t,n.name="MissingError",n}return r(t,e),t}(Error);t.MissingError=s;var l=function(e){function t(t,n){var r=e.call(this,"Test failed: ".concat(t," != ").concat(n))||this;return r.actual=t,r.expected=n,r.name="TestError",r}return r(t,e),t}(Error);function u(e,t,n){if(Array.isArray(e))if("-"==t)e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function c(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function d(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.parent?new s(t.path):(u(n.parent,n.key,(0,i.clone)(t.value)),null)}function p(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.value?new s(t.path):(c(n.parent,n.key),null)}function f(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);if(null===n.parent)return new s(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new s(t.path)}else if(void 0===n.value)return new s(t.path);return n.parent[n.key]=(0,i.clone)(t.value),null}function h(e,t){var n=a.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new s(t.from);var r=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new s(t.path):(c(n.parent,n.key),u(r.parent,r.key,n.value),null)}function m(e,t){var n=a.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new s(t.from);var r=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new s(t.path):(u(r.parent,r.key,(0,i.clone)(n.value)),null)}function y(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return(0,o.diffAny)(n.value,t.value,new a.Pointer).length?new l(n.value,t.value):null}t.TestError=l,t.add=d,t.remove=p,t.replace=f,t.move=h,t.copy=m,t.test=y;var v=function(e){function t(t){var n=e.call(this,"Invalid operation: ".concat(t.op))||this;return n.operation=t,n.name="InvalidOperationError",n}return r(t,e),t}(Error);t.InvalidOperationError=v,t.apply=function(e,t){switch(t.op){case"add":return d(e,t);case"remove":return p(e,t);case"replace":return f(e,t);case"move":return h(e,t);case"copy":return m(e,t);case"test":return y(e,t)}return new v(t)}},979:(e,t)=>{"use strict";function n(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0}),t.Pointer=void 0;var a=function(){function e(e){void 0===e&&(e=[""]),this.tokens=e}return e.fromJSON=function(t){var r=t.split("/").map(n);if(""!==r[0])throw new Error("Invalid JSON Pointer: ".concat(t));return new e(r)},e.prototype.toString=function(){return this.tokens.map(r).join("/")},e.prototype.evaluate=function(e){for(var t=null,n="",r=e,a=1,i=this.tokens.length;a<i;a++)t=r,"__proto__"!=(n=this.tokens[a])&&"constructor"!=n&&"prototype"!=n&&(r=(t||{})[n]);return{parent:t,key:n,value:r}},e.prototype.get=function(e){return this.evaluate(e).value},e.prototype.set=function(e,t){var n=this.evaluate(e);n.parent&&(n.parent[n.key]=t)},e.prototype.push=function(e){this.tokens.push(e)},e.prototype.add=function(t){return new e(this.tokens.concat(String(t)))},e}();t.Pointer=a},680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty,t.objectType=function(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e},t.clone=function e(n){if(null==(r=n)||"object"!=typeof r)return n;var r;if(n.constructor==Array){for(var a=n.length,i=new Array(a),o=0;o<a;o++)i[o]=e(n[o]);return i}if(n.constructor==Date)return new Date(+n);var s={};for(var l in n)t.hasOwnProperty.call(n,l)&&(s[l]=e(n[l]));return s}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(y=!1,_(e),!m)if(null!==r(u))m=!0,D(E);else{var t=r(c);null!==t&&M(w,t.startTime-e)}}function E(e,n){m=!1,y&&(y=!1,g(N),N=-1),h=!0;var i=f;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!P());){var o=p.callback;if("function"===typeof o){p.callback=null,f=p.priorityLevel;var s=o(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&a(u),_(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,x=null,N=-1,T=5,I=-1;function P(){return!(t.unstable_now()-I<T)}function O(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?S():(k=!1,x=null)}}else k=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,A=C.port2;C.port1.onmessage=O,S=function(){A.postMessage(null)}}else S=function(){v(O,0)};function D(e){x=e,k||(k=!0,S())}function M(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(y?(g(N),N=-1):y=!0,M(w,i-o))):(e.sortIndex=s,n(u,e),m||h||(m=!0,D(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},132:function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,r=1,a={},i=!1,o=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},n=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;n=function(t){var n=o.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():n=function(e){setTimeout(u,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var o={callback:e,args:t};return a[r]=o,n(r),r++},s.clearImmediate=l}function l(e){delete a[e]}function u(e){if(i)setTimeout(u,0,e);else{var n=a[e];if(n){i=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{l(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".e98383ce.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="poker-roguelike:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,o=r[0],s=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkpoker_roguelike=self.webpackChunkpoker_roguelike||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>wr,Encoder:()=>br,PacketType:()=>gr,protocol:()=>vr});var t={};n.r(t),n.d(t,{Il:()=>os,c3:()=>us,S$:()=>ls,Commands:()=>Qo,pB:()=>Jo,i8:()=>Cs,WH:()=>ts,nC:()=>Ms,QB:()=>xs,Ew:()=>Ds,Tk:()=>Xo,eV:()=>Ts,_F:()=>Os,dA:()=>As,KJ:()=>es,jJ:()=>as,_E:()=>Ps,lp:()=>Is});var r=n(43),a=n(391),i=(n(908),n(78));let o=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var f="function"===typeof Symbol&&Symbol.observable||"@@observable",h=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function y(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function v(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(p(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(p(1));return n(v)(e,t)}if("function"!==typeof e)throw new Error(p(2));var a=e,i=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(p(3));return i}function d(e){if("function"!==typeof e)throw new Error(p(4));if(l)throw new Error(p(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(p(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!y(e))throw new Error(p(7));if("undefined"===typeof e.type)throw new Error(p(8));if(l)throw new Error(p(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:m.INIT}),(r={dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(p(10));a=e,h({type:m.REPLACE})}})[f]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(p(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[f]=function(){return this},e},r}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(p(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return r=g.apply(void 0,i)(n.dispatch),d(d({},n),{},{dispatch:r})}}}function _(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function w(e){return!!e&&!!e[le]}function E(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ue}(e)||Array.isArray(e)||!!e[se]||!!(null===(t=e.constructor)||void 0===t?void 0:t[se])||P(e)||O(e))}function S(e,t,n){void 0===n&&(n=!1),0===k(e)?(n?Object.keys:ce)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function k(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:P(e)?2:O(e)?3:0}function x(e,t){return 2===k(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){return 2===k(e)?e.get(t):e[t]}function T(e,t,n){var r=k(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function I(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function P(e){return re&&e instanceof Map}function O(e){return ae&&e instanceof Set}function C(e){return e.o||e.t}function A(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[le];for(var n=ce(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function D(e,t){return void 0===t&&(t=!1),R(e)||w(e)||!E(e)||(k(e)>1&&(e.set=e.add=e.clear=e.delete=M),Object.freeze(e),t&&S(e,(function(e,t){return D(t,!0)}),!0)),e}function M(){_(2)}function R(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function L(e){var t=pe[e];return t||_(18,e),t}function j(){return te}function U(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function B(e){z(e),e.p.forEach(G),e.p=null}function z(e){e===te&&(te=e.l)}function F(e){return te={p:[],l:te,h:e,m:!0,_:0}}function G(e){var t=e[le];0===t.i||1===t.i?t.j():t.g=!0}function V(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||L("ES5").S(t,e,r),r?(n[le].P&&(B(t),_(4)),E(e)&&(e=H(t,e),t.l||q(t,e)),t.u&&L("Patches").M(n[le].t,e,t.u,t.s)):e=H(t,n,[]),B(t),t.u&&t.v(t.u,t.s),e!==oe?e:void 0}function H(e,t,n){if(R(t))return t;var r=t[le];if(!r)return S(t,(function(a,i){return Z(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return q(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=A(r.k):r.o,i=a,o=!1;3===r.i&&(i=new Set(a),a.clear(),o=!0),S(i,(function(t,i){return Z(e,r,a,t,i,n,o)})),q(e,a,!1),n&&e.u&&L("Patches").N(r,n,e.u,e.s)}return r.o}function Z(e,t,n,r,a,i,o){if(w(a)){var s=H(e,a,i&&t&&3!==t.i&&!x(t.R,r)?i.concat(r):void 0);if(T(n,r,s),!w(s))return;e.m=!1}else o&&n.add(a);if(E(a)&&!R(a)){if(!e.h.D&&e._<1)return;H(e,a),t&&t.A.l||q(e,a)}}function q(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&D(t,n)}function K(e,t){var n=e[le];return(n?C(n):e)[t]}function W(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Y(e){e.P||(e.P=!0,e.l&&Y(e.l))}function $(e){e.o||(e.o=A(e.t))}function J(e,t,n){var r=P(t)?L("MapSet").F(t,n):O(t)?L("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:j(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=fe;n&&(a=[r],i=he);var o=Proxy.revocable(a,i),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):L("ES5").J(t,n);return(n?n.A:j()).p.push(r),r}function Q(e){return w(e)||_(22,e),function e(t){if(!E(t))return t;var n,r=t[le],a=k(t);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=X(t,a),r.I=!1}else n=X(t,a);return S(n,(function(t,a){r&&N(r.t,t)===a||T(n,t,e(a))})),3===a?new Set(n):n}(e)}function X(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return A(e)}var ee,te,ne="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),re="undefined"!=typeof Map,ae="undefined"!=typeof Set,ie="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oe=ne?Symbol.for("immer-nothing"):((ee={})["immer-nothing"]=!0,ee),se=ne?Symbol.for("immer-draftable"):"__$immer_draftable",le=ne?Symbol.for("immer-state"):"__$immer_state",ue=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return ce(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},pe={},fe={get:function(e,t){if(t===le)return e;var n=C(e);if(!x(n,t))return function(e,t,n){var r,a=W(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!E(r)?r:r===K(e.t,t)?($(e),e.o[t]=J(e.A.h,r,e)):r},has:function(e,t){return t in C(e)},ownKeys:function(e){return Reflect.ownKeys(C(e))},set:function(e,t,n){var r=W(C(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=K(C(e),t),i=null==a?void 0:a[le];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(I(n,a)&&(void 0!==n||x(e.t,t)))return!0;$(e),Y(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==K(e.t,t)||t in e.t?(e.R[t]=!1,$(e),Y(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=C(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){_(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_(12)}},he={};S(fe,(function(e,t){he[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),he.deleteProperty=function(e,t){return he.set.call(this,e,t,void 0)},he.set=function(e,t,n){return fe.set.call(this,e[0],t,n,e[0])};var me=function(){function e(e){var t=this;this.O=ie,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&_(6),void 0!==r&&"function"!=typeof r&&_(7),E(e)){var s=F(t),l=J(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?B(s):z(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return U(s,r),V(e,s)}),(function(e){throw B(s),e})):(U(s,r),V(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===oe&&(o=void 0),t.D&&D(o,!0),r){var c=[],d=[];L("Patches").M(e,o,c,d),r(c,d)}return o}_(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){E(e)||_(8),w(e)&&(e=Q(e));var t=F(this),n=J(this,e,void 0);return n[le].C=!0,z(t),n},t.finishDraft=function(e,t){var n=(e&&e[le]).A;return U(n,t),V(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ie&&_(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=L("Patches").$;return w(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),ye=new me,ve=ye.produce;ye.produceWithPatches.bind(ye),ye.setAutoFreeze.bind(ye),ye.setUseProxies.bind(ye),ye.applyPatches.bind(ye),ye.createDraft.bind(ye),ye.finishDraft.bind(ye);const ge=ve;class be{constructor(e){const t=function(){let e=4022871197;const t=function(t){const n=t.toString();for(let r=0;r<n.length;r++){e+=n.charCodeAt(r);let t=.02519603282416938*e;e=t>>>0,t-=e,t*=e,e=t>>>0,t-=e,e+=4294967296*t}return 2.3283064365386963e-10*(e>>>0)};return t}();this.c=1,this.s0=t(" "),this.s1=t(" "),this.s2=t(" "),this.s0-=t(e),this.s0<0&&(this.s0+=1),this.s1-=t(e),this.s1<0&&(this.s1+=1),this.s2-=t(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function _e(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function we(e,t){const n=new be(e),r=n.next.bind(n);return t&&_e(t,n),r.state=()=>_e(n,{}),r}class Ee{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,t=we(e.prngstate?"":e.seed,e.prngstate),n=t();return this.state={...e,prngstate:t.state()},n}api(){const e=this._random.bind(this),t={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},n={};for(const r in t){const a=t[r];n[r]=t=>void 0===t?Math.floor(e()*a)+1:Array.from({length:t}).map((()=>Math.floor(e()*a)+1))}return{...n,Die:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n=arguments.length>1?arguments[1]:void 0;return void 0===n?Math.floor(e()*t)+1:Array.from({length:n}).map((()=>Math.floor(e()*t)+1))},Number:()=>e(),Shuffle:t=>{const n=[...t];let r=t.length,a=0;const i=Array.from({length:r});for(;r;){const t=Math.trunc(r*e());i[a++]=n[t],n[t]=n[--r]}return i},_private:this}}}const Se={name:"random",noClient:e=>{let{api:t}=e;return t._private.isUsed()},flush:e=>{let{api:t}=e;return t._private.getState()},api:e=>{let{data:t}=e;return new Ee(t).api()},setup:e=>{let{game:t}=e,{seed:n}=t;return void 0===n&&(n=Ee.seed()),{seed:n}},playerView:()=>{}},ke="MAKE_MOVE",xe="GAME_EVENT",Ne="REDO",Te="RESET",Ie="SYNC",Pe="UNDO",Oe="UPDATE",Ce="PATCH",Ae="PLUGIN",De="STRIP_TRANSIENTS",Me=(e,t,n,r)=>({type:ke,payload:{type:e,args:t,playerID:n,credentials:r}}),Re=(e,t,n,r)=>({type:xe,payload:{type:e,args:t,playerID:n,credentials:r}}),Le=(e,t,n,r)=>({type:xe,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),je=e=>({type:Ie,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),Ue=(e,t,n,r)=>({type:Ce,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),Be=(e,t)=>({type:Oe,state:e,deltalog:t,clientOnly:!0}),ze=e=>({type:Te,state:e,clientOnly:!0}),Fe=(e,t)=>({type:Pe,payload:{type:null,args:null,playerID:e,credentials:t}}),Ge=(e,t)=>({type:Ne,payload:{type:null,args:null,playerID:e,credentials:t}}),Ve=()=>({type:De});var He=Object.freeze({__proto__:null,makeMove:Me,gameEvent:Re,automaticGameEvent:Le,sync:je,patch:Ue,update:Be,reset:ze,undo:Fe,redo:Ge,plugin:(e,t,n,r)=>({type:Ae,payload:{type:e,args:t,playerID:n,credentials:r}}),stripTransients:Ve});const Ze="INVALID_MOVE",qe={name:"plugin-immer",fnWrap:e=>function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];let i=!1;const o=ge(t.G,(n=>{const a=e({...t,G:n},...r);if(a!==Ze)return a;i=!0}));return i?Ze:o}};var Ke,We;!function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"}(Ke||(Ke={})),function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks \u2014 the turn is already ending.",e.MaxTurnEndings="Maximum number of turn endings exceeded for this update.\nThis likely means game code is triggering an infinite loop.",e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phase\u2019s `onEnd` hook \u2014 the phase is already ending.\nIf you\u2019re trying to dynamically choose the next phase when a phase ends, use the phase\u2019s `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase\u2019s `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."}(We||(We={}));class Ye{constructor(e,t,n){this.flow=e,this.playerID=n,this.dispatch=[],this.initialTurn=t.turn,this.updateTurnContext(t,void 0),this.maxEndedTurnsPerAction=100*t.numPlayers}api(){var e=this;const t={_private:this};for(const n of this.flow.eventNames)t[n]=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e.dispatch.push({type:n,args:r,phase:e.currentPhase,turn:e.currentTurn,calledFrom:e.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(e,t){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=t}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const t=e,n=(e,n)=>{let{stack:r}=e;return{...t,plugins:{...t.plugins,events:{...t.plugins.events,data:{error:n+"\n"+r}}}}};e:for(let r=0;r<this.dispatch.length;r++){const t=this.dispatch[r],a=t.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return n(t.error,We.MaxTurnEndings);if(void 0===t.calledFrom)return n(t.error,We.CalledOutsideHook);if(e.ctx.gameover)break e;switch(t.type){case"endStage":case"setStage":case"setActivePlayers":switch(t.calledFrom){case Ke.TURN_ON_END:case Ke.PHASE_ON_END:return n(t.error,We.StageEventInOnEnd);case Ke.PHASE_ON_BEGIN:return n(t.error,We.StageEventInPhaseBegin);case Ke.TURN_ON_BEGIN:if("setActivePlayers"===t.type)break;return n(t.error,We.StageEventInTurnBegin)}if(a)continue e;break;case"endTurn":if(t.calledFrom===Ke.TURN_ON_END||t.calledFrom===Ke.PHASE_ON_END)return n(t.error,We.EndTurnInOnEnd);if(a)continue e;break;case"endPhase":case"setPhase":if(t.calledFrom===Ke.PHASE_ON_END)return n(t.error,We.PhaseEventInOnEnd);if(t.phase!==e.ctx.phase)continue e}const i=Le(t.type,t.args,this.playerID);e=this.flow.processEvent(e,i)}return e}}const $e={name:"events",noClient:e=>{let{api:t}=e;return t._private.isUsed()},isInvalid:e=>{let{data:t}=e;return t.error||!1},fnWrap:(e,t)=>function(n){const r=n.events;r&&r._private.updateTurnContext(n.ctx,t);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];const s=e(n,...i);return r&&r._private.unsetCurrentMethod(),s},dangerouslyFlushRawState:e=>{let{state:t,api:n}=e;return n._private.update(t)},api:e=>{let{game:t,ctx:n,playerID:r}=e;return new Ye(t.flow,n,r).api()}};const Je=()=>{},Qe=function(){return console.error(...arguments)};function Xe(e){Je("INFO: ".concat(e))}function et(e){Qe("ERROR:",e)}const tt=[qe,Se,{name:"log",flush:()=>({}),api:e=>{let{data:t}=e;return{setMetadata:e=>{t.metadata=e}}},setup:()=>({})},{name:"plugin-serializable",fnWrap:e=>function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e(t,...r)}}],nt=[...tt,$e],rt=e=>{let{plugins:t}=e;return Object.entries(t||{}).reduce(((e,t)=>{let[n,{api:r}]=t;return e[n]=r,e}),{})},at=(e,t,n)=>[...tt,...n,$e].filter((e=>void 0!==e.fnWrap)).reduce(((e,n)=>{let{fnWrap:r}=n;return r(e,t)}),e),it=(e,t)=>([...nt,...t.game.plugins].filter((e=>void 0!==e.api)).forEach((n=>{const r=n.name,a=e.plugins[r]||{data:{}},i=n.api({G:e.G,ctx:e.ctx,data:a.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...a,api:i}}}})),e),ot=(e,t)=>{const n=((e,t)=>([...tt,...t.game.plugins,$e].reverse().forEach((n=>{const r=n.name,a=e.plugins[r]||{data:{}};if(n.flush){const r=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:a.api,data:a.data});e={...e,plugins:{...e.plugins,[n.name]:{data:r}}}}else if(n.dangerouslyFlushRawState){const i=(e=n.dangerouslyFlushRawState({state:e,game:t.game,api:a.api,data:a.data})).plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:i}}}}})),e))(e,t),r=((e,t)=>{const n=[...nt,...t.game.plugins].filter((e=>void 0!==e.isInvalid)).map((n=>{const{name:r}=n,a=e.plugins[r],i=n.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:a&&a.data});return!!i&&{plugin:r,message:i}})).find((e=>e));return n||!1})(n,t);if(!r)return[n];const{plugin:a,message:i}=r;return et("".concat(a," plugin declared action invalid:\n").concat(i)),[e,r]},st=(e,t)=>{let{G:n,ctx:r,plugins:a={}}=e,{game:i,playerID:o}=t;return[...nt,...i.plugins].forEach((e=>{let{name:t,playerView:s}=e;if(!s)return;const{data:l}=a[t]||{data:{}},u=s({G:n,ctx:r,game:i,data:l,playerID:o});a={...a,[t]:{data:u}}})),a};function lt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function ut(e,t){let n={},r=[],a=null,i={},o={};if(Array.isArray(t)){const e={};t.forEach((t=>e[t]=ft.NULL)),n=e}else{if(lt(t),t.next&&(a=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),void 0!==t.currentPlayer&&ct(n,i,o,e.currentPlayer,t.currentPlayer),void 0!==t.others)for(let r=0;r<e.playOrder.length;r++){const a=e.playOrder[r];a!==e.currentPlayer&&ct(n,i,o,a,t.others)}if(void 0!==t.all)for(let r=0;r<e.playOrder.length;r++){ct(n,i,o,e.playOrder[r],t.all)}if(t.value)for(const e in t.value)ct(n,i,o,e,t.value[e]);if(t.minMoves)for(const e in n)void 0===i[e]&&(i[e]=t.minMoves);if(t.maxMoves)for(const e in n)void 0===o[e]&&(o[e]=t.maxMoves)}0===Object.keys(n).length&&(n=null),0===Object.keys(i).length&&(i=null),0===Object.keys(o).length&&(o=null);const s={};for(const l in n)s[l]=0;return{...e,activePlayers:n,_activePlayersMinMoves:i,_activePlayersMaxMoves:o,_activePlayersNumMoves:s,_prevActivePlayers:r,_nextActivePlayers:a}}function ct(e,t,n,r,a){"object"===typeof a&&a!==ft.NULL||(a={stage:a}),void 0!==a.stage&&(lt(a),e[r]=a.stage,a.minMoves&&(t[r]=a.minMoves),a.maxMoves&&(n[r]=a.maxMoves))}function dt(e,t){return e[t]+""}const pt={DEFAULT:{first:e=>{let{ctx:t}=e;return 0===t.turn?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length},next:e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.playOrder.length}},RESET:{first:()=>0,next:e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.playOrder.length}},CONTINUE:{first:e=>{let{ctx:t}=e;return t.playOrderPos},next:e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.playOrder.length}},ONCE:{first:()=>0,next:e=>{let{ctx:t}=e;if(t.playOrderPos<t.playOrder.length-1)return t.playOrderPos+1}},CUSTOM:e=>({playOrder:()=>e,first:()=>0,next:e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.playOrder.length}}),CUSTOM_FROM:e=>({playOrder:t=>{let{G:n}=t;return n[e]},first:()=>0,next:e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.playOrder.length}})},ft={NULL:null};ft.NULL,ft.NULL,ft.NULL,ft.NULL;function ht(e){let{moves:t,phases:n,endIf:r,onEnd:a,turn:i,events:o,plugins:s}=e;void 0===t&&(t={}),void 0===o&&(o={}),void 0===s&&(s=[]),void 0===n&&(n={}),r||(r=()=>{}),a||(a=e=>{let{G:t}=e;return t}),i||(i={});const l={...n};""in l&&et("cannot specify phase with empty name"),l[""]={};const u={},c=new Set;let d=null;Object.keys(t).forEach((e=>c.add(e)));const p=(e,t)=>{const n=at(e,t,s);return e=>{const t=rt(e);return n({...t,G:e.G,ctx:e.ctx,playerID:e.playerID})}},f=e=>t=>{const n=rt(t);return e({...n,G:t.G,ctx:t.ctx})},h={onEnd:p(a,Ke.GAME_ON_END),endIf:f(r)};for(const R in l){const e=l[R];if(!0===e.start&&(d=R),void 0!==e.moves)for(const t of Object.keys(e.moves))u[R+"."+t]=e.moves[t],c.add(t);void 0===e.endIf&&(e.endIf=()=>{}),void 0===e.onBegin&&(e.onBegin=e=>{let{G:t}=e;return t}),void 0===e.onEnd&&(e.onEnd=e=>{let{G:t}=e;return t}),void 0===e.turn&&(e.turn=i),void 0===e.turn.order&&(e.turn.order=pt.DEFAULT),void 0===e.turn.onBegin&&(e.turn.onBegin=e=>{let{G:t}=e;return t}),void 0===e.turn.onEnd&&(e.turn.onEnd=e=>{let{G:t}=e;return t}),void 0===e.turn.endIf&&(e.turn.endIf=()=>!1),void 0===e.turn.onMove&&(e.turn.onMove=e=>{let{G:t}=e;return t}),void 0===e.turn.stages&&(e.turn.stages={}),lt(e.turn,!0);for(const t in e.turn.stages){const n=e.turn.stages[t].moves||{};for(const e of Object.keys(n)){u[R+"."+t+"."+e]=n[e],c.add(e)}}if(e.wrapped={onBegin:p(e.onBegin,Ke.PHASE_ON_BEGIN),onEnd:p(e.onEnd,Ke.PHASE_ON_END),endIf:f(e.endIf)},e.turn.wrapped={onMove:p(e.turn.onMove,Ke.TURN_ON_MOVE),onBegin:p(e.turn.onBegin,Ke.TURN_ON_BEGIN),onEnd:p(e.turn.onEnd,Ke.TURN_ON_END),endIf:f(e.turn.endIf)},"function"!==typeof e.next){const{next:t}=e;e.next=()=>t||null}e.wrapped.next=f(e.next)}function m(e){return e.phase?l[e.phase]:l[""]}function y(e){return e}function v(e,t){const n=new Set,r=new Set;for(let a=0;a<t.length;a++){const{fn:i,arg:o,...s}=t[a];if(i===P){r.clear();const t=e.ctx.phase;if(n.has(t)){const t={...e.ctx,phase:null};return{...e,ctx:t}}n.add(t)}const l=[];if(e=i(e,{...s,arg:o,next:l}),i===I)break;const u=x(e);if(u){t.push({fn:I,arg:u,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});continue}const c=N(e);if(c)t.push({fn:P,arg:c,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});else{if([y,S,k].includes(i)){const n=T(e);if(n){t.push({fn:O,arg:n,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});continue}}t.push(...l)}}return e}function g(e,t){let{next:n}=t;return n.push({fn:b}),e}function b(e,t){let{next:n}=t,{G:r,ctx:a}=e;return r=m(a).wrapped.onBegin(e),n.push({fn:_}),{...e,G:r,ctx:a}}function _(e,t){let{currentPlayer:n}=t,{ctx:r}=e;const a=m(r);n?(r={...r,currentPlayer:n},a.turn.activePlayers&&(r=ut(r,a.turn.activePlayers))):r=function(e,t){let{G:n,ctx:r}=e;const{numPlayers:a}=r,i={...rt(e),G:n,ctx:r},o=t.order;let s=[...Array.from({length:a})].map(((e,t)=>t+""));void 0!==o.playOrder&&(s=o.playOrder(i));const l=o.first(i),u=typeof l;"number"!==u&&et("invalid value returned by turn.order.first \u2014 expected number got ".concat(u," \u201c").concat(l,"\u201d."));const c=dt(s,l);return r={...r,currentPlayer:c,playOrderPos:l,playOrder:s},r=ut(r,t.activePlayers||{}),r}(e,a.turn);const i=r.turn+1;r={...r,turn:i,numMoves:0,_prevActivePlayers:[]};const o=a.turn.wrapped.onBegin({...e,ctx:r});return{...e,G:o,ctx:r,_undo:[],_redo:[]}}function w(e,t){let{arg:n,next:r,phase:a}=t;const i=m({phase:a});let{ctx:o}=e;if(n&&n.next){if(!(n.next in l))return et("invalid phase: "+n.next),e;o={...o,phase:n.next}}else o={...o,phase:i.wrapped.next(e)||null};return e={...e,ctx:o},r.push({fn:b}),e}function E(e,t){let{arg:n,currentPlayer:r,next:a}=t,{G:i,ctx:o}=e;const s=m(o),{endPhase:l,ctx:u}=function(e,t,n,r){const a=n.order;let{G:i,ctx:o}=e,s=o.playOrderPos,l=!1;if(r&&!0!==r)"object"!==typeof r&&et("invalid argument to endTurn: ".concat(r)),Object.keys(r).forEach((e=>{switch(e){case"remove":t=dt(o.playOrder,s);break;case"next":s=o.playOrder.indexOf(r.next),t=r.next;break;default:et("invalid argument to endTurn: ".concat(e))}}));else{const n={...rt(e),G:i,ctx:o},r=a.next(n),u=typeof r;void 0!==r&&"number"!==u&&et("invalid value returned by turn.order.next \u2014 expected number or undefined got ".concat(u," \u201c").concat(r,"\u201d.")),void 0===r?l=!0:(s=r,t=dt(o.playOrder,s))}return o={...o,playOrderPos:s,currentPlayer:t},{endPhase:l,ctx:o}}(e,r,s.turn,n);return o=u,e={...e,G:i,ctx:o},l?a.push({fn:P,turn:o.turn,phase:o.phase}):a.push({fn:_,currentPlayer:o.currentPlayer}),e}function S(e,t){let{arg:n,playerID:r}=t;if("string"!==typeof n&&n!==ft.NULL||(n={stage:n}),"object"!==typeof n)return e;lt(n);let{ctx:a}=e,{activePlayers:i,_activePlayersMinMoves:o,_activePlayersMaxMoves:s,_activePlayersNumMoves:l}=a;return void 0!==n.stage&&(null===i&&(i={}),i[r]=n.stage,l[r]=0,n.minMoves&&(null===o&&(o={}),o[r]=n.minMoves),n.maxMoves&&(null===s&&(s={}),s[r]=n.maxMoves)),a={...a,activePlayers:i,_activePlayersMinMoves:o,_activePlayersMaxMoves:s,_activePlayersNumMoves:l},{...e,ctx:a}}function k(e,t){let{arg:n}=t;return{...e,ctx:ut(e.ctx,n)}}function x(e){return h.endIf(e)}function N(e){return m(e.ctx).wrapped.endIf(e)}function T(e){const t=m(e.ctx),n=e.ctx.numMoves||0;return!!(t.turn.maxMoves&&n>=t.turn.maxMoves)||t.turn.wrapped.endIf(e)}function I(e,t){let{arg:n,phase:r}=t;e=P(e,{phase:r}),void 0===n&&(n=!0),e={...e,ctx:{...e.ctx,gameover:n}};const a=h.onEnd(e);return{...e,G:a}}function P(e,t){let{arg:n,next:r,turn:a,automatic:i}=t;e=O(e,{turn:a,force:!0,automatic:!0});const{phase:o,turn:s}=e.ctx;if(r&&r.push({fn:w,arg:n,phase:o}),null===o)return e;const l=m(e.ctx).wrapped.onEnd(e),u={...e.ctx,phase:null},c=Re("endPhase",n),{_stateID:d}=e,p={action:c,_stateID:d,turn:s,phase:o};i&&(p.automatic=!0);const f=[...e.deltalog||[],p];return{...e,G:l,ctx:u,deltalog:f}}function O(e,t){let{arg:n,next:r,turn:a,force:i,automatic:o,playerID:s}=t;if(a!==e.ctx.turn)return e;const{currentPlayer:l,numMoves:u,phase:c,turn:d}=e.ctx,p=m(e.ctx),f=u||0;if(!i&&p.turn.minMoves&&f<p.turn.minMoves)return Xe("cannot end turn before making ".concat(p.turn.minMoves," moves")),e;const h=p.turn.wrapped.onEnd(e);r&&r.push({fn:E,arg:n,currentPlayer:l});let y={...e.ctx,activePlayers:null};if(n&&n.remove){s=s||l;const t=y.playOrder.filter((e=>e!=s)),n=y.playOrderPos>t.length-1?0:y.playOrderPos;if(y={...y,playOrder:t,playOrderPos:n},0===t.length)return r.push({fn:P,turn:d,phase:c}),e}const v=Re("endTurn",n),{_stateID:g}=e,b={action:v,_stateID:g,turn:d,phase:c};o&&(b.automatic=!0);const _=[...e.deltalog||[],b];return{...e,G:h,ctx:y,deltalog:_,_undo:[],_redo:[]}}function C(e,t){let{arg:n,next:r,automatic:a,playerID:i}=t;i=i||e.ctx.currentPlayer;let{ctx:o,_stateID:s}=e,{activePlayers:l,_activePlayersNumMoves:u,_activePlayersMinMoves:c,_activePlayersMaxMoves:d,phase:p,turn:f}=o;const h=null!==l&&i in l,y=m(o);if(!n&&h){const e=y.turn.stages[l[i]];e&&e.next&&(n=e.next)}if(r&&r.push({fn:S,arg:n,playerID:i}),!h)return e;const v=u[i]||0;if(c&&c[i]&&v<c[i])return Xe("cannot end stage before making ".concat(c[i]," moves")),e;l={...l},delete l[i],c&&(c={...c},delete c[i]),d&&(d={...d},delete d[i]),o=function(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:a,_prevActivePlayers:i,_nextActivePlayers:o}=e;if(t&&0===Object.keys(t).length)if(o)e=ut(e,o),({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:a,_prevActivePlayers:i}=e);else if(i.length>0){const e=i.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:a}=i[e]),i=i.slice(0,e)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:a,_prevActivePlayers:i}}({...o,activePlayers:l,_activePlayersMinMoves:c,_activePlayersMaxMoves:d});const g={action:Re("endStage",n),_stateID:s,turn:f,phase:p};a&&(g.automatic=!0);const b=[...e.deltalog||[],g];return{...e,ctx:o,deltalog:b}}function A(e,n,r){const a=m(e),i=a.turn.stages,{activePlayers:o}=e;if(o&&void 0!==o[r]&&o[r]!==ft.NULL&&void 0!==i[o[r]]&&void 0!==i[o[r]].moves){const e=i[o[r]].moves;if(n in e)return e[n]}else if(a.moves){if(n in a.moves)return a.moves[n]}else if(n in t)return t[n];return null}const D={endStage:function(e,t){return v(e,[{fn:C,playerID:t}])},setStage:function(e,t,n){return v(e,[{fn:C,arg:n,playerID:t}])},endTurn:function(e,t,n){return v(e,[{fn:O,turn:e.ctx.turn,phase:e.ctx.phase,arg:n}])},pass:function(e,t,n){return v(e,[{fn:O,turn:e.ctx.turn,phase:e.ctx.phase,force:!0,arg:n}])},endPhase:function(e){return v(e,[{fn:P,phase:e.ctx.phase,turn:e.ctx.turn}])},setPhase:function(e,t,n){return v(e,[{fn:P,phase:e.ctx.phase,turn:e.ctx.turn,arg:{next:n}}])},endGame:function(e,t,n){return v(e,[{fn:I,turn:e.ctx.turn,phase:e.ctx.phase,arg:n}])},setActivePlayers:function(e,t,n){return v(e,[{fn:k,arg:n}])}},M=[];return!1!==o.endTurn&&M.push("endTurn"),!1!==o.pass&&M.push("pass"),!1!==o.endPhase&&M.push("endPhase"),!1!==o.setPhase&&M.push("setPhase"),!1!==o.endGame&&M.push("endGame"),!1!==o.setActivePlayers&&M.push("setActivePlayers"),!1!==o.endStage&&M.push("endStage"),!1!==o.setStage&&M.push("setStage"),{ctx:e=>({numPlayers:e,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:e})].map(((e,t)=>t+"")),playOrderPos:0,phase:d,activePlayers:null}),init:e=>v(e,[{fn:g}]),isPlayerActive:function(e,t,n){return t.activePlayers?n in t.activePlayers:t.currentPlayer===n},eventHandlers:D,eventNames:Object.keys(D),enabledEventNames:M,moveMap:u,moveNames:[...c.values()],processMove:function(e,t){const{playerID:n,type:r}=t,{currentPlayer:a,activePlayers:i,_activePlayersMaxMoves:o}=e.ctx,s=A(e.ctx,r,n),l=!s||"function"===typeof s||!0!==s.noLimit;let{numMoves:u,_activePlayersNumMoves:c}=e.ctx;l&&(n===a&&u++,i&&c[n]++),e={...e,ctx:{...e.ctx,numMoves:u,_activePlayersNumMoves:c}},o&&c[n]>=o[n]&&(e=C(e,{playerID:n,automatic:!0}));const d=m(e.ctx).turn.wrapped.onMove({...e,playerID:n});return v(e={...e,G:d},[{fn:y}])},processEvent:function(e,t){const{type:n,playerID:r,args:a}=t.payload;return"function"!==typeof D[n]?e:D[n](e,r,...Array.isArray(a)?a:[a])},getMove:A}}function mt(e){if(function(e){return void 0!==e.processMove}(e))return e;if(void 0===e.name&&(e.name="default"),void 0===e.deltaState&&(e.deltaState=!1),void 0===e.disableUndo&&(e.disableUndo=!1),void 0===e.setup&&(e.setup=()=>({})),void 0===e.moves&&(e.moves={}),void 0===e.playerView&&(e.playerView=e=>{let{G:t}=e;return t}),void 0===e.plugins&&(e.plugins=[]),e.plugins.forEach((e=>{if(void 0===e.name)throw new Error("Plugin missing name attribute");if(e.name.includes(" "))throw new Error(e.name+": Plugin name must not include spaces")})),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=ht(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map((e=>e.name)),processMove:(n,r)=>{let a=t.getMove(n.ctx,r.type,r.playerID);if(yt(a)&&(a=a.move),a instanceof Function){const t=at(a,Ke.MOVE,e.plugins);let i=[];void 0!==r.args&&(i=Array.isArray(r.args)?r.args:[r.args]);return t({...rt(n),G:n.G,ctx:n.ctx,playerID:r.playerID},...i)}return et("invalid move object: ".concat(r.type)),n.G}}}function yt(e){return e instanceof Object&&void 0!==e.move}var vt,gt;!function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"}(vt||(vt={})),function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"}(gt||(gt={}));const bt=e=>null!==e.payload.playerID&&void 0!==e.payload.playerID;function _t(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return"MAKE_MOVE"===t.action.type&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function wt(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},a=e.plugins.log.data.metadata;return void 0!==a&&(r.metadata=a),"object"===typeof n&&!0===n.redact?r.redact=!0:"object"===typeof n&&n.redact instanceof Function&&(r.redact=n.redact({G:e.G,ctx:e.ctx})),{...e,deltalog:[r]}}function Et(e,t,n){const[r,a]=ot(e,n);return a?[r,kt(t,gt.PluginActionInvalid,a)]:[r]}function St(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function kt(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const xt=e=>t=>n=>{const r=t(n);if(n.type===De)return r;{const[,t]=St(e.getState());return"undefined"!==typeof t?(e.dispatch(Ve()),{...r,transients:t}):r}};function Nt(e){let{game:t,isClient:n}=e;return t=mt(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,[a]=St(e);switch(r.type){case De:return a;case xe:{if(a={...a,deltalog:[]},n)return a;if(void 0!==a.ctx.gameover)return et("cannot call event after game end"),kt(a,gt.GameOver);if(bt(r)&&!t.flow.isPlayerActive(a.G,a.ctx,r.payload.playerID))return et("disallowed event: ".concat(r.payload.type)),kt(a,gt.InactivePlayer);a=it(a,{game:t,isClient:!1,playerID:r.payload.playerID});let e,i=t.flow.processEvent(a,r);return[i,e]=Et(i,a,{game:t,isClient:!1}),e?e:(i=_t(i,{game:t,action:r}),{...i,_stateID:a._stateID+1})}case ke:{const e=a={...a,deltalog:[]},i=t.flow.getMove(a.ctx,r.payload.type,r.payload.playerID||a.ctx.currentPlayer);if(null===i)return et("disallowed move: ".concat(r.payload.type)),kt(a,gt.UnavailableMove);if(n&&!1===i.client)return a;if(void 0!==a.ctx.gameover)return et("cannot make move after game end"),kt(a,gt.GameOver);if(bt(r)&&!t.flow.isPlayerActive(a.G,a.ctx,r.payload.playerID))return et("disallowed move: ".concat(r.payload.type)),kt(a,gt.InactivePlayer);a=it(a,{game:t,isClient:n,playerID:r.payload.playerID});const o=t.processMove(a,r.payload);if(o===Ze)return et("invalid move: ".concat(r.payload.type," args: ").concat(r.payload.args)),kt(a,gt.InvalidMove);const s={...a,G:o};if(n&&((e,t)=>[...nt,...t.game.plugins].filter((e=>void 0!==e.noClient)).map((n=>{const r=n.name,a=e.plugins[r];return!!a&&n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:a.api,data:a.data})})).includes(!0))(s,{game:t}))return a;if(a=s,n){let n;return[a,n]=Et(a,e,{game:t,isClient:!0}),n||{...a,_stateID:a._stateID+1}}let l;return a=wt(a,r,i),a=t.flow.processMove(a,r.payload),[a,l]=Et(a,e,{game:t}),l?l:(a=_t(a,{game:t,action:r}),{...a,_stateID:a._stateID+1})}case Te:case Oe:case Ie:return r.state;case Pe:{if(a={...a,deltalog:[]},t.disableUndo)return et("Undo is not enabled"),kt(a,gt.ActionDisabled);const{G:e,ctx:n,_undo:i,_redo:o,_stateID:s}=a;if(i.length<2)return et("No moves to undo"),kt(a,gt.ActionInvalid);const l=i[i.length-1],u=i[i.length-2];if(bt(r)&&r.payload.playerID!==l.playerID)return et("Cannot undo other players' moves"),kt(a,gt.ActionInvalid);if(l.moveType){if(!((e,t,n)=>!function(e){return void 0!==e.undoable}(n)||(n.undoable instanceof Function?n.undoable({G:e,ctx:t}):n.undoable))(e,n,t.flow.getMove(u.ctx,l.moveType,l.playerID)))return et("Move cannot be undone"),kt(a,gt.ActionInvalid)}return a=wt(a,r),{...a,G:u.G,ctx:u.ctx,plugins:u.plugins,_stateID:s+1,_undo:i.slice(0,-1),_redo:[l,...o]}}case Ne:{if(a={...a,deltalog:[]},t.disableUndo)return et("Redo is not enabled"),kt(a,gt.ActionDisabled);const{_undo:e,_redo:n,_stateID:i}=a;if(0===n.length)return et("No moves to redo"),kt(a,gt.ActionInvalid);const o=n[0];return bt(r)&&r.payload.playerID!==o.playerID?(et("Cannot redo other players' moves"),kt(a,gt.ActionInvalid)):(a=wt(a,r),{...a,G:o.G,ctx:o.ctx,plugins:o.plugins,_stateID:i+1,_undo:[...e,o],_redo:n.slice(1)})}case Ae:return((e,t,n)=>(n.game.plugins.filter((e=>void 0!==e.action)).filter((e=>e.name===t.payload.type)).forEach((n=>{const r=n.name,a=e.plugins[r]||{data:{}},i=n.action(a.data,t.payload);e={...e,plugins:{...e.plugins,[r]:{...a,data:i}}}})),e))(a,r,{game:t});case Ce:{const e=a,t=JSON.parse(JSON.stringify(e)),n=(0,i.X6)(t,r.patch);return n.some((e=>null!==e))?(et("Patch ".concat(JSON.stringify(r.patch)," apply failed")),kt(e,vt.PatchFailed,n)):t}default:return a}}}function Tt(e){let{game:t,numPlayers:n,setupData:r}=e;t=mt(t),n||(n=2);let a={G:{},ctx:t.flow.ctx(n),plugins:{}};a=((e,t)=>([...nt,...t.game.plugins].filter((e=>void 0!==e.setup)).forEach((n=>{const r=n.name,a=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:a}}}})),e))(a,{game:t}),a=it(a,{game:t,playerID:void 0});const i=rt(a);a.G=t.setup({...i,ctx:a.ctx},r);let o={...a,_undo:[],_redo:[],_stateID:0};return o=t.flow.init(o),[o]=ot(o,{game:t}),t.disableUndo||(o._undo=[{G:o.G,ctx:o.ctx,plugins:o.plugins}]),o}class It{constructor(e){let{transportDataCallback:t,gameName:n,playerID:r,matchID:a,credentials:i,numPlayers:o}=e;this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=a||"default",this.credentials=i,this.numPlayers=o||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}}class Pt extends It{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Ot=e=>new Pt(e);const Ct=new class{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[e]of this.clients){if(this.debugPanel)break;this.mountDebug(e)}}this.notifySubscribers()}subscribe(e){const t=Symbol();return this.subscribers.set(t,e),e(this.getState()),()=>{this.subscribers.delete(t)}}switchPlayerID(e){if(this.currentClient.multiplayer)for(const[t]of this.clients)if(t.playerID===e&&!1!==t.debugOpt&&t.multiplayer===this.currentClient.multiplayer)return void this.switchToClient(t);this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach((t=>{t(e)}))}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter((e=>!1!==e.debugOpt))}mountDebug(e){if(!1===e.debugOpt||null!==this.debugPanel||"undefined"===typeof document)return;let t,n=document.body;e.debugOpt&&!0!==e.debugOpt&&(t=e.debugOpt.impl||t,n=e.debugOpt.target||n),t&&(this.currentClient=e,this.debugPanel=new t({target:n,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}};function At(e,t,n){if(!n&&(null===e||void 0===e)){e=t.getState().ctx.currentPlayer}return e}function Dt(e,t,n,r,a,i){const o={};for(const s of t)o[s]=function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];const u=He[e](s,o,At(r,n,i),a);n.dispatch(u)};return o}const Mt=Dt.bind(null,"makeMove"),Rt=Dt.bind(null,"gameEvent"),Lt=Dt.bind(null,"plugin");class jt{constructor(e){let{game:t,debug:n,numPlayers:r,multiplayer:a,matchID:i,playerID:s,credentials:l,enhancer:u}=e;this.game=mt(t),this.playerID=s,this.matchID=i||"default",this.credentials=l,this.multiplayer=a,this.debugOpt=n,this.manager=Ct,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Nt({game:this.game,isClient:void 0!==a}),this.initialState=null,a||(this.initialState=Tt({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(ze(this.initialState))},this.undo=()=>{const e=Fe(At(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(e)},this.redo=()=>{const e=Ge(At(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(e)},this.log=[];const c=b(xt,(()=>e=>t=>{const n=e(t);return this.notifySubscribers(),n}),(e=>t=>n=>{const r=e.getState(),a=t(n);return"clientOnly"in n||n.type===De||this.transport.sendAction(r,n),a}),(e=>t=>n=>{const r=t(n),a=e.getState();switch(n.type){case ke:case xe:case Pe:case Ne:{const e=a.deltalog;this.log=[...this.log,...e];break}case Te:this.log=[];break;case Ce:case Oe:{let e=-1;this.log.length>0&&(e=this.log[this.log.length-1]._stateID);let t=n.deltalog||[];t=t.filter((t=>t._stateID>e)),this.log=[...this.log,...t];break}case Ie:this.initialState=n.initialState,this.log=n.log||[]}return r}));u=void 0!==u?g(c,u):c,this.store=v(this.reducer,this.initialState,u),a||(a=Ot),this.transport=a({transportDataCallback:e=>this.receiveTransportData(e),gameKey:t,game:this.game,matchID:i,playerID:s,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=e=>{this.transport.sendChatMessage(this.matchID,{id:o(7),sender:this.playerID,payload:e})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[t]=e.args;if(t===this.matchID)switch(e.type){case"sync":{const[,t]=e.args,n=je(t);this.receiveMatchData(t.filteredMetadata),this.store.dispatch(n);break}case"update":{const[,t,n]=e.args,r=this.store.getState();if(t._stateID>=r._stateID){const e=Be(t,n);this.store.dispatch(e)}break}case"patch":{const[,t,n,r,a]=e.args,i=this.store.getState()._stateID;if(t!==i)break;const o=Ue(t,n,r,a);this.store.dispatch(o),this.store.getState()._stateID===i&&this.transport.requestSync();break}case"matchData":{const[,t]=e.args;this.receiveMatchData(t);break}case"chat":{const[,t]=e.args;this.receiveChatMessage(t);break}}}notifySubscribers(){Object.values(this.subscribers).forEach((e=>e(this.getState())))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const t=Object.keys(this.subscribers).length;return this.subscribers[t]=e,this.transport.subscribeToConnectionStatus((()=>this.notifySubscribers())),!this._running&&this.multiplayer||e(this.getState()),()=>{delete this.subscribers[t]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(null!==this.gameStateOverride&&(e=this.gameStateOverride),null===e)return e;let t=!0;const n=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!n&&(t=!1),this.multiplayer||null===this.playerID||void 0===this.playerID||n||(t=!1),void 0!==e.ctx.gameover&&(t=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:st(e,this)}),{...e,log:this.log,isActive:t,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=Mt(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=Rt(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=Lt(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}const{parse:Ut,stringify:Bt}=JSON,{keys:zt}=Object;n(132);class Ft{constructor(e){let{enumerate:t,seed:n}=e;this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt(e){let{key:t,range:n,initial:r}=e;this._opts[t]={range:n,value:r}}getOpt(e){return this._opts[e].value}setOpt(e,t){e in this._opts&&(this._opts[e].value=t)}opts(){return this._opts}enumerate(e,t,n){return this.enumerateFn(e,t,n).map((e=>"payload"in e?e:"move"in e?Me(e.move,e.args,n):"event"in e?Re(e.event,e.args,n):void 0))}random(e){let t;if(void 0!==this.seed){const e=we(this.prngstate?"":this.seed,this.prngstate);t=e(),this.prngstate=e.state()}else t=Math.random();if(e){if(Array.isArray(e)){return e[Math.floor(t*e.length)]}return Math.floor(t*e)}return t}}class Gt extends Ft{constructor(e){let{enumerate:t,seed:n,objectives:r,game:a,iterations:i,playoutDepth:o,iterationCallback:s}=e;super({enumerate:t,seed:n}),void 0===r&&(r=()=>({})),this.objectives=r,this.iterationCallback=s||(()=>{}),this.reducer=Nt({game:a}),this.iterations=i,this.playoutDepth=o,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:"number"===typeof i?i:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:"number"===typeof o?o:50,range:{min:1,max:100}})}createNode(e){let{state:t,parentAction:n,parent:r,playerID:a}=e;const{G:i,ctx:o}=t;let s=[],l=[];if(void 0!==a)s=this.enumerate(i,o,a),l=this.objectives(i,o,a);else if(o.activePlayers)for(const u in o.activePlayers)s.push(...this.enumerate(i,o,u)),l.push(this.objectives(i,o,u));else s=this.enumerate(i,o,o.currentPlayer),l=this.objectives(i,o,o.currentPlayer);return{state:t,parent:r,parentAction:n,actions:s,objectives:l,children:[],visits:0,value:0}}select(e){if(e.actions.length>0)return e;if(0===e.children.length)return e;let t=null,n=0;for(const r of e.children){const a=r.visits+Number.EPSILON,i=r.value/a+Math.sqrt(2*Math.log(e.visits)/a);(null==t||i>n)&&(n=i,t=r)}return this.select(t)}expand(e){const t=e.actions;if(0===t.length||void 0!==e.state.ctx.gameover)return e;const n=this.random(t.length),r=t[n];e.actions.splice(n,1);const a=this.reducer(e.state,r),i=this.createNode({state:a,parentAction:r,parent:e});return e.children.push(i),i}playout(e){let{state:t}=e,n=this.getOpt("playoutDepth");"function"===typeof this.playoutDepth&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&void 0===t.ctx.gameover;r++){const{G:e,ctx:n}=t;let r=n.currentPlayer;n.activePlayers&&(r=Object.keys(n.activePlayers)[0]);const a=this.enumerate(e,n,r),i=this.objectives(e,n,r),o=Object.keys(i).reduce(((t,r)=>{const a=i[r];return a.checker(e,n)?t+a.weight:t}),0);if(o>0)return{score:o};if(!a||0===a.length)return;const s=this.random(a.length);t=this.reducer(t,a[s])}return t.ctx.gameover}backpropagate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.visits++,void 0!==t.score&&(e.value+=t.score),!0===t.draw&&(e.value+=.5),e.parentAction&&t.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,t)}play(e,t){const n=this.createNode({state:e,playerID:t});let r=this.getOpt("iterations");"function"===typeof this.iterations&&(r=this.iterations(e.G,e.ctx));const a=()=>{let e=null;for(const t of n.children)(null==e||t.visits>e.visits)&&(e=t);return{action:e&&e.parentAction,metadata:n}};return new Promise((e=>{const t=()=>{for(let e=0;e<25&&this.iterationCounter<r;e++){const e=this.select(n),t=this.expand(e),r=this.playout(t);this.backpropagate(t,r),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:r,metadata:n})};if(this.iterationCounter=0,this.getOpt("async")){const n=()=>{this.iterationCounter<r?(t(),setImmediate(n)):e(a())};n()}else{for(;this.iterationCounter<r;)t();e(a())}}))}}const Vt=(e,t)=>{if(!e||"string"!==typeof e)throw new Error("Expected ".concat(t,' string, got "').concat(e,'".'))},Ht=e=>Vt(e,"game name"),Zt=e=>Vt(e,"match ID"),qt=(e,t)=>{if(!e)throw new Error("Expected body, got \u201c".concat(e,"\u201d."));for(const n in t){const r=t[n],a=Array.isArray(r)?r:[r],i=e[n];if(!a.includes(typeof i)){const e=a.join("|");throw new TypeError("Expected body.".concat(n," to be of type ").concat(e,", got \u201c").concat(i,"\u201d."))}}};class Kt extends Error{constructor(e,t){super(e),this.details=t}}class Wt{constructor(){let{server:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.server=e.replace(/\/$/,"")}async request(e,t){const n=await fetch(this.server+e,t);if(!n.ok){let e;try{e=await n.clone().json()}catch{try{e=await n.text()}catch(et){e=et.message}}throw new Kt("HTTP status ".concat(n.status),e)}return n.json()}async post(e,t){let n={method:"post",body:JSON.stringify(t.body),headers:{"Content-Type":"application/json"}};return t.init&&(n={...n,...t.init,headers:{...n.headers,...t.init.headers}}),this.request(e,n)}async listGames(e){return this.request("/games",e)}async listMatches(e,t,n){Ht(e);let r="";if(t){const e=[],{isGameover:n,updatedBefore:a,updatedAfter:i}=t;void 0!==n&&e.push("isGameover=".concat(n)),a&&e.push("updatedBefore=".concat(a)),i&&e.push("updatedAfter=".concat(i)),e.length>0&&(r="?"+e.join("&"))}return this.request("/games/".concat(e).concat(r),n)}async getMatch(e,t,n){return Ht(e),Zt(t),this.request("/games/".concat(e,"/").concat(t),n)}async createMatch(e,t,n){return Ht(e),qt(t,{numPlayers:"number"}),this.post("/games/".concat(e,"/create"),{body:t,init:n})}async joinMatch(e,t,n,r){return Ht(e),Zt(t),qt(n,{playerID:["string","undefined"],playerName:"string"}),this.post("/games/".concat(e,"/").concat(t,"/join"),{body:n,init:r})}async leaveMatch(e,t,n,r){Ht(e),Zt(t),qt(n,{playerID:"string",credentials:"string"}),await this.post("/games/".concat(e,"/").concat(t,"/leave"),{body:n,init:r})}async updatePlayer(e,t,n,r){Ht(e),Zt(t),qt(n,{playerID:"string",credentials:"string"}),await this.post("/games/".concat(e,"/").concat(t,"/update"),{body:n,init:r})}async playAgain(e,t,n,r){return Ht(e),Zt(t),qt(n,{playerID:"string",credentials:"string"}),this.post("/games/".concat(e,"/").concat(t,"/playAgain"),{body:n,init:r})}}var Yt,$t=n(173),Jt=n.n($t),Qt=n(550);function Xt(e){return e.type()===Yt.SYNC}!function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"}(Yt||(Yt={}));class en{type(){return Yt.SYNC}connect(){}createMatch(e,t){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.","\nUsing the deprecated createGame method instead."),this.createGame(e,t);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.","\nUsing the deprecated listGames method instead."),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const tn=e=>{let{game:t,numPlayers:n,setupData:r,unlisted:a}=e;n&&"number"===typeof n||(n=2);const i=t.validateSetupData&&t.validateSetupData(r,n);if(void 0!==i)return{setupDataError:i};const o=(e=>{let{game:t,unlisted:n,setupData:r,numPlayers:a}=e;const i={gameName:t.name,unlisted:!!n,players:{},createdAt:Date.now(),updatedAt:Date.now()};void 0!==r&&(i.setupData=r);for(let o=0;o<a;o++)i.players[o]={id:o};return i})({game:t,numPlayers:n,setupData:r,unlisted:a});return{metadata:o,initialState:Tt({game:t,numPlayers:n,setupData:r})}},nn=e=>Object.values(e.players).map((e=>{const{credentials:t,...n}=e;return n}));class rn{constructor(e,t,n,r){this.game=mt(e),this.storageAPI=t,this.transportAPI=n,this.subscribeCallback=()=>{},this.auth=r}subscribe(e){this.subscribeCallback=e}async onUpdate(e,t,n,r){if(!e||!e.payload)return{error:"missing action or action payload"};let a;if(Xt(this.storageAPI)?({metadata:a}=this.storageAPI.fetch(n,{metadata:!0})):({metadata:a}=await this.storageAPI.fetch(n,{metadata:!0})),this.auth){if(!await this.auth.authenticateCredentials({playerID:r,credentials:e.payload.credentials,metadata:a}))return{error:"unauthorized action"}}const i=(e=>{const{credentials:t,...n}=e.payload;return{...e,payload:n}})(e),o=n;let s;if(Xt(this.storageAPI)?({state:s}=this.storageAPI.fetch(o,{state:!0})):({state:s}=await this.storageAPI.fetch(o,{state:!0})),void 0===s)return et("game not found, matchID=[".concat(o,"]")),{error:"game not found"};if(void 0!==s.ctx.gameover)return void et("game over - matchID=[".concat(o,"] - playerID=[").concat(r,"]")+" - action[".concat(i.payload.type,"]"));const l=v(Nt({game:this.game}),s,b(xt));if(i.type==Pe||i.type==Ne){const e=null!==s.ctx.activePlayers,t=s.ctx.currentPlayer===r;if(!e&&!t||e&&(void 0===s.ctx.activePlayers[r]||Object.keys(s.ctx.activePlayers).length>1))return void et("playerID=[".concat(r,"] cannot undo / redo right now"))}if(!this.game.flow.isPlayerActive(s.G,s.ctx,r))return void et("player not active - playerID=[".concat(r,"]")+" - action[".concat(i.payload.type,"]"));const u=i.type==ke?this.game.flow.getMove(s.ctx,i.payload.type,r):null;if(i.type==ke&&!u)return void et("move not processed - canPlayerMakeMove=false - playerID=[".concat(r,"]")+" - action[".concat(i.payload.type,"]"));if(s._stateID!==t&&!(u&&yt(u)&&u.ignoreStaleStateID))return void et("invalid stateID, was=[".concat(t,"], expected=[").concat(s._stateID,"]")+" - playerID=[".concat(r,"] - action[").concat(i.payload.type,"]"));const c=l.getState();l.dispatch(i),s=l.getState(),this.subscribeCallback({state:s,action:i,matchID:n}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[n,t,c,s]}):this.transportAPI.sendAll({type:"update",args:[n,s]});const{deltalog:d,...p}=s;let f;if(!a||void 0!==a.gameover&&null!==a.gameover||(f={...a,updatedAt:Date.now()},void 0!==s.ctx.gameover&&(f.gameover=s.ctx.gameover)),Xt(this.storageAPI))this.storageAPI.setState(o,p,d),f&&this.storageAPI.setMetadata(o,f);else{const e=[this.storageAPI.setState(o,p,d)];f&&e.push(this.storageAPI.setMetadata(o,f)),await Promise.all(e)}}async onSync(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const a=e,i={state:!0,metadata:!0,log:!0,initialState:!0},o=Xt(this.storageAPI)?this.storageAPI.fetch(a,i):await this.storageAPI.fetch(a,i);let{state:s,initialState:l,log:u,metadata:c}=o;if(this.auth&&void 0!==t&&null!==t){if(!await this.auth.authenticateCredentials({playerID:t,credentials:n,metadata:c}))return{error:"unauthorized"}}if(void 0===s){const t=tn({game:this.game,unlisted:!0,numPlayers:r,setupData:void 0});if("setupDataError"in t)return{error:"game requires setupData"};l=s=t.initialState,c=t.metadata,this.subscribeCallback({state:s,matchID:e}),Xt(this.storageAPI)?this.storageAPI.createMatch(a,{initialState:l,metadata:c}):await this.storageAPI.createMatch(a,{initialState:l,metadata:c})}const d={state:s,log:u,filteredMetadata:c?nn(c):void 0,initialState:l};this.transportAPI.send({playerID:t,type:"sync",args:[e,d]})}async onConnectionChange(e,t,n,r){const a=e;if(void 0===t||null===t)return;let i;if(Xt(this.storageAPI)?({metadata:i}=this.storageAPI.fetch(a,{metadata:!0})):({metadata:i}=await this.storageAPI.fetch(a,{metadata:!0})),void 0===i)return et("metadata not found for matchID=[".concat(a,"]")),{error:"metadata not found"};if(void 0===i.players[t])return et("Player not in the match, matchID=[".concat(a,"] playerID=[").concat(t,"]")),{error:"player not in the match"};if(this.auth){if(!await this.auth.authenticateCredentials({playerID:t,credentials:n,metadata:i}))return{error:"unauthorized"}}i.players[t].isConnected=r;const o=nn(i);this.transportAPI.sendAll({type:"matchData",args:[e,o]}),Xt(this.storageAPI)?this.storageAPI.setMetadata(a,i):await this.storageAPI.setMetadata(a,i)}async onChatMessage(e,t,n){const r=e;if(this.auth){const{metadata:e}=await this.storageAPI.fetch(r,{metadata:!0});if(!t||"string"!==typeof t.sender)return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:t.sender,credentials:n,metadata:e}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,t]})}}const an=(e,t,n)=>({...n,G:e.playerView({G:n.G,ctx:n.ctx,playerID:t}),plugins:st(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]});function on(e,t){return void 0===e?e:e.map((e=>{if(null!==t&&+t===+e.action.payload.playerID)return e;if(!0!==e.redact)return e;const n={...e.action.payload,args:null},r={...e,action:{...e.action,payload:n}},{redact:a,...i}=r;return i}))}const sn=Object.create(null);sn.open="0",sn.close="1",sn.ping="2",sn.pong="3",sn.message="4",sn.upgrade="5",sn.noop="6";const ln=Object.create(null);Object.keys(sn).forEach((e=>{ln[sn[e]]=e}));const un={type:"error",data:"parser error"},cn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),dn="function"===typeof ArrayBuffer,pn=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fn=(e,t,n)=>{let{type:r,data:a}=e;return cn&&a instanceof Blob?t?n(a):hn(a,n):dn&&(a instanceof ArrayBuffer||pn(a))?t?n(a):hn(new Blob([a]),n):n(sn[r]+(a||""))},hn=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function mn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yn;const vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gn="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)gn[vn.charCodeAt(n)]=n;const bn="function"===typeof ArrayBuffer,_n=(e,t)=>{if("string"!==typeof e)return{type:"message",data:En(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:wn(e.substring(1),t)};return ln[n]?e.length>1?{type:ln[n],data:e.substring(1)}:{type:ln[n]}:un},wn=(e,t)=>{if(bn){const n=(e=>{let t,n,r,a,i,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const u=new ArrayBuffer(o),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=gn[e.charCodeAt(t)],r=gn[e.charCodeAt(t+1)],a=gn[e.charCodeAt(t+2)],i=gn[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|a>>2,c[l++]=(3&a)<<6|63&i;return u})(e);return En(n,t)}return{base64:!0,data:e}},En=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Sn=String.fromCharCode(30);function kn(){return new TransformStream({transform(e,t){!function(e,t){cn&&e.data instanceof Blob?e.data.arrayBuffer().then(mn).then(t):dn&&(e.data instanceof ArrayBuffer||pn(e.data))?t(mn(e.data)):fn(e,!1,(e=>{yn||(yn=new TextEncoder),t(yn.encode(e))}))}(e,(n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)}))}})}let xn;function Nn(e){return e.reduce(((e,t)=>e+t.length),0)}function Tn(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function In(e){if(e)return function(e){for(var t in In.prototype)e[t]=In.prototype[t];return e}(e)}In.prototype.on=In.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},In.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},In.prototype.off=In.prototype.removeListener=In.prototype.removeAllListeners=In.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},In.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},In.prototype.emitReserved=In.prototype.emit,In.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},In.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Pn="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function On(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Cn=Pn.setTimeout,An=Pn.clearTimeout;function Dn(e,t){t.useNativeTimers?(e.setTimeoutFn=Cn.bind(Pn),e.clearTimeoutFn=An.bind(Pn)):(e.setTimeoutFn=Pn.setTimeout.bind(Pn),e.clearTimeoutFn=Pn.clearTimeout.bind(Pn))}class Mn extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Rn extends In{constructor(e){super(),this.writable=!1,Dn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Mn(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=_n(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Ln="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),jn=64,Un={};let Bn,zn=0,Fn=0;function Gn(e){let t="";do{t=Ln[e%jn]+t,e=Math.floor(e/jn)}while(e>0);return t}function Vn(){const e=Gn(+new Date);return e!==Bn?(zn=0,Bn=e):e+"."+Gn(zn++)}for(;Fn<jn;Fn++)Un[Ln[Fn]]=Fn;let Hn=!1;try{Hn="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ku){}const Zn=Hn;function qn(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Zn))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Pn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Kn(){}const Wn=null!=new qn({xdomain:!1}).responseType;class Yn extends In{constructor(e,t){super(),Dn(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=On(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new qn(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(r){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(r){return void this.setTimeoutFn((()=>{this.onError(r)}),0)}"undefined"!==typeof document&&(this.index=Yn.requestsCount++,Yn.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Kn,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete Yn.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Yn.requestsCount=0,Yn.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",$n);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Pn?"pagehide":"unload",$n,!1)}function $n(){for(let e in Yn.requests)Yn.requests.hasOwnProperty(e)&&Yn.requests[e].abort()}const Jn="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Qn=Pn.WebSocket||Pn.MozWebSocket,Xn="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const er={websocket:class extends Rn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Xn?{}:On(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Xn?new Qn(e,t,n):t?new Qn(e,t):new Qn(e)}catch(Ku){return this.emitReserved("error",Ku)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;fn(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(t){}r&&Jn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Qn}},webtransport:class extends Rn{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){xn||(xn=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===r){if(Nn(n)<1)break;const e=Tn(n,1);i=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(Nn(n)<2)break;const e=Tn(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Nn(n)<8)break;const e=Tn(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(un);break}a=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Nn(n)<a)break;const e=Tn(n,a);s.enqueue(_n(i?e:xn.decode(e),t)),r=0}if(0===a||a>e){s.enqueue(un);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=kn();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const a=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())})).catch((e=>{}))};a();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(i).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&Jn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Rn{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Wn&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Sn),r=[];for(let a=0;a<n.length;a++){const e=_n(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach(((e,i)=>{fn(e,!1,(e=>{r[i]=e,++a===n&&t(r.join(Sn))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vn()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Yn(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},tr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rr(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=tr.exec(e||""),i={},o=14;for(;o--;)i[nr[o]]=a[o]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}class ar extends In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=rr(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=rr(t.host).host),Dn(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new er[e](n)}open(){let e;if(this.opts.rememberUpgrade&&ar.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;ar.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ar.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){n||(n=!0,u(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function o(){i("transport closed")}function s(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const u=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",ar.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){ar.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}ar.protocol=4;ar.protocol;const ir="function"===typeof ArrayBuffer,or=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,sr=Object.prototype.toString,lr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===sr.call(Blob),ur="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===sr.call(File);function cr(e){return ir&&(e instanceof ArrayBuffer||or(e))||lr&&e instanceof Blob||ur&&e instanceof File}function dr(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(dr(e[t]))return!0;return!1}if(cr(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return dr(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&dr(e[n]))return!0;return!1}function pr(e){const t=[],n=e.data,r=e;return r.data=fr(n,t),r.attachments=t.length,{packet:r,buffers:t}}function fr(e,t){if(!e)return e;if(cr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=fr(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=fr(e[r],t));return n}return e}function hr(e,t){return e.data=mr(e.data,t),delete e.attachments,e}function mr(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=mr(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=mr(e[n],t));return e}const yr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vr=5;var gr;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(gr||(gr={}));class br{constructor(e){this.replacer=e}encode(e){return e.type!==gr.EVENT&&e.type!==gr.ACK||!dr(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===gr.EVENT?gr.BINARY_EVENT:gr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==gr.BINARY_EVENT&&e.type!==gr.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=pr(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function _r(e){return"[object Object]"===Object.prototype.toString.call(e)}class wr extends In{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===gr.BINARY_EVENT;n||t.type===gr.BINARY_ACK?(t.type=n?gr.EVENT:gr.ACK,this.reconstructor=new Er(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!cr(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===gr[n.type])throw new Error("unknown packet type "+n.type);if(n.type===gr.BINARY_EVENT||n.type===gr.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!wr.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case gr.CONNECT:return _r(t);case gr.DISCONNECT:return void 0===t;case gr.CONNECT_ERROR:return"string"===typeof t||_r(t);case gr.EVENT:case gr.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===yr.indexOf(t[0]));case gr.ACK:case gr.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Er{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=hr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Sr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const kr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xr extends In{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Sr(e,"open",this.onopen.bind(this)),Sr(e,"packet",this.onpacket.bind(this)),Sr(e,"error",this.onerror.bind(this)),Sr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(kr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:gr.EVENT,data:n,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),a.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a);this.acks[e]=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,[null,...n])}}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((t,r)=>{n.push(((e,n)=>a?e?r(e):t(n):t(e))),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gr.EVENT:case gr.BINARY_EVENT:this.onevent(e);break;case gr.ACK:case gr.BINARY_ACK:this.onack(e);break;case gr.DISCONNECT:this.ondisconnect();break;case gr.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:gr.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Nr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Nr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Nr.prototype.reset=function(){this.attempts=0},Nr.prototype.setMin=function(e){this.ms=e},Nr.prototype.setMax=function(e){this.max=e},Nr.prototype.setJitter=function(e){this.jitter=e};class Tr extends In{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Dn(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Nr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||e;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ar(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Sr(t,"open",(function(){n.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Sr(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Sr(e,"ping",this.onping.bind(this)),Sr(e,"data",this.ondata.bind(this)),Sr(e,"error",this.onerror.bind(this)),Sr(e,"close",this.onclose.bind(this)),Sr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Jn((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new xr(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ir={};function Pr(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=rr(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,i=n.path,o=Ir[a]&&i in Ir[a].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new Tr(r,t):(Ir[a]||(Ir[a]=new Tr(r,t)),s=Ir[a]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Pr,{Manager:Tr,Socket:xr,io:Pr,connect:Pr});class Or extends en{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,t){this.initial.set(e,t.initialState),this.setState(e,t.initialState),this.setMetadata(e,t.metadata)}setMetadata(e,t){this.metadata.set(e,t)}setState(e,t,n){if(n&&n.length>0){const t=this.log.get(e)||[];this.log.set(e,[...t,...n])}this.state.set(e,t)}fetch(e,t){const n={};return t.state&&(n.state=this.state.get(e)),t.metadata&&(n.metadata=this.metadata.get(e)),t.log&&(n.log=this.log.get(e)||[]),t.initialState&&(n.initialState=this.initial.get(e)),n}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter((t=>{let[,n]=t;if(!e)return!0;if(void 0!==e.gameName&&n.gameName!==e.gameName)return!1;if(void 0!==e.where){if(void 0!==e.where.isGameover){if(void 0!==n.gameover!==e.where.isGameover)return!1}if(void 0!==e.where.updatedBefore&&n.updatedAt>=e.where.updatedBefore)return!1;if(void 0!==e.where.updatedAfter&&n.updatedAt<=e.where.updatedAfter)return!1}return!0})).map((e=>{let[t]=e;return t}))}}class Cr extends Map{constructor(e){super(),this.key=e;(JSON.parse(localStorage.getItem(this.key))||[]).forEach((e=>this.set(...e)))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,t){return super.set(e,t),this.sync(),this}delete(e){const t=super.delete(e);return this.sync(),t}}class Ar extends Or{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bgio";super();const t=t=>new Cr("".concat(e,"_").concat(t));this.state=t("state"),this.initial=t("initial"),this.metadata=t("metadata"),this.log=t("log")}}class Dr extends rn{constructor(e){let{game:t,bots:n,storageKey:r,persist:a}=e;const o={},s={};if(t&&t.ai&&n)for(const i in n){const e=n[i];s[i]=new e({game:t,enumerate:t.ai.enumerate,seed:t.seed})}const l=e=>{let{playerID:t,...n}=e;const r=o[t];void 0!==r&&r(u(t,n))},u=(e=>(t,n)=>{switch(n.type){case"patch":{const[r,a,o,s]=n.args,l=on(s.deltalog,t),u=an(e,t,s),c=s._stateID,d=an(e,t,o);return{type:"patch",args:[r,a,c,(0,i.B8)(d,u),l]}}case"update":{const[r,a]=n.args,i=on(a.deltalog,t);return{type:"update",args:[r,an(e,t,a),i]}}case"sync":{const[r,a]=n.args,i=an(e,t,a.state),o=on(a.log,t);return{type:"sync",args:[r,{...a,state:i,log:o}]}}default:return n}})(t),c={send:l,sendAll:e=>{for(const t in o)l({playerID:t,...e})}};super(t,a?new Ar(r):new Or,c),this.connect=(e,t)=>{o[e]=t},this.subscribe((e=>{let{state:t,matchID:r}=e;if(!n)return;const a=function(e,t){if(void 0!==e.ctx.gameover)return null;if(e.ctx.activePlayers){for(const n of Object.keys(t))if(n in e.ctx.activePlayers)return n}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}(t,s);null!==a&&setTimeout((async()=>{const e=await s[a].play(t,a);await this.onUpdate(e.action,t._stateID,r,e.action.payload.playerID)}),100)}))}}class Mr extends It{constructor(e){let{master:t,...n}=e;super(n),this.master=t}sendChatMessage(e,t){const n=[e,t,this.credentials];this.master.onChatMessage(...n)}sendAction(e,t){this.master.onUpdate(t,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,(e=>this.notifyClient(e))),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const Rr=new Map;const Lr=Pr;class jr extends It{constructor(e){let{socket:t,socketOpts:n,server:r,...a}=e;super(a),this.server=r,this.socket=t,this.socketOpts=n}sendAction(e,t){const n=[t,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...n)}sendChatMessage(e,t){const n=[e,t,this.credentials];this.socket.emit("chat",...n)}connect(){if(!this.socket)if(this.server){let e=this.server;-1==e.search(/^https?:\/\//)&&(e="http://"+this.server),"/"!=e.slice(-1)&&(e+="/"),this.socket=Lr(e+this.gameName,this.socketOpts)}else this.socket=Lr("/"+this.gameName,this.socketOpts);this.socket.on("patch",((e,t,n,r,a)=>{this.notifyClient({type:"patch",args:[e,t,n,r,a]})})),this.socket.on("update",((e,t,n)=>{this.notifyClient({type:"update",args:[e,t,n]})})),this.socket.on("sync",((e,t)=>{this.notifyClient({type:"sync",args:[e,t]})})),this.socket.on("matchData",((e,t)=>{this.notifyClient({type:"matchData",args:[e,t]})})),this.socket.on("chat",((e,t)=>{this.notifyClient({type:"chat",args:[e,t]})})),this.socket.on("connect",(()=>{this.requestSync(),this.setConnectionStatus(!0)})),this.socket.on("disconnect",(()=>{this.setConnectionStatus(!1)}))}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function Ur(){let{server:e,socketOpts:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>new jr({server:e,socketOpts:t,...n})}function Br(e){var t;const{game:n,numPlayers:a,board:i,multiplayer:o,enhancer:s}=e;let{loading:l,debug:u}=e;if(void 0===l){l=()=>r.createElement("div",{className:"bgio-loading"},"connecting...")}return t=class extends r.Component{constructor(e){super(e),void 0===u&&(u=e.debug),this.client=function(e){return new jt(e)}({game:n,debug:u,numPlayers:a,multiplayer:o,matchID:e.matchID,playerID:e.playerID,credentials:e.credentials,enhancer:s})}componentDidMount(){this.unsubscribe=this.client.subscribe((()=>this.forceUpdate())),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(e){this.props.matchID!=e.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=e.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=e.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const e=this.client.getState();if(null===e)return r.createElement(l);let t=null;return i&&(t=r.createElement(i,{...e,...this.props,isMultiplayer:!!o,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),r.createElement("div",{className:"bgio-client"},t)}},t.propTypes={matchID:Jt().string,playerID:Jt().string,credentials:Jt().string,debug:Jt().any},t.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},t}class zr{constructor(e){let{server:t,gameComponents:n,playerName:r,playerCredentials:a}=e;this.client=new Wt({server:t}),this.gameComponents=n,this.playerName=r||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const t of e){if(!this._getGameComponents(t))continue;const{matches:e}=await this.client.listMatches(t);this.matches.push(...e)}}catch(et){throw new Error("failed to retrieve list of matches ("+et+")")}}_getMatchInstance(e){for(const t of this.matches)if(t.matchID===e)return t}_getGameComponents(e){for(const t of this.gameComponents)if(t.game.name===e)return t}_findPlayer(e){for(const t of this.matches)if(t.players.some((t=>t.name===e)))return t}async join(e,t,n){try{let r=this._findPlayer(this.playerName);if(r)throw new Error("player has already joined "+r.matchID);if(r=this._getMatchInstance(t),!r)throw new Error("game instance "+t+" not found");const a=await this.client.joinMatch(e,t,{playerID:n,playerName:this.playerName});r.players[Number.parseInt(n)].name=this.playerName,this.playerCredentials=a.playerCredentials}catch(et){throw new Error("failed to join match "+t+" ("+et+")")}}async leave(e,t){try{const n=this._getMatchInstance(t);if(!n)throw new Error("match instance not found");for(const r of n.players)if(r.name===this.playerName)return await this.client.leaveMatch(e,t,{playerID:r.id.toString(),credentials:this.playerCredentials}),delete r.name,void delete this.playerCredentials;throw new Error("player not found in match")}catch(et){throw new Error("failed to leave match "+t+" ("+et+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,t){try{const n=this._getGameComponents(e);if(!n)throw new Error("game not found");if(t<n.game.minPlayers||t>n.game.maxPlayers)throw new Error("invalid number of players "+t);await this.client.createMatch(e,{numPlayers:t})}catch(et){throw new Error("failed to create match for "+e+" ("+et+")")}}}class Fr extends r.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{""!==this.state.playerName&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{"Enter"===e.key&&this.onClickEnter()},this.onChangePlayerName=e=>{const t=e.target.value.trim();this.setState({playerName:t,nameErrorMsg:t.length>0?"":"empty player name"})}}render(){return r.createElement("div",null,r.createElement("p",{className:"phase-title"},"Choose a player name:"),r.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),r.createElement("span",{className:"buttons"},r.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),r.createElement("br",null),r.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,r.createElement("br",null)))}}Fr.defaultProps={playerName:""};class Gr extends r.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,t)=>r.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+t)},"Join"),this._createButtonLeave=e=>r.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,t)=>r.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+t,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>r.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const t=e.players.find((e=>e.name===this.props.playerName)),n=e.players.find((e=>!e.name));return t&&n?this._createButtonLeave(e):n?this._createButtonJoin(e,n.id):t?r.createElement("div",null,[this._createButtonPlay(e,t.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let t="OPEN";return e.players.some((e=>!e.name))||(t="RUNNING"),r.createElement("tr",{key:"line-"+e.matchID},r.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),r.createElement("td",{key:"cell-status-"+e.matchID},t),r.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map((e=>this._createSeat(e))).join(", ")),r.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Vr extends r.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(e,t)=>r.createElement("option",{key:"name-option-"+t,value:t},e.game.name),this._createNumPlayersOption=e=>r.createElement("option",{key:"num-option-"+e,value:e},e),this._createNumPlayersRange=e=>Array.from({length:e.maxPlayers+1}).map(((e,t)=>t)).slice(e.minPlayers),this.onChangeNumPlayers=e=>{this.setState({numPlayers:Number.parseInt(e.target.value)})},this.onChangeSelectedGame=e=>{const t=Number.parseInt(e.target.value);this.setState({selectedGame:t,numPlayers:this.props.games[t].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const t of e.games){const e=t.game;e.minPlayers||(e.minPlayers=1),e.maxPlayers||(e.maxPlayers=4),console.assert(e.maxPlayers>=e.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return r.createElement("div",null,r.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map(((e,t)=>this._createGameNameOption(e,t)))),r.createElement("span",null,"Players:"),r.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map((e=>this._createNumPlayersOption(e)))),r.createElement("span",{className:"buttons"},r.createElement("button",{onClick:this.onClickCreate},"Create")))}}var Hr;!function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"}(Hr||(Hr={}));class Zr extends r.Component{constructor(e){super(e),this.state={phase:Hr.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=e=>{const t=this.state.playerName;var n;this.connection=(n={server:e.lobbyServer,gameComponents:e.gameComponents,playerName:t,playerCredentials:this.state.credentialStore[t]},new zr(n))},this._updateCredentials=(e,t)=>{this.setState((n=>{const r=Object.assign({},n.credentialStore);return r[e]=t,{credentialStore:r}}))},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=e=>{this._startRefreshInterval(),this.setState({playerName:e,phase:Hr.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:Hr.ENTER,errorMsg:""})},this._createMatch=async(e,t)=>{try{await this.connection.create(e,t),await this.connection.refresh(),this.setState({})}catch(et){this.setState({errorMsg:et.message})}},this._joinMatch=async(e,t,n)=>{try{await this.connection.join(e,t,n),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(et){this.setState({errorMsg:et.message})}},this._leaveMatch=async(e,t)=>{try{await this.connection.leave(e,t),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(et){this.setState({errorMsg:et.message})}},this._startMatch=(e,t)=>{const n=this.connection._getGameComponents(e);if(!n)return void this.setState({errorMsg:"game "+e+" not supported"});let r;if(t.numPlayers>1&&(r=this.props.gameServer?Ur({server:this.props.gameServer}):Ur()),1==t.numPlayers){const e=n.game.maxPlayers,t={};for(let n=1;n<e;n++)t[n+""]=Gt;r=function(){let{bots:e,persist:t,storageKey:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=>{const{gameKey:a,game:i}=r;let o;const s=Rr.get(a);return s&&s.bots===e&&s.storageKey===n&&s.persist===t&&(o=s.master),o||(o=new Dr({game:i,bots:e,persist:t,storageKey:n}),Rr.set(a,{master:o,bots:e,persist:t,storageKey:n})),new Mr({master:o,...r})}}({bots:t})}const a={app:this.props.clientFactory({game:n.game,board:n.board,debug:this.props.debug,multiplayer:r}),matchID:t.matchID,playerID:t.numPlayers>1?t.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:Hr.PLAY,runningMatch:a})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:Hr.LIST,runningMatch:null})},this._getPhaseVisibility=e=>this.state.phase!==e?"hidden":"phase",this.renderMatches=(e,t)=>e.map((e=>{const{matchID:n,gameName:a,players:i}=e;return r.createElement(Gr,{key:"instance-"+n,match:{matchID:n,gameName:a,players:Object.values(i)},playerName:t,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})})),this._createConnection(this.props)}componentDidMount(){const e=Qt.Ay.load("lobbyState")||{};e.phase&&e.phase===Hr.PLAY&&(e.phase=Hr.LIST),e.phase&&e.phase!==Hr.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||Hr.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,t){const n=this.state.playerName,r=this.state.credentialStore[n];if(t.phase!==this.state.phase||t.credentialStore[n]!==r||t.playerName!==n){this._createConnection(this.props),this._updateConnection();const e={phase:this.state.phase,playerName:n,credentialStore:this.state.credentialStore};Qt.Ay.save("lobbyState",e,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:t}=this.props,{errorMsg:n,playerName:a,phase:i,runningMatch:o}=this.state;return t?t({errorMsg:n,gameComponents:e,matches:this.connection.matches,phase:i,playerName:a,runningMatch:o,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):r.createElement("div",{id:"lobby-view",style:{padding:50}},r.createElement("div",{className:this._getPhaseVisibility(Hr.ENTER)},r.createElement(Fr,{key:a,playerName:a,onEnter:this._enterLobby})),r.createElement("div",{className:this._getPhaseVisibility(Hr.LIST)},r.createElement("p",null,"Welcome, ",a),r.createElement("div",{className:"phase-title",id:"match-creation"},r.createElement("span",null,"Create a match:"),r.createElement(Vr,{games:e,createMatch:this._createMatch})),r.createElement("p",{className:"phase-title"},"Join a match:"),r.createElement("div",{id:"instances"},r.createElement("table",null,r.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),r.createElement("span",{className:"error-msg"},n,r.createElement("br",null))),r.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),r.createElement("div",{className:this._getPhaseVisibility(Hr.PLAY)},o&&r.createElement(o.app,{matchID:o.matchID,playerID:o.playerID,credentials:o.credentials}),r.createElement("div",{className:"buttons",id:"match-exit"},r.createElement("button",{onClick:this._exitMatch},"Exit match"))),r.createElement("div",{className:"buttons",id:"lobby-exit"},r.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}Zr.propTypes={gameComponents:Jt().array.isRequired,lobbyServer:Jt().string,gameServer:Jt().string,debug:Jt().bool,clientFactory:Jt().func,refreshInterval:Jt().number},Zr.defaultProps={debug:!1,clientFactory:Br,refreshInterval:2e3};const qr={STRIP_SECRETS:e=>{let{G:t,playerID:n}=e;const r={...t};return void 0!==r.secret&&delete r.secret,r.players&&(r.players=n?{[n]:r.players[n]}:{}),r}},Kr=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],Wr=["S","D","C","H"];let Yr=[];for(const n of Kr)for(const e of Wr)Yr.push("".concat(n).concat(e));function $r(e,t){e.push(t.splice(Math.floor(Math.random()*t.length),1)[0])}function Jr(e,t){let{G:n,playerID:r}=e;n.players[r].bet.push(t),n.players[r].hand.splice(n.players[r].hand.indexOf(t),1),$r(n.players[r].hand,n.players[r].deck),"0"===r?n.shared.bet[0].push("?"):n.shared.bet[1].push("?")}function Qr(e,t){let{G:n,playerID:r}=e;const a=n.players[r].played.indexOf(t);-1!==a?n.players[r].played.splice(a,-1):n.players[r].played.push(t)}function Xr(e,t){let{G:n,playerID:r}=e;n.players[r].played=t,n.players[r].played.forEach((e=>{n.players[r].hand.splice(n.players[r].hand.indexOf(e),1),$r(n.players[r].hand,n.players[r].deck)})),n.shared.played[r]=t.map((e=>"?"))}function ea(e){e.players[0].bet=[],e.players[1].bet=[],e.shared.bet={0:[],1:[]},e.players[0].played=[],e.players[1].played=[],e.shared.played[0]=[],e.shared.played[1]=[]}function ta(){const e={players:{0:{hand:[],played:[],bet:[],deck:Yr.slice(0,52),folded:!1,reset:!1},1:{hand:[],played:[],bet:[],deck:Yr.slice(0,52),folded:!1,reset:!1}},shared:{bet:{0:[],1:[]},played:{0:[],1:[]},hp:{0:50,1:50}},config:{BET_LIMIT:1,TOTAL_BET_LIMIT:3,PLAY_LIMIT:2,previous:["start"]}};for(const t in e.players){e.players[t].hand=[],e.players[t].bet=[],e.players[t].played=[];for(let n=0;n<6;n++)$r(e.players[t].hand,e.players[t].deck)}return console.log(ia(e.players[0].hand)),console.log(ia(e.players[1].hand)),e}const na={setup:ta,turn:{minMoves:1,maxMoves:1,onBegin:e=>{let{G:t,ctx:n,events:r,random:a,...i}=e;"bet"===n.phase&&t.shared.bet[0].length===t.shared.bet[1].length&&(t.shared.bet[0]=t.players[0].bet,t.shared.bet[1]=t.players[1].bet)}},moves:{betCard:Jr,playHand:Xr,addHand:Qr},phases:{bet:{moves:{betCard:Jr,fold:function(e){let{G:t,playerID:n,events:r}=e;t.players[n].folded=!0}},start:!0,next:e=>{let{G:t}=e;return t.players[0].folded||t.players[1].folded?"fold":"play"},onBegin:e=>{let{G:t,ctx:n}=e;t.shared.bet[0]=[],t.shared.bet[1]=[],t.players[0].bet=[],t.players[1].bet=[]},onEnd:e=>{let{G:t,ctx:n}=e;t.shared.bet[0]=t.players[0].bet,t.shared.bet[1]=t.players[1].bet},endIf:e=>{let{G:t,ctx:n}=e;return t.players[0].folded||t.players[1].folded||t.players[0].bet.length===t.config.TOTAL_BET_LIMIT&&t.players[1].bet.length===t.config.TOTAL_BET_LIMIT}},play:{moves:{addHand:Qr,playHand:Xr},next:"bet",onEnd:e=>{let{G:t,ctx:n,events:r}=e;const a=[...t.players[0].played,...t.players[0].bet,...t.players[1].bet],i=[...t.players[1].played,...t.players[0].bet,...t.players[1].bet];console.log(a,i);const o=ia(a),s=ia(i);console.log(o,s);let l=-1;o.rank<s.rank?l=0:o.rank>s.rank?l=1:(console.log(o.value.localeCompare(s.value)),l=o.value.localeCompare(s.value)>0?0:1),0===l?t.shared.hp[1]-=ra(t.players[0].bet):1===l?t.shared.hp[0]-=ra(t.players[1].bet):t.config.previous=[...t.config.previous,"draw"],-1!==l&&(t.config.previous=[...t.config.previous,"P0 played: ".concat(t.players[0].played,". P1 played: ").concat(t.players[1].played,"."),"Prev bets: P0: ".concat(t.players[0].bet,", P1: ").concat(t.players[1].bet," "),"".concat(0===l?"P0 won, P1 took ".concat(ra(t.players[0].bet)," dmg"):"P1 won, P0 took ".concat(ra(t.players[1].bet)," dmg"))]),ea(t),(t.shared.hp[0]<=0||t.shared.hp[1]<=0)&&r.setPhase("win")},endIf:e=>{let{G:t,ctx:n}=e;return t.players[0].played.length>0&&t.players[1].played.length>0}},fold:{moves:{},next:e=>{let{G:t}=e;return t.shared.hp[0]>0&&t.shared.hp[1]>0?"bet":"win"},onBegin:e=>{let{G:t,ctx:n}=e;console.log("folded"),t.players[0].folded?(t.shared.hp[0]-=ra(t.players[1].bet),t.config.previous=[...t.config.previous,"P0 folded, took ".concat(ra(t.players[1].bet)," dmg")]):t.players[1].folded&&(t.shared.hp[1]-=ra(t.players[0].bet),t.config.previous=[...t.config.previous,"P1 folded, took ".concat(ra(t.players[0].bet)," dmg")]),ea(t),t.players[0].folded=!1,t.players[1].folded=!1},endIf:e=>{let{G:t,ctx:n}=e;return!t.players[0].folded&&!t.players[1].folded}},win:{moves:{reset:function(e){let{G:t,playerID:n}=e;t.players[n].reset=!0}},next:"bet",onBegin:e=>{let{G:t,ctx:n}=e;t.shared.hp[0]<=0?t.config.previous=[...t.config.previous,"P1 win"]:t.shared.hp[1]<=0&&(t.config.previous=[...t.config.previous,"P0 win"])},onEnd:e=>{let{G:t,ctx:n,events:r}=e;ea(t),t=ta(),r.setPhase("bet")},endIf:e=>{let{G:t,ctx:n}=e;return t.players[0].reset&&t.players[1].reset}}},playerView:qr.STRIP_SECRETS,minPlayers:2,maxPlayers:2};function ra(e){const t={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,T:10,J:10,Q:10,K:10,A:11};return e.reduce(((e,n)=>e+t[n.split("")[0]]),0)}const aa="23456789TJQKA";function ia(e){const t=e,n=t.map((e=>String.fromCharCode([77-aa.indexOf(e[0])]))).sort(),r=t.map((e=>e[1])).sort(),a=n.reduce(c,{}),i=Object.values(a).reduce(c,{}),o=r.every((e=>r[0])),s=n[0].charCodeAt(0),l="AJKLM"===n.join("");n[0]=l?"N":n[0];const u=l||n.every(((e,t)=>e.charCodeAt(0)-s===t));return{rank:(o&&u?1:i[4]&&2)||i[3]&&i[2]&&3||o&&4||u&&5||i[3]&&6||i[2]>1&&7||i[2]&&8||9,value:n.sort((function(e,t){const n=a[t]-a[e];return n||(t>e?-1:t===e?0:1)})).join("")};function c(e,t){return e[t]=(e[t]||0)+1,e}}var oa=n(579);const sa={2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",T:"10",J:"J",Q:"Q",K:"K",A:"A","?":"?"},la={S:"\u2660",H:"\u2665",D:"\u2666",C:"\u2663","?":""};const ua=Br({game:na,board:function(e){let{ctx:t,G:n,moves:a,playerID:i}=e;const[o,s]=(0,r.useState)([]);function l(e){const t=e.target.getAttribute("card");-1!==o.indexOf(t)?s((e=>e.filter((e=>e!==t)))):s((e=>[...e,t]))}function u(e){const t=e.split("");return[sa[t[0]],(0,oa.jsx)("br",{}),la[t[1]]]}return(0,oa.jsxs)("div",{className:"game-container",children:[(0,oa.jsxs)("h3",{children:["You are Player ",i,".",(0,oa.jsx)("br",{}),"Player ",t.currentPlayer,"'s Turn to ",t.phase,"."]}),(0,oa.jsxs)("h4",{children:["Your HP: ",n.shared.hp[i],". Enemy HP: ",n.shared.hp["0"===i?"1":"0"]]}),console.log(n.config.previous),(0,oa.jsxs)("div",{className:"previous",children:["Previous Hand Played: ",n.config.previous.map((e=>(0,oa.jsx)("p",{children:e})))]}),"bet"===t.phase&&(0,oa.jsx)("button",{onClick:function(){a.fold()},children:"Fold"}),"win"!==t.phase&&(0,oa.jsx)("button",{onClick:function(){"bet"===t.phase?o.length===n.config.BET_LIMIT?(a.betCard(o[0]),s((e=>[]))):alert("Must bet ".concat(n.config.BET_LIMIT," card(s)")):"play"===t.phase&&(o.length<=n.config.PLAY_LIMIT?(a.playHand(o),s((e=>[]))):alert("Play hand cannot exceed ".concat(n.config.PLAY_LIMIT," card(s)")))},children:"bet"===t.phase?"Bet":"Play"}),"win"===t.phase&&(0,oa.jsx)("button",{onClick:()=>a.reset(),children:"Ready Reset"}),(0,oa.jsx)("div",{className:"display-container",children:(0,oa.jsxs)("div",{className:"upper-row",children:["play"===t.phase&&(0,oa.jsxs)("div",{className:"play-container",children:["Played:",(0,oa.jsx)("div",{className:"played-container",children:Object.keys(n.shared.played).map((e=>(0,oa.jsxs)("div",{className:"played-container-player",children:["Player ",e,":",(0,oa.jsx)("div",{className:"p1-bets",children:n.shared.played[e].map((e=>(0,oa.jsx)("div",{className:"card suit-".concat(e.split("")[1]),children:u(e)})))})]})))})]}),(0,oa.jsxs)("div",{className:"card-container",children:["Bets:",(0,oa.jsx)("div",{className:"bets-container",children:Object.keys(n.shared.bet).map((e=>(0,oa.jsxs)("div",{children:["Player ",e,":",(0,oa.jsx)("div",{className:"p1-bets",children:n.shared.bet[e].map((e=>(0,oa.jsx)("div",{className:"card suit-".concat(e.split("")[1]),children:u(e)})))})]})))})]})]})}),(0,oa.jsxs)("div",{className:"hand-container card-container",children:["Your Hand:",(0,oa.jsx)("div",{className:"p1-hand",children:n.players[i].hand.map((e=>(0,oa.jsx)("div",{card:e,className:"card suit-".concat(e.split("")[1]).concat(-1!==o.indexOf(e)?" selected":""),onClick:l,children:u(e)})))}),(0,oa.jsx)("div",{className:"deck",children:(0,oa.jsxs)("div",{className:"card",children:[n.players[i].deck.length," / 52"]})})]})]})},multiplayer:Ur({server:"https://poker-roguelike.onrender.com"})}),ca=()=>{const[e,t]=(0,r.useState)(null);return(0,oa.jsx)("div",{children:e?(0,oa.jsx)(ua,{playerID:e}):(0,oa.jsxs)("div",{children:[(0,oa.jsx)("button",{onClick:()=>t("0"),children:"Player 0"}),(0,oa.jsx)("button",{onClick:()=>t("1"),children:"Player 1"})]})})},da=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),r(e),a(e),i(e),o(e)}))};var pa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ha={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,a),!0;case 5:return c.fn.call(c.context,t,r,a,i),!0;case 6:return c.fn.call(c.context,t,r,a,i,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,a);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[i]=1===u.length?u[0]:u:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(ha);var ma,ya,va=fa(ha.exports);!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(ma||(ma={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ya||(ya={}));const ga=ma.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ba=e=>{switch(typeof e){case"undefined":return ga.undefined;case"string":return ga.string;case"number":return isNaN(e)?ga.nan:ga.number;case"boolean":return ga.boolean;case"function":return ga.function;case"bigint":return ga.bigint;case"symbol":return ga.symbol;case"object":return Array.isArray(e)?ga.array:null===e?ga.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?ga.promise:"undefined"!==typeof Map&&e instanceof Map?ga.map:"undefined"!==typeof Set&&e instanceof Set?ga.set:"undefined"!==typeof Date&&e instanceof Date?ga.date:ga.object;default:return ga.unknown}},_a=ma.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wa extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,ma.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}wa.create=e=>new wa(e);const Ea=(e,t)=>{let n;switch(e.code){case _a.invalid_type:n=e.received===ga.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case _a.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ma.jsonStringifyReplacer));break;case _a.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(ma.joinValues(e.keys,", "));break;case _a.invalid_union:n="Invalid input";break;case _a.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(ma.joinValues(e.options));break;case _a.invalid_enum_value:n="Invalid enum value. Expected ".concat(ma.joinValues(e.options),", received '").concat(e.received,"'");break;case _a.invalid_arguments:n="Invalid function arguments";break;case _a.invalid_return_type:n="Invalid function return type";break;case _a.invalid_date:n="Invalid date";break;case _a.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ma.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case _a.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case _a.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case _a.custom:n="Invalid input";break;case _a.invalid_intersection_types:n="Intersection results could not be merged";break;case _a.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case _a.not_finite:n="Number must be finite";break;default:n=t.defaultError,ma.assertNever(e)}return{message:n}};let Sa=Ea;function ka(){return Sa}const xa=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:a.message||s}};function Na(e,t){const n=xa({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ka(),Ea].filter((e=>!!e))});e.common.issues.push(n)}class Ta{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Ia;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t)n.push({key:await r.key,value:await r.value});return Ta.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return Ia;if("aborted"===a.status)return Ia;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Ia=Object.freeze({status:"aborted"}),Pa=e=>({status:"dirty",value:e}),Oa=e=>({status:"valid",value:e}),Ca=e=>"aborted"===e.status,Aa=e=>"dirty"===e.status,Da=e=>"valid"===e.status,Ma=e=>"undefined"!==typeof Promise&&e instanceof Promise;var Ra;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Ra||(Ra={}));class La{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ja=(e,t)=>{if(Da(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new wa(e.common.issues);return this._error=t,this._error}}};function Ua(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:"undefined"===typeof t.data?{message:null!==r&&void 0!==r?r:t.defaultError}:{message:null!==n&&void 0!==n?n:t.defaultError},description:a}}class Ba{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ba(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ta,ctx:{common:e.parent.common,data:e.data,parsedType:ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ma(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ba(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ja(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ba(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Ma(r)?r:Promise.resolve(r));return ja(n,a)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:_a.custom,...n(t)});return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Ni({schema:this,typeName:Ui.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ti.create(this,this._def)}nullable(){return Ii.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return si.create(this,this._def)}promise(){return xi.create(this,this._def)}or(e){return ci.create([this,e],this._def)}and(e){return hi.create(this,e,this._def)}transform(e){return new Ni({...Ua(this._def),schema:this,typeName:Ui.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Pi({...Ua(this._def),innerType:this,defaultValue:t,typeName:Ui.ZodDefault})}brand(){return new Di({typeName:Ui.ZodBranded,type:this,...Ua(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Oi({...Ua(this._def),innerType:this,catchValue:t,typeName:Ui.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Mi.create(this,e)}readonly(){return Ri.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const za=/^c[^\s-]{8,}$/i,Fa=/^[a-z][a-z0-9]*$/,Ga=/^[0-9A-HJKMNP-TV-Z]{26}$/,Va=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ha=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Za;const qa=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ka=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Wa extends Ba{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ga.string){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.string,received:t.parsedType}),Ia}const t=new Ta;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,a=e.data.length<s.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?Na(n,{code:_a.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Na(n,{code:_a.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)Ha.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"email",code:_a.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)Za||(Za=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Za.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"emoji",code:_a.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)Va.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"uuid",code:_a.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)za.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"cuid",code:_a.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Fa.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"cuid2",code:_a.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Ga.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"ulid",code:_a.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),Na(n,{validation:"url",code:_a.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{validation:"regex",code:_a.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){((i=s).precision?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(i.precision,"}(([+-]\\d{2}(:?\\d{2})?)|Z)$")):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(i.precision,"}Z$")):0===i.precision?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else"ip"===s.kind?(r=e.data,("v4"!==(a=s.version)&&a||!qa.test(r))&&("v6"!==a&&a||!Ka.test(r))&&(n=this._getOrReturnCtx(e,n),Na(n,{validation:"ip",code:_a.invalid_string,message:s.message}),t.dirty())):ma.assertNever(s);var r,a,i;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:_a.invalid_string,...Ra.errToObj(n)})}_addCheck(e){return new Wa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ra.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ra.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ra.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ra.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ra.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ra.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ra.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ra.errToObj(e)})}datetime(e){var t;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,...Ra.errToObj(null===e||void 0===e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ra.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...Ra.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ra.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ra.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ra.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ra.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ra.errToObj(t)})}nonempty(e){return this.min(1,Ra.errToObj(e))}trim(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ya(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Wa.create=e=>{var t;return new Wa({checks:[],typeName:Ui.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Ua(e)})};class $a extends Ba{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ga.number){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.number,received:t.parsedType}),Ia}let t;const n=new Ta;for(const r of this._def.checks)if("int"===r.kind)ma.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Ya(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.not_finite,message:r.message}),n.dirty()):ma.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ra.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ra.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ra.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ra.toString(t))}setLimit(e,t,n,r){return new $a({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ra.toString(r)}]})}_addCheck(e){return new $a({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ra.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ra.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ra.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ra.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ra.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ra.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ra.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ra.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ra.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&ma.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$a.create=e=>new $a({checks:[],typeName:Ui.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Ua(e)});class Ja extends Ba{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==ga.bigint){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.bigint,received:t.parsedType}),Ia}let t;const n=new Ta;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Na(t,{code:_a.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):ma.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ra.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ra.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ra.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ra.toString(t))}setLimit(e,t,n,r){return new Ja({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ra.toString(r)}]})}_addCheck(e){return new Ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ra.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ra.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ra.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ra.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ra.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ja.create=e=>{var t;return new Ja({checks:[],typeName:Ui.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Ua(e)})};class Qa extends Ba{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ga.boolean){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.boolean,received:t.parsedType}),Ia}return Oa(e.data)}}Qa.create=e=>new Qa({typeName:Ui.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Ua(e)});class Xa extends Ba{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ga.date){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.date,received:t.parsedType}),Ia}if(isNaN(e.data.getTime())){return Na(this._getOrReturnCtx(e),{code:_a.invalid_date}),Ia}const t=new Ta;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Na(n,{code:_a.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):ma.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xa({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ra.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ra.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Xa.create=e=>new Xa({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Ui.ZodDate,...Ua(e)});class ei extends Ba{_parse(e){if(this._getType(e)!==ga.symbol){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.symbol,received:t.parsedType}),Ia}return Oa(e.data)}}ei.create=e=>new ei({typeName:Ui.ZodSymbol,...Ua(e)});class ti extends Ba{_parse(e){if(this._getType(e)!==ga.undefined){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.undefined,received:t.parsedType}),Ia}return Oa(e.data)}}ti.create=e=>new ti({typeName:Ui.ZodUndefined,...Ua(e)});class ni extends Ba{_parse(e){if(this._getType(e)!==ga.null){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.null,received:t.parsedType}),Ia}return Oa(e.data)}}ni.create=e=>new ni({typeName:Ui.ZodNull,...Ua(e)});class ri extends Ba{constructor(){super(...arguments),this._any=!0}_parse(e){return Oa(e.data)}}ri.create=e=>new ri({typeName:Ui.ZodAny,...Ua(e)});class ai extends Ba{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oa(e.data)}}ai.create=e=>new ai({typeName:Ui.ZodUnknown,...Ua(e)});class ii extends Ba{_parse(e){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.never,received:t.parsedType}),Ia}}ii.create=e=>new ii({typeName:Ui.ZodNever,...Ua(e)});class oi extends Ba{_parse(e){if(this._getType(e)!==ga.undefined){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.void,received:t.parsedType}),Ia}return Oa(e.data)}}oi.create=e=>new oi({typeName:Ui.ZodVoid,...Ua(e)});class si extends Ba{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ga.array)return Na(t,{code:_a.invalid_type,expected:ga.array,received:t.parsedType}),Ia;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(Na(t,{code:e?_a.too_big:_a.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Na(t,{code:_a.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Na(t,{code:_a.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new La(t,e,t.path,n))))).then((e=>Ta.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new La(t,e,t.path,n))));return Ta.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new si({...this._def,minLength:{value:e,message:Ra.toString(t)}})}max(e,t){return new si({...this._def,maxLength:{value:e,message:Ra.toString(t)}})}length(e,t){return new si({...this._def,exactLength:{value:e,message:Ra.toString(t)}})}nonempty(e){return this.min(1,e)}}function li(e){if(e instanceof ui){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ti.create(li(r))}return new ui({...e._def,shape:()=>t})}return e instanceof si?new si({...e._def,type:li(e.element)}):e instanceof Ti?Ti.create(li(e.unwrap())):e instanceof Ii?Ii.create(li(e.unwrap())):e instanceof mi?mi.create(e.items.map((e=>li(e)))):e}si.create=(e,t)=>new si({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ui.ZodArray,...Ua(t)});class ui extends Ba{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=ma.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ga.object){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.object,received:t.parsedType}),Ia}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof ii&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||i.push(s);const o=[];for(const s of a){const e=r[s],t=n.data[s];o.push({key:{status:"valid",value:s},value:e._parse(new La(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof ii){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(Na(n,{code:_a.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new La(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Ta.mergeObjectSync(t,e))):Ta.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Ra.errToObj,new ui({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Ra.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new ui({...this._def,unknownKeys:"strip"})}passthrough(){return new ui({...this._def,unknownKeys:"passthrough"})}extend(e){return new ui({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ui({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ui.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ui({...this._def,catchall:e})}pick(e){const t={};return ma.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new ui({...this._def,shape:()=>t})}omit(e){const t={};return ma.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new ui({...this._def,shape:()=>t})}deepPartial(){return li(this)}partial(e){const t={};return ma.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new ui({...this._def,shape:()=>t})}required(e){const t={};return ma.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ti;)e=e._def.innerType;t[n]=e}})),new ui({...this._def,shape:()=>t})}keyof(){return Ei(ma.objectKeys(this.shape))}}ui.create=(e,t)=>new ui({shape:()=>e,unknownKeys:"strip",catchall:ii.create(),typeName:Ui.ZodObject,...Ua(t)}),ui.strictCreate=(e,t)=>new ui({shape:()=>e,unknownKeys:"strict",catchall:ii.create(),typeName:Ui.ZodObject,...Ua(t)}),ui.lazycreate=(e,t)=>new ui({shape:e,unknownKeys:"strip",catchall:ii.create(),typeName:Ui.ZodObject,...Ua(t)});class ci extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new wa(e.ctx.common.issues)));return Na(t,{code:_a.invalid_union,unionErrors:n}),Ia}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new wa(e)));return Na(t,{code:_a.invalid_union,unionErrors:a}),Ia}}get options(){return this._def.options}}ci.create=(e,t)=>new ci({options:e,typeName:Ui.ZodUnion,...Ua(t)});const di=e=>e instanceof _i?di(e.schema):e instanceof Ni?di(e.innerType()):e instanceof wi?[e.value]:e instanceof Si?e.options:e instanceof ki?Object.keys(e.enum):e instanceof Pi?di(e._def.innerType):e instanceof ti?[void 0]:e instanceof ni?[null]:null;class pi extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.object)return Na(t,{code:_a.invalid_type,expected:ga.object,received:t.parsedType}),Ia;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Na(t,{code:_a.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ia)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=di(a.shape[e]);if(!t)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const n of t){if(r.has(n))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(n)));r.set(n,a)}}return new pi({typeName:Ui.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Ua(n)})}}function fi(e,t){const n=ba(e),r=ba(t);if(e===t)return{valid:!0,data:e};if(n===ga.object&&r===ga.object){const n=ma.objectKeys(t),r=ma.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const i of r){const n=fi(e[i],t[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(n===ga.array&&r===ga.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=fi(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===ga.date&&r===ga.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class hi extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Ca(e)||Ca(r))return Ia;const a=fi(e.value,r.value);return a.valid?((Aa(e)||Aa(r))&&t.dirty(),{status:t.value,value:a.data}):(Na(n,{code:_a.invalid_intersection_types}),Ia)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hi.create=(e,t,n)=>new hi({left:e,right:t,typeName:Ui.ZodIntersection,...Ua(n)});class mi extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.array)return Na(n,{code:_a.invalid_type,expected:ga.array,received:n.parsedType}),Ia;if(n.data.length<this._def.items.length)return Na(n,{code:_a.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ia;!this._def.rest&&n.data.length>this._def.items.length&&(Na(n,{code:_a.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new La(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Ta.mergeArray(t,e))):Ta.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new mi({...this._def,rest:e})}}mi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mi({items:e,typeName:Ui.ZodTuple,rest:null,...Ua(t)})};class yi extends Ba{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.object)return Na(n,{code:_a.invalid_type,expected:ga.object,received:n.parsedType}),Ia;const r=[],a=this._def.keyType,i=this._def.valueType;for(const o in n.data)r.push({key:a._parse(new La(n,o,n.path,o)),value:i._parse(new La(n,n.data[o],n.path,o))});return n.common.async?Ta.mergeObjectAsync(t,r):Ta.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new yi(t instanceof Ba?{keyType:e,valueType:t,typeName:Ui.ZodRecord,...Ua(n)}:{keyType:Wa.create(),valueType:e,typeName:Ui.ZodRecord,...Ua(t)})}}class vi extends Ba{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.map)return Na(n,{code:_a.invalid_type,expected:ga.map,received:n.parsedType}),Ia;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,o]=e;return{key:r._parse(new La(n,i,n.path,[t,"key"])),value:a._parse(new La(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return Ia;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return Ia;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}vi.create=(e,t,n)=>new vi({valueType:t,keyType:e,typeName:Ui.ZodMap,...Ua(n)});class gi extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ga.set)return Na(n,{code:_a.invalid_type,expected:ga.set,received:n.parsedType}),Ia;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Na(n,{code:_a.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Na(n,{code:_a.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Ia;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new La(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new gi({...this._def,minSize:{value:e,message:Ra.toString(t)}})}max(e,t){return new gi({...this._def,maxSize:{value:e,message:Ra.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}gi.create=(e,t)=>new gi({valueType:e,minSize:null,maxSize:null,typeName:Ui.ZodSet,...Ua(t)});class bi extends Ba{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.function)return Na(t,{code:_a.invalid_type,expected:ga.function,received:t.parsedType}),Ia;function n(e,n){return xa({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ka(),Ea].filter((e=>!!e)),issueData:{code:_a.invalid_arguments,argumentsError:n}})}function r(e,n){return xa({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ka(),Ea].filter((e=>!!e)),issueData:{code:_a.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof xi){const e=this;return Oa((async function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=new wa([]),u=await e._def.args.parseAsync(o,a).catch((e=>{throw l.addIssue(n(o,e)),l})),c=await Reflect.apply(i,this,u),d=await e._def.returns._def.type.parseAsync(c,a).catch((e=>{throw l.addIssue(r(c,e)),l}));return d}))}{const e=this;return Oa((function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const l=e._def.args.safeParse(o,a);if(!l.success)throw new wa([n(o,l.error)]);const u=Reflect.apply(i,this,l.data),c=e._def.returns.safeParse(u,a);if(!c.success)throw new wa([r(u,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bi({...this._def,args:mi.create(t).rest(ai.create())})}returns(e){return new bi({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new bi({args:e||mi.create([]).rest(ai.create()),returns:t||ai.create(),typeName:Ui.ZodFunction,...Ua(n)})}}class _i extends Ba{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}_i.create=(e,t)=>new _i({getter:e,typeName:Ui.ZodLazy,...Ua(t)});class wi extends Ba{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Na(t,{received:t.data,code:_a.invalid_literal,expected:this._def.value}),Ia}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ei(e,t){return new Si({values:e,typeName:Ui.ZodEnum,...Ua(t)})}wi.create=(e,t)=>new wi({value:e,typeName:Ui.ZodLiteral,...Ua(t)});class Si extends Ba{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Na(t,{expected:ma.joinValues(n),received:t.parsedType,code:_a.invalid_type}),Ia}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Na(t,{received:t.data,code:_a.invalid_enum_value,options:n}),Ia}return Oa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Si.create(e)}exclude(e){return Si.create(this.options.filter((t=>!e.includes(t))))}}Si.create=Ei;class ki extends Ba{_parse(e){const t=ma.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ga.string&&n.parsedType!==ga.number){const e=ma.objectValues(t);return Na(n,{expected:ma.joinValues(e),received:n.parsedType,code:_a.invalid_type}),Ia}if(-1===t.indexOf(e.data)){const e=ma.objectValues(t);return Na(n,{received:n.data,code:_a.invalid_enum_value,options:e}),Ia}return Oa(e.data)}get enum(){return this._def.values}}ki.create=(e,t)=>new ki({values:e,typeName:Ui.ZodNativeEnum,...Ua(t)});class xi extends Ba{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ga.promise&&!1===t.common.async)return Na(t,{code:_a.invalid_type,expected:ga.promise,received:t.parsedType}),Ia;const n=t.parsedType===ga.promise?t.data:Promise.resolve(t.data);return Oa(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}xi.create=(e,t)=>new xi({type:e,typeName:Ui.ZodPromise,...Ua(t)});class Ni extends Ba{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ui.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{Na(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Ia:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Ia:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Da(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Da(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}ma.assertNever(r)}}Ni.create=(e,t,n)=>new Ni({schema:e,typeName:Ui.ZodEffects,effect:t,...Ua(n)}),Ni.createWithPreprocess=(e,t,n)=>new Ni({schema:t,effect:{type:"preprocess",transform:e},typeName:Ui.ZodEffects,...Ua(n)});class Ti extends Ba{_parse(e){return this._getType(e)===ga.undefined?Oa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ti.create=(e,t)=>new Ti({innerType:e,typeName:Ui.ZodOptional,...Ua(t)});class Ii extends Ba{_parse(e){return this._getType(e)===ga.null?Oa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ii.create=(e,t)=>new Ii({innerType:e,typeName:Ui.ZodNullable,...Ua(t)});class Pi extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ga.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pi.create=(e,t)=>new Pi({innerType:e,typeName:Ui.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Ua(t)});class Oi extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ma(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new wa(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new wa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Oi.create=(e,t)=>new Oi({innerType:e,typeName:Ui.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Ua(t)});class Ci extends Ba{_parse(e){if(this._getType(e)!==ga.nan){const t=this._getOrReturnCtx(e);return Na(t,{code:_a.invalid_type,expected:ga.nan,received:t.parsedType}),Ia}return{status:"valid",value:e.data}}}Ci.create=e=>new Ci({typeName:Ui.ZodNaN,...Ua(e)});const Ai=Symbol("zod_brand");class Di extends Ba{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Mi extends Ba{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ia:"dirty"===e.status?(t.dirty(),Pa(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ia:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Mi({in:e,out:t,typeName:Ui.ZodPipeline})}}class Ri extends Ba{_parse(e){const t=this._def.innerType._parse(e);return Da(t)&&(t.value=Object.freeze(t.value)),t}}Ri.create=(e,t)=>new Ri({innerType:e,typeName:Ui.ZodReadonly,...Ua(t)});const Li=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?ri.create().superRefine(((r,a)=>{var i,o;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,s=null===(o=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===o||o,l="string"===typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:s})}})):ri.create()},ji={object:ui.lazycreate};var Ui;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Ui||(Ui={}));const Bi=Wa.create,zi=$a.create,Fi=Ci.create,Gi=Ja.create,Vi=Qa.create,Hi=Xa.create,Zi=ei.create,qi=ti.create,Ki=ni.create,Wi=ri.create,Yi=ai.create,$i=ii.create,Ji=oi.create,Qi=si.create,Xi=ui.create,eo=ui.strictCreate,to=ci.create,no=pi.create,ro=hi.create,ao=mi.create,io=yi.create,oo=vi.create,so=gi.create,lo=bi.create,uo=_i.create,co=wi.create,po=Si.create,fo=ki.create,ho=xi.create,mo=Ni.create,yo=Ti.create,vo=Ii.create,go=Ni.createWithPreprocess,bo=Mi.create,_o={string:e=>Wa.create({...e,coerce:!0}),number:e=>$a.create({...e,coerce:!0}),boolean:e=>Qa.create({...e,coerce:!0}),bigint:e=>Ja.create({...e,coerce:!0}),date:e=>Xa.create({...e,coerce:!0})},wo=Ia;var Eo=Object.freeze({__proto__:null,defaultErrorMap:Ea,setErrorMap:function(e){Sa=e},getErrorMap:ka,makeIssue:xa,EMPTY_PATH:[],addIssueToContext:Na,ParseStatus:Ta,INVALID:Ia,DIRTY:Pa,OK:Oa,isAborted:Ca,isDirty:Aa,isValid:Da,isAsync:Ma,get util(){return ma},get objectUtil(){return ya},ZodParsedType:ga,getParsedType:ba,ZodType:Ba,ZodString:Wa,ZodNumber:$a,ZodBigInt:Ja,ZodBoolean:Qa,ZodDate:Xa,ZodSymbol:ei,ZodUndefined:ti,ZodNull:ni,ZodAny:ri,ZodUnknown:ai,ZodNever:ii,ZodVoid:oi,ZodArray:si,ZodObject:ui,ZodUnion:ci,ZodDiscriminatedUnion:pi,ZodIntersection:hi,ZodTuple:mi,ZodRecord:yi,ZodMap:vi,ZodSet:gi,ZodFunction:bi,ZodLazy:_i,ZodLiteral:wi,ZodEnum:Si,ZodNativeEnum:ki,ZodPromise:xi,ZodEffects:Ni,ZodTransformer:Ni,ZodOptional:Ti,ZodNullable:Ii,ZodDefault:Pi,ZodCatch:Oi,ZodNaN:Ci,BRAND:Ai,ZodBranded:Di,ZodPipeline:Mi,ZodReadonly:Ri,custom:Li,Schema:Ba,ZodSchema:Ba,late:ji,get ZodFirstPartyTypeKind(){return Ui},coerce:_o,any:Wi,array:Qi,bigint:Gi,boolean:Vi,date:Hi,discriminatedUnion:no,effect:mo,enum:po,function:lo,instanceof:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)};return Li((t=>t instanceof e),t)},intersection:ro,lazy:uo,literal:co,map:oo,nan:Fi,nativeEnum:fo,never:$i,null:Ki,nullable:vo,number:zi,object:Xi,oboolean:()=>Vi().optional(),onumber:()=>zi().optional(),optional:yo,ostring:()=>Bi().optional(),pipeline:bo,preprocess:go,promise:ho,record:io,set:so,strictObject:eo,string:Bi,symbol:Zi,transformer:mo,tuple:ao,undefined:qi,union:to,unknown:Yi,void:Ji,NEVER:wo,ZodIssueCode:_a,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:wa}),So={exports:{}};!function(e){var t=function(e){var n=1e7,r=7,a=9007199254740992,i=f(a),o="0123456789abcdefghijklmnopqrstuvwxyz",s="function"===typeof BigInt;function l(e,t,n,r){return"undefined"===typeof e?l[0]:"undefined"!==typeof t&&(10!==+t||n)?q(e,t,n,r):J(e)}function u(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function d(e){this.value=e}function p(e){return-a<e&&e<a}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){m(e);var t=e.length;if(t<4&&C(e,i)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*n;default:return e[0]+(e[1]+e[2]*n)*n}return e}function m(e){for(var t=e.length;0===e[--t];);e.length=t+1}function y(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function v(e){return e>0?Math.floor(e):Math.ceil(e)}function g(e,t){var r,a,i=e.length,o=t.length,s=new Array(i),l=0,u=n;for(a=0;a<o;a++)l=(r=e[a]+t[a]+l)>=u?1:0,s[a]=r-l*u;for(;a<i;)l=(r=e[a]+l)===u?1:0,s[a++]=r-l*u;return l>0&&s.push(l),s}function b(e,t){return e.length>=t.length?g(e,t):g(t,e)}function _(e,t){var r,a,i=e.length,o=new Array(i),s=n;for(a=0;a<i;a++)r=e[a]-s+t,t=Math.floor(r/s),o[a]=r-t*s,t+=1;for(;t>0;)o[a++]=t%s,t=Math.floor(t/s);return o}function w(e,t){var r,a,i=e.length,o=t.length,s=new Array(i),l=0,u=n;for(r=0;r<o;r++)(a=e[r]-l-t[r])<0?(a+=u,l=1):l=0,s[r]=a;for(r=o;r<i;r++){if(!((a=e[r]-l)<0)){s[r++]=a;break}a+=u,s[r]=a}for(;r<i;r++)s[r]=e[r];return m(s),s}function E(e,t,r){var a,i,o=e.length,s=new Array(o),l=-t,d=n;for(a=0;a<o;a++)i=e[a]+l,l=Math.floor(i/d),i%=d,s[a]=i<0?i+d:i;return"number"===typeof(s=h(s))?(r&&(s=-s),new c(s)):new u(s,r)}function S(e,t){var r,a,i,o,s=e.length,l=t.length,u=y(s+l),c=n;for(i=0;i<s;++i){o=e[i];for(var d=0;d<l;++d)r=o*t[d]+u[i+d],a=Math.floor(r/c),u[i+d]=r-a*c,u[i+d+1]+=a}return m(u),u}function k(e,t){var r,a,i=e.length,o=new Array(i),s=n,l=0;for(a=0;a<i;a++)r=e[a]*t+l,l=Math.floor(r/s),o[a]=r-l*s;for(;l>0;)o[a++]=l%s,l=Math.floor(l/s);return o}function x(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function N(e,t){var n=Math.max(e.length,t.length);if(n<=30)return S(e,t);n=Math.ceil(n/2);var r=e.slice(n),a=e.slice(0,n),i=t.slice(n),o=t.slice(0,n),s=N(a,o),l=N(r,i),u=N(b(a,r),b(o,i)),c=b(b(s,x(w(w(u,s),l),n)),x(l,2*n));return m(c),c}function T(e,t,r){return new u(e<n?k(t,e):S(t,f(e)),r)}function I(e){var t,r,a,i,o=e.length,s=y(o+o),l=n;for(a=0;a<o;a++){r=0-(i=e[a])*i;for(var u=a;u<o;u++)t=i*e[u]*2+s[a+u]+r,r=Math.floor(t/l),s[a+u]=t-r*l;s[a+o]=r}return m(s),s}function P(e,t){var r,a,i,o,s=e.length,l=y(s),u=n;for(i=0,r=s-1;r>=0;--r)i=(o=i*u+e[r])-(a=v(o/t))*t,l[r]=0|a;return[l,0|i]}function O(e,t){var r,a=J(t);if(s)return[new d(e.value/a.value),new d(e.value%a.value)];var i,o=e.value,p=a.value;if(0===p)throw new Error("Cannot divide by zero");if(e.isSmall)return a.isSmall?[new c(v(o/p)),new c(o%p)]:[l[0],e];if(a.isSmall){if(1===p)return[e,l[0]];if(-1==p)return[e.negate(),l[0]];var g=Math.abs(p);if(g<n){i=h((r=P(o,g))[0]);var b=r[1];return e.sign&&(b=-b),"number"===typeof i?(e.sign!==a.sign&&(i=-i),[new c(i),new c(b)]):[new u(i,e.sign!==a.sign),new c(b)]}p=f(g)}var _=C(o,p);if(-1===_)return[l[0],e];if(0===_)return[l[e.sign===a.sign?1:-1],l[0]];r=o.length+p.length<=200?function(e,t){var r,a,i,o,s,l,u,c=e.length,d=t.length,p=n,f=y(t.length),m=t[d-1],v=Math.ceil(p/(2*m)),g=k(e,v),b=k(t,v);for(g.length<=c&&g.push(0),b.push(0),m=b[d-1],a=c-d;a>=0;a--){for(r=p-1,g[a+d]!==m&&(r=Math.floor((g[a+d]*p+g[a+d-1])/m)),i=0,o=0,l=b.length,s=0;s<l;s++)i+=r*b[s],u=Math.floor(i/p),o+=g[a+s]-(i-u*p),i=u,o<0?(g[a+s]=o+p,o=-1):(g[a+s]=o,o=0);for(;0!==o;){for(r-=1,i=0,s=0;s<l;s++)(i+=g[a+s]-p+b[s])<0?(g[a+s]=i+p,i=0):(g[a+s]=i,i=1);o+=i}f[a]=r}return g=P(g,v)[0],[h(f),h(g)]}(o,p):function(e,t){for(var r,a,i,o,s,l=e.length,u=t.length,c=[],d=[],p=n;l;)if(d.unshift(e[--l]),m(d),C(d,t)<0)c.push(0);else{i=d[(a=d.length)-1]*p+d[a-2],o=t[u-1]*p+t[u-2],a>u&&(i=(i+1)*p),r=Math.ceil(i/o);do{if(C(s=k(t,r),d)<=0)break;r--}while(r);c.push(r),d=w(d,s)}return c.reverse(),[h(c),h(d)]}(o,p),i=r[0];var E=e.sign!==a.sign,S=r[1],x=e.sign;return"number"===typeof i?(E&&(i=-i),i=new c(i)):i=new u(i,E),"number"===typeof S?(x&&(S=-S),S=new c(S)):S=new u(S,x),[i,S]}function C(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function A(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function D(e,n){for(var r,a,i,o=e.prev(),s=o,l=0;s.isEven();)s=s.divide(2),l++;e:for(a=0;a<n.length;a++)if(!e.lesser(n[a])&&!(i=t(n[a]).modPow(s,e)).isUnit()&&!i.equals(o)){for(r=l-1;0!=r;r--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(o))continue e}return!1}return!0}u.prototype=Object.create(l.prototype),c.prototype=Object.create(l.prototype),d.prototype=Object.create(l.prototype),u.prototype.add=function(e){var t=J(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new u(_(n,Math.abs(r)),this.sign):new u(b(n,r),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(e){var t=J(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(p(n+r))return new c(n+r);r=f(Math.abs(r))}return new u(_(r,Math.abs(n)),n<0)},c.prototype.plus=c.prototype.add,d.prototype.add=function(e){return new d(this.value+J(e).value)},d.prototype.plus=d.prototype.add,u.prototype.subtract=function(e){var t=J(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?E(n,Math.abs(r),this.sign):function(e,t,n){var r;return C(e,t)>=0?r=w(e,t):(r=w(t,e),n=!n),"number"===typeof(r=h(r))?(n&&(r=-r),new c(r)):new u(r,n)}(n,r,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(e){var t=J(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new c(n-r):E(r,Math.abs(n),n>=0)},c.prototype.minus=c.prototype.subtract,d.prototype.subtract=function(e){return new d(this.value-J(e).value)},d.prototype.minus=d.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},d.prototype.negate=function(){return new d(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},d.prototype.abs=function(){return new d(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(e){var t,r,a,i=J(e),o=this.value,s=i.value,c=this.sign!==i.sign;if(i.isSmall){if(0===s)return l[0];if(1===s)return this;if(-1===s)return this.negate();if((t=Math.abs(s))<n)return new u(k(o,t),c);s=f(t)}return r=o.length,a=s.length,new u(-.012*r-.012*a+15e-6*r*a>0?N(o,s):S(o,s),c)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(e){return p(e.value*this.value)?new c(e.value*this.value):T(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},u.prototype._multiplyBySmall=function(e){return 0===e.value?l[0]:1===e.value?this:-1===e.value?this.negate():T(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.multiply=function(e){return J(e)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,d.prototype.multiply=function(e){return new d(this.value*J(e).value)},d.prototype.times=d.prototype.multiply,u.prototype.square=function(){return new u(I(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return p(e)?new c(e):new u(I(f(Math.abs(this.value))),!1)},d.prototype.square=function(e){return new d(this.value*this.value)},u.prototype.divmod=function(e){var t=O(this,e);return{quotient:t[0],remainder:t[1]}},d.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(e){return O(this,e)[0]},d.prototype.over=d.prototype.divide=function(e){return new d(this.value/J(e).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(e){return O(this,e)[1]},d.prototype.mod=d.prototype.remainder=function(e){return new d(this.value%J(e).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(e){var t,n,r,a=J(e),i=this.value,o=a.value;if(0===o)return l[1];if(0===i)return l[0];if(1===i)return l[1];if(-1===i)return a.isEven()?l[1]:l[-1];if(a.sign)return l[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&p(t=Math.pow(i,o)))return new c(v(t));for(n=this,r=l[1];!0&o&&(r=r.times(n),--o),0!==o;)o/=2,n=n.square();return r},c.prototype.pow=u.prototype.pow,d.prototype.pow=function(e){var t=J(e),n=this.value,r=t.value,a=BigInt(0),i=BigInt(1),o=BigInt(2);if(r===a)return l[1];if(n===a)return l[0];if(n===i)return l[1];if(n===BigInt(-1))return t.isEven()?l[1]:l[-1];if(t.isNegative())return new d(a);for(var s=this,u=l[1];(r&i)===i&&(u=u.times(s),--r),r!==a;)r/=o,s=s.square();return u},u.prototype.modPow=function(e,t){if(e=J(e),(t=J(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=l[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(l[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return l[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},d.prototype.modPow=c.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(e){var t=J(e),n=this.value,r=t.value;return t.isSmall?1:C(n,r)},c.prototype.compareAbs=function(e){var t=J(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},d.prototype.compareAbs=function(e){var t=this.value,n=J(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=J(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:C(n,r)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=J(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},c.prototype.compareTo=c.prototype.compare,d.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=J(e).value;return t===n?0:t>n?1:-1},d.prototype.compareTo=d.prototype.compare,u.prototype.equals=function(e){return 0===this.compare(e)},d.prototype.eq=d.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(e){return 0!==this.compare(e)},d.prototype.neq=d.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(e){return this.compare(e)>0},d.prototype.gt=d.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(e){return this.compare(e)<0},d.prototype.lt=d.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},d.prototype.geq=d.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},d.prototype.leq=d.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0===(1&this.value[0])},c.prototype.isEven=function(){return 0===(1&this.value)},d.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1===(1&this.value[0])},c.prototype.isOdd=function(){return 1===(1&this.value)},d.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},d.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},d.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},d.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},d.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(e){var t=J(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},d.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(n){var r=A(this);if(r!==e)return r;var a=this.abs(),i=a.bitLength();if(i<=64)return D(a,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*i.toJSNumber(),s=Math.ceil(!0===n?2*Math.pow(o,2):o),l=[],u=0;u<s;u++)l.push(t(u+2));return D(a,l)},d.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(n,r){var a=A(this);if(a!==e)return a;for(var i=this.abs(),o=n===e?5:n,s=[],l=0;l<o;l++)s.push(t.randBetween(2,i.minus(2),r));return D(i,s)},d.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(e){for(var n,r,a,i=t.zero,o=t.one,s=J(e),l=this.abs();!l.isZero();)n=s.divide(l),r=i,a=s,i=o,s=l,o=r.subtract(n.multiply(o)),l=a.subtract(n.multiply(l));if(!s.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},d.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var e=this.value;return this.sign?E(e,1,this.sign):new u(_(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<a?new c(e+1):new u(i,!1)},d.prototype.next=function(){return new d(this.value+BigInt(1))},u.prototype.prev=function(){var e=this.value;return this.sign?new u(_(e,1),!0):E(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-a?new c(e-1):new u(i,!0)},d.prototype.prev=function(){return new d(this.value-BigInt(1))};for(var M=[1];2*M[M.length-1]<=n;)M.push(2*M[M.length-1]);var R=M.length,L=M[R-1];function j(e){return Math.abs(e)<=n}function U(e,n,r){n=J(n);for(var a=e.isNegative(),i=n.isNegative(),o=a?e.not():e,s=i?n.not():n,l=0,u=0,c=null,d=null,p=[];!o.isZero()||!s.isZero();)l=(c=O(o,L))[1].toJSNumber(),a&&(l=L-1-l),u=(d=O(s,L))[1].toJSNumber(),i&&(u=L-1-u),o=c[0],s=d[0],p.push(r(l,u));for(var f=0!==r(a?1:0,i?1:0)?t(-1):t(0),h=p.length-1;h>=0;h-=1)f=f.multiply(L).add(t(p[h]));return f}u.prototype.shiftLeft=function(e){var t=J(e).toJSNumber();if(!j(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=R;)n=n.multiply(L),t-=R-1;return n.multiply(M[t])},d.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(e){var t,n=J(e).toJSNumber();if(!j(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=R;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=O(r,L))[1].isNegative()?t[0].prev():t[0],n-=R-1}return(t=O(r,M[n]))[1].isNegative()?t[0].prev():t[0]},d.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},d.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(e){return U(this,e,(function(e,t){return e&t}))},d.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(e){return U(this,e,(function(e,t){return e|t}))},d.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(e){return U(this,e,(function(e,t){return e^t}))},d.prototype.xor=c.prototype.xor=u.prototype.xor;var B=1<<30,z=(n&-n)*(n&-n)|B;function F(e){var t=e.value,r="number"===typeof t?t|B:"bigint"===typeof t?t|BigInt(B):t[0]+t[1]*n|z;return r&-r}function G(e,n){if(n.compareTo(e)<=0){var r=G(e,n.square(n)),a=r.p,i=r.e,o=a.multiply(n);return o.compareTo(e)<=0?{p:o,e:2*i+1}:{p:a,e:2*i}}return{p:t(1),e:0}}function V(e,t){return e=J(e),t=J(t),e.greater(t)?e:t}function H(e,t){return e=J(e),t=J(t),e.lesser(t)?e:t}function Z(e,t){if(e=J(e).abs(),t=J(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,a=l[1];e.isEven()&&t.isEven();)n=H(F(e),F(t)),e=e.divide(n),t=t.divide(n),a=a.multiply(n);for(;e.isEven();)e=e.divide(F(e));do{for(;t.isEven();)t=t.divide(F(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}u.prototype.bitLength=function(){var e=this;return e.compareTo(t(0))<0&&(e=e.negate().subtract(t(1))),0===e.compareTo(t(0))?t(0):t(G(e,t(2)).e).add(t(1))},d.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;var q=function(e,t,n,r){n=n||o,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var a,i=e.length,s=Math.abs(t),l={};for(a=0;a<n.length;a++)l[n[a]]=a;for(a=0;a<i;a++){if("-"!==(d=e[a])&&(d in l&&l[d]>=s)){if("1"===d&&1===s)continue;throw new Error(d+" is not a valid digit in base "+t+".")}}t=J(t);var u=[],c="-"===e[0];for(a=c?1:0;a<e.length;a++){var d;if((d=e[a])in l)u.push(J(l[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var p=a;do{a++}while(">"!==e[a]&&a<e.length);u.push(J(e.slice(p+1,a)))}}return K(u,t,c)};function K(e,t,n){var r,a=l[0],i=l[1];for(r=e.length-1;r>=0;r--)a=a.add(e[r].times(i)),i=i.times(t);return n?a.negate():a}function W(e,n){if((n=t(n)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(n.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var a=!1;if(e.isNegative()&&n.isPositive()&&(a=!0,e=e.abs()),n.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:a};for(var i,o=[],s=e;s.isNegative()||s.compareAbs(n)>=0;){i=s.divmod(n),s=i.quotient;var l=i.remainder;l.isNegative()&&(l=n.minus(l).abs(),s=s.next()),o.push(l.toJSNumber())}return o.push(s.toJSNumber()),{value:o.reverse(),isNegative:a}}function Y(e,t,n){var r=W(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||o).length?t[e]:"<"+e+">"}(e,n)})).join("")}function $(e){if(p(+e)){var t=+e;if(t===v(t))return s?new d(BigInt(t)):new c(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var a=e.split(/e/i);if(a.length>2)throw new Error("Invalid integer: "+a.join("e"));if(2===a.length){var i=a[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!p(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=a[0],l=o.indexOf(".");if(l>=0&&(i-=o.length-l-1,o=o.slice(0,l)+o.slice(l+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(s)return new d(BigInt(n?"-"+e:e));for(var f=[],h=e.length,y=r,g=h-y;h>0;)f.push(+e.slice(g,h)),(g-=y)<0&&(g=0),h-=y;return m(f),new u(f,n)}function J(e){return"number"===typeof e?function(e){if(s)return new d(BigInt(e));if(p(e)){if(e!==v(e))throw new Error(e+" is not an integer.");return new c(e)}return $(e.toString())}(e):"string"===typeof e?$(e):"bigint"===typeof e?new d(e):e}u.prototype.toArray=function(e){return W(this,e)},c.prototype.toArray=function(e){return W(this,e)},d.prototype.toArray=function(e){return W(this,e)},u.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return Y(this,t,n);for(var r,a=this.value,i=a.length,o=String(a[--i]);--i>=0;)r=String(a[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},c.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?Y(this,t,n):String(this.value)},d.prototype.toString=c.prototype.toString,d.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,d.prototype.valueOf=d.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var Q=0;Q<1e3;Q++)l[Q]=J(Q),Q>0&&(l[-Q]=J(-Q));return l.one=l[1],l.zero=l[0],l.minusOne=l[-1],l.max=V,l.min=H,l.gcd=Z,l.lcm=function(e,t){return e=J(e).abs(),t=J(t).abs(),e.divide(Z(e,t)).multiply(t)},l.isInstance=function(e){return e instanceof u||e instanceof c||e instanceof d},l.randBetween=function(e,t,r){e=J(e),t=J(t);var a=r||Math.random,i=H(e,t),o=V(e,t).subtract(i).add(1);if(o.isSmall)return i.add(Math.floor(a()*o));for(var s=W(o,n).value,u=[],c=!0,d=0;d<s.length;d++){var p=c?s[d]:n,f=v(a()*p);u.push(f),f<p&&(c=!1)}return i.add(l.fromArray(u,n,!1))},l.fromArray=function(e,t,n){return K(e.map(J),J(t||10),n)},l}();e.hasOwnProperty("exports")&&(e.exports=t)}(So);var ko=fa(So.exports);function xo(e,t,n){let r=0;for(let a=0;a<n;a++){const n=e[t+a];if(void 0===n)break;r+=n*16**a}return r}function No(e){const t=[];for(let n=0;n<e.length;n++){let r=Number(e[n]);for(let e=0;r||e<t.length;e++)r+=10*(t[e]||0),t[e]=r%16,r=(r-t[e])/16}return t}class To{static fromString(e){return new To(function(e){const t=No(e),n=Array(4);for(let r=0;r<4;r++)n[3-r]=xo(t,4*r,4);return n}(e),e)}static fromBit(e){const t=Array(4),n=Math.floor(e/16);for(let r=0;r<4;r++)t[3-r]=r===n?1<<e-16*n:0;return new To(t)}constructor(e,t){this.parts=e,this.str=t}and(e){let{parts:t}=e;return new To(this.parts.map(((e,n)=>e&t[n])))}or(e){let{parts:t}=e;return new To(this.parts.map(((e,n)=>e|t[n])))}xor(e){let{parts:t}=e;return new To(this.parts.map(((e,n)=>e^t[n])))}not(){return new To(this.parts.map((e=>~e)))}equals(e){let{parts:t}=e;return this.parts.every(((e,n)=>e===t[n]))}toString(){if(null!=this.str)return this.str;const e=new Array(16);return this.parts.forEach(((t,n)=>{const r=No(t.toString());for(let a=0;a<4;a++)e[a+4*n]=r[3-a]||0})),this.str=ko.fromArray(e,16).toString()}toJSON(){return this.toString()}}const Io=function(){try{return BigInt,!0}catch(e){return!1}}();Io&&null==BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return this.toString()});const Po={},Oo=Io?function(e){return BigInt(e)}:function(e){return e instanceof To?e:("number"===typeof e&&(e=e.toString()),null!=Po[e]||(Po[e]=To.fromString(e)),Po[e])},Co=Oo(0),Ao=Io?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co)&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co)}:function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co).and(e)},Do=Io?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co)|(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co)}:function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co).or(e)},Mo=Io?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co)^(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co)}:function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co).xor(e)},Ro=Io?function(e,t){return e===t}:function(e,t){return null==e||null==t?e==t:e.equals(t)};var Lo,jo,Uo,Bo,zo={combine:function(){let e=arguments.length<=0?void 0:arguments[0];for(let t=1;t<arguments.length;t++)e=Do(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},add:function(e,t){return t===Co?e:Do(e,t)},remove:function(e,t){return t===Co?e:Mo(e,Ao(e,t))},filter:Ao,invert:Io?function(){return~(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co)}:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co).not()},has:function(e,t){return Ro(Ao(e,t),t)},hasAny:function(e,t){return!Ro(Ao(e,t),Co)},equals:Ro,deserialize:Oo,getFlag:Io?function(e){return BigInt(1)<<BigInt(e)}:function(e){return To.fromBit(e)}};!function(e){e[e.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",e[e.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",e[e.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",e[e.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4001]="INVALID_ORIGIN",e[e.RATELIMITED=4002]="RATELIMITED",e[e.TOKEN_REVOKED=4003]="TOKEN_REVOKED",e[e.INVALID_VERSION=4004]="INVALID_VERSION",e[e.INVALID_ENCODING=4005]="INVALID_ENCODING"}(Lo||(Lo={})),function(e){e[e.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",e[e.INVALID_COMMAND=4002]="INVALID_COMMAND",e[e.INVALID_EVENT=4004]="INVALID_EVENT",e[e.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"}(jo||(jo={})),function(e){e.LANDSCAPE="landscape",e.PORTRAIT="portrait"}(Uo||(Uo={})),function(e){e.MOBILE="mobile",e.DESKTOP="desktop"}(Bo||(Bo={}));Object.freeze({CREATE_INSTANT_INVITE:zo.getFlag(0),ADMINISTRATOR:zo.getFlag(3)});function Fo(e){return go((t=>{var n;const[r]=null!==(n=Object.entries(e).find((e=>{let[,n]=e;return n===t})))&&void 0!==n?n:[];return null!=t&&void 0===r?e.UNHANDLED:t}),Bi().or(zi()))}const Go=Eo.object({image_url:Eo.string()}),Vo=Eo.object({mediaUrl:Eo.string().max(1024)}),Ho=Eo.object({access_token:Eo.union([Eo.string(),Eo.null()]).optional()}),Zo=Eo.object({access_token:Eo.string(),user:Eo.object({username:Eo.string(),discriminator:Eo.string(),id:Eo.string(),avatar:Eo.union([Eo.string(),Eo.null()]).optional(),public_flags:Eo.number(),global_name:Eo.union([Eo.string(),Eo.null()]).optional()}),scopes:Eo.array(function(e){const t=Li().transform((t=>{const n=e.safeParse(t);return n.success?n.data:e._def.defaultValue()}));return t.overlayType=e,t}(Eo.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(Eo.literal(-1)).default(-1))),expires:Eo.string(),application:Eo.object({description:Eo.string(),icon:Eo.union([Eo.string(),Eo.null()]).optional(),id:Eo.string(),rpc_origins:Eo.array(Eo.string()).optional(),name:Eo.string()})}),qo=Eo.object({participants:Eo.array(Eo.object({id:Eo.string(),username:Eo.string(),global_name:Eo.union([Eo.string(),Eo.null()]).optional(),discriminator:Eo.string(),avatar:Eo.union([Eo.string(),Eo.null()]).optional(),flags:Eo.number(),bot:Eo.boolean(),avatar_decoration_data:Eo.union([Eo.object({asset:Eo.string(),skuId:Eo.string().optional()}),Eo.null()]).optional(),premium_type:Eo.union([Eo.number(),Eo.null()]).optional(),nickname:Eo.string().optional()}))});var Ko;!function(e){e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"}(Ko||(Ko={}));const Wo=Eo.object({}).optional().nullable(),Yo=Eo.void(),$o={[Ko.INITIATE_IMAGE_UPLOAD]:{request:Yo,response:Go},[Ko.OPEN_SHARE_MOMENT_DIALOG]:{request:Vo,response:Wo},[Ko.AUTHENTICATE]:{request:Ho,response:Zo},[Ko.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Yo,response:qo}},Jo="DISPATCH";var Qo;!function(e){e.AUTHORIZE="AUTHORIZE",e.AUTHENTICATE="AUTHENTICATE",e.GET_GUILDS="GET_GUILDS",e.GET_GUILD="GET_GUILD",e.GET_CHANNEL="GET_CHANNEL",e.GET_CHANNELS="GET_CHANNELS",e.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",e.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",e.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",e.SET_ACTIVITY="SET_ACTIVITY",e.GET_SKUS="GET_SKUS",e.GET_ENTITLEMENTS="GET_ENTITLEMENTS",e.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",e.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",e.START_PURCHASE="START_PURCHASE",e.SET_CONFIG="SET_CONFIG",e.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",e.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",e.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",e.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",e.CAPTURE_LOG="CAPTURE_LOG",e.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",e.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",e.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",e.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"}(Qo||(Qo={}));const Xo=Xi({cmd:Bi(),data:Yi(),evt:Ki(),nonce:Bi()}).passthrough(),es=(Fo(Object.assign(Object.assign({},Zo.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1})),Xi({id:Bi(),username:Bi(),discriminator:Bi(),global_name:Bi().optional().nullable(),avatar:Bi().optional().nullable(),avatar_decoration_data:Xi({asset:Bi(),sku_id:Bi().optional()}).nullable(),bot:Vi(),flags:zi().optional().nullable(),premium_type:zi().optional().nullable()})),ts=Xi({user:es,nick:Bi().optional().nullable(),roles:Qi(Bi()),joined_at:Bi(),deaf:Vi(),mute:Vi()}),ns=Xi({id:Bi(),name:Bi().optional().nullable(),roles:Qi(Bi()).optional().nullable(),user:es.optional().nullable(),require_colons:Vi().optional().nullable(),managed:Vi().optional().nullable(),animated:Vi().optional().nullable(),available:Vi().optional().nullable()}),rs=Xi({mute:Vi(),deaf:Vi(),self_mute:Vi(),self_deaf:Vi(),suppress:Vi()}),as=Xi({mute:Vi(),nick:Bi(),user:es,voice_state:rs,volume:zi()}),is=Fo({UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"}),os=Xi({name:Bi(),type:zi(),url:Bi().optional().nullable(),created_at:zi().optional().nullable(),timestamps:Xi({start:zi(),end:zi()}).partial().optional().nullable(),application_id:Bi().optional().nullable(),details:Bi().optional().nullable(),state:Bi().optional().nullable(),emoji:ns.optional().nullable(),party:Xi({id:Bi().optional().nullable(),size:Qi(zi()).optional().nullable()}).optional().nullable(),assets:Xi({large_image:Bi().nullable(),large_text:Bi().nullable(),small_image:Bi().nullable(),small_text:Bi().nullable()}).partial().optional().nullable(),secrets:Xi({join:Bi(),match:Bi()}).partial().optional().nullable(),instance:Vi().optional().nullable(),flags:zi().optional().nullable()}),ss=Xi({id:Bi(),type:Fo({UNHANDLED:-1,ROLE:0,MEMBER:1}),allow:Bi(),deny:Bi()}),ls={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},us=Xi({id:Bi(),type:Fo(ls),guild_id:Bi().optional().nullable(),position:zi().optional().nullable(),permission_overwrites:Qi(ss).optional().nullable(),name:Bi().optional().nullable(),topic:Bi().optional().nullable(),nsfw:Vi().optional().nullable(),last_message_id:Bi().optional().nullable(),bitrate:zi().optional().nullable(),user_limit:zi().optional().nullable(),rate_limit_per_user:zi().optional().nullable(),recipients:Qi(es).optional().nullable(),icon:Bi().optional().nullable(),owner_id:Bi().optional().nullable(),application_id:Bi().optional().nullable(),parent_id:Bi().optional().nullable(),last_pin_timestamp:Bi().optional().nullable()}),cs=Xi({user:es,guild_id:Bi(),status:is,activities:Qi(os),client_status:Xi({desktop:is,mobile:is,web:is}).partial()}),ds=Xi({id:Bi(),name:Bi(),color:zi(),hoist:Vi(),position:zi(),permissions:Bi(),managed:Vi(),mentionable:Vi()}),ps=(Xi({id:Bi(),name:Bi(),owner_id:Bi(),icon:Bi().nullable(),icon_hash:Bi().optional().nullable(),splash:Bi().nullable(),discovery_splash:Bi().nullable(),owner:Vi().optional().nullable(),permissions:Bi().optional().nullable(),region:Bi(),afk_channel_id:Bi().nullable(),afk_timeout:zi(),widget_enabled:Vi().optional().nullable(),widget_channel_id:Bi().optional().nullable(),verification_level:zi(),default_message_notifications:zi(),explicit_content_filter:zi(),roles:Qi(ds),emojis:Qi(ns),features:Qi(Bi()),mfa_level:zi(),application_id:Bi().nullable(),system_channel_id:Bi().nullable(),system_channel_flags:zi(),rules_channel_id:Bi().nullable(),joined_at:Bi().optional().nullable(),large:Vi().optional().nullable(),unavailable:Vi().optional().nullable(),member_count:zi().optional().nullable(),voice_states:Qi(rs).optional().nullable(),members:Qi(ts).optional().nullable(),channels:Qi(us).optional().nullable(),presences:Qi(cs).optional().nullable(),max_presences:zi().optional().nullable(),max_members:zi().optional().nullable(),vanity_url_code:Bi().nullable(),description:Bi().nullable(),banner:Bi().nullable(),premium_tier:zi(),premium_subscription_count:zi().optional().nullable(),preferred_locale:Bi(),public_updates_channel_id:Bi().nullable(),max_video_channel_users:zi().optional().nullable(),approximate_member_count:zi().optional().nullable(),approximate_presence_count:zi().optional().nullable()}),Xi({id:Bi(),guild_id:Bi(),type:zi(),name:Bi()})),fs=Xi({id:Bi(),filename:Bi(),size:zi(),url:Bi(),proxy_url:Bi(),height:zi().optional().nullable(),width:zi().optional().nullable()}),hs=Xi({text:Bi(),icon_url:Bi().optional().nullable(),proxy_icon_url:Bi().optional().nullable()}),ms=Xi({url:Bi().optional().nullable(),proxy_url:Bi().optional().nullable(),height:zi().optional().nullable(),width:zi().optional().nullable()}),ys=ms.omit({proxy_url:!0}),vs=Xi({name:Bi().optional().nullable(),url:Bi().optional().nullable()}),gs=Xi({name:Bi().optional().nullable(),url:Bi().optional().nullable(),icon_url:Bi().optional().nullable(),proxy_icon_url:Bi().optional().nullable()}),bs=Xi({name:Bi(),value:Bi(),inline:Vi()}),_s=Xi({title:Bi().optional().nullable(),type:Bi().optional().nullable(),description:Bi().optional().nullable(),url:Bi().optional().nullable(),timestamp:Bi().optional().nullable(),color:zi().optional().nullable(),footer:hs.optional().nullable(),image:ms.optional().nullable(),thumbnail:ms.optional().nullable(),video:ys.optional().nullable(),provider:vs.optional().nullable(),author:gs.optional().nullable(),fields:Qi(bs).optional().nullable()}),ws=Xi({count:zi(),me:Vi(),emoji:ns}),Es=Xi({type:zi(),party_id:Bi().optional().nullable()}),Ss=Xi({id:Bi(),cover_image:Bi().optional().nullable(),description:Bi(),icon:Bi().optional().nullable(),name:Bi()}),ks=Xi({message_id:Bi().optional().nullable(),channel_id:Bi().optional().nullable(),guild_id:Bi().optional().nullable()}),xs=Xi({id:Bi(),channel_id:Bi(),guild_id:Bi().optional().nullable(),author:es.optional().nullable(),member:ts.optional().nullable(),content:Bi(),timestamp:Bi(),edited_timestamp:Bi().optional().nullable(),tts:Vi(),mention_everyone:Vi(),mentions:Qi(es),mention_roles:Qi(Bi()),mention_channels:Qi(ps),attachments:Qi(fs),embeds:Qi(_s),reactions:Qi(ws).optional().nullable(),nonce:to([Bi(),zi()]).optional().nullable(),pinned:Vi(),webhook_id:Bi().optional().nullable(),type:zi(),activity:Es.optional().nullable(),application:Ss.optional().nullable(),message_reference:ks.optional().nullable(),flags:zi().optional().nullable(),stickers:Qi(Yi()).optional().nullable(),referenced_message:Yi().optional().nullable()}),Ns=Xi({id:Bi(),name:Bi()}),Ts=Xi({type:Fo({UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3}),code:zi(),name:Bi()}),Is=Xi({type:Fo({UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"}),auto_threshold:Vi(),threshold:zi(),shortcut:Qi(Ts),delay:zi()}),Ps=Xi({device_id:Bi(),volume:zi(),available_devices:Qi(Ns)}),Os=(Xi({type:Fo({UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"}),id:Bi(),vendor:Xi({name:Bi(),url:Bi()}),model:Xi({name:Bi(),url:Bi()}),related:Qi(Bi()),echo_cancellation:Vi().optional().nullable(),noise_suppression:Vi().optional().nullable(),automatic_gain_control:Vi().optional().nullable(),hardware_mute:Vi().optional().nullable()}),Xi({id:Bi(),name:Bi(),type:Fo({UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5}),price:Xi({amount:zi(),currency:Bi()}),application_id:Bi(),flags:zi(),release_date:Bi().nullable()})),Cs=Xi({id:Bi(),sku_id:Bi(),application_id:Bi(),user_id:Bi(),gift_code_flags:zi(),type:Fo({UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7}),gifter_user_id:Bi().optional().nullable(),branches:Qi(Bi()).optional().nullable(),starts_at:Bi().optional().nullable(),ends_at:Bi().optional().nullable(),parent_id:Bi().optional().nullable(),consumed:Vi().optional().nullable(),deleted:Vi().optional().nullable(),gift_code_batch_id:Bi().optional().nullable()}),As=(Fo({UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3}),Fo({UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3})),Ds={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},Ms=(Fo(Ds),{UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2}),Rs=(Fo(Ms),"ERROR");var Ls;!function(e){e.READY="READY",e.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",e.SPEAKING_START="SPEAKING_START",e.SPEAKING_STOP="SPEAKING_STOP",e.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",e.ORIENTATION_UPDATE="ORIENTATION_UPDATE",e.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",e.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",e.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",e.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"}(Ls||(Ls={}));const js=Xo.extend({evt:fo(Ls),nonce:Bi().nullable(),cmd:co(Jo),data:Xi({}).passthrough()}),Us=Xo.extend({evt:co(Rs),data:Xi({code:zi(),message:Bi().optional()}).passthrough(),cmd:fo(Qo),nonce:Bi().nullable()}),Bs=js.extend({evt:Bi()}),zs=to([js,Bs,Us]);const Fs={[Ls.READY]:{payload:js.extend({evt:co(Ls.READY),data:Xi({v:zi(),config:Xi({cdn_host:Bi().optional(),api_endpoint:Bi(),environment:Bi()}),user:Xi({id:Bi(),username:Bi(),discriminator:Bi(),avatar:Bi().optional()}).optional()})})},[Ls.VOICE_STATE_UPDATE]:{payload:js.extend({evt:co(Ls.VOICE_STATE_UPDATE),data:as}),subscribeArgs:Xi({channel_id:Bi()})},[Ls.SPEAKING_START]:{payload:js.extend({evt:co(Ls.SPEAKING_START),data:Xi({lobby_id:Bi().optional(),channel_id:Bi().optional(),user_id:Bi()})}),subscribeArgs:Xi({lobby_id:Bi().nullable().optional(),channel_id:Bi().nullable().optional()})},[Ls.SPEAKING_STOP]:{payload:js.extend({evt:co(Ls.SPEAKING_STOP),data:Xi({lobby_id:Bi().optional(),channel_id:Bi().optional(),user_id:Bi()})}),subscribeArgs:Xi({lobby_id:Bi().nullable().optional(),channel_id:Bi().nullable().optional()})},[Ls.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:js.extend({evt:co(Ls.ACTIVITY_LAYOUT_MODE_UPDATE),data:Xi({layout_mode:Fo(Ms)})})},[Ls.ORIENTATION_UPDATE]:{payload:js.extend({evt:co(Ls.ORIENTATION_UPDATE),data:Xi({screen_orientation:Fo(Ds),orientation:fo(Uo)})})},[Ls.CURRENT_USER_UPDATE]:{payload:js.extend({evt:co(Ls.CURRENT_USER_UPDATE),data:es})},[Ls.ENTITLEMENT_CREATE]:{payload:js.extend({evt:co(Ls.ENTITLEMENT_CREATE),data:Xi({entitlement:Cs})})},[Ls.THERMAL_STATE_UPDATE]:{payload:js.extend({evt:co(Ls.THERMAL_STATE_UPDATE),data:Xi({thermal_state:As})})},[Ls.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:js.extend({evt:co(Ls.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:Xi({participants:qo.shape.participants})})}};const Gs=Xi({}).nullable(),Vs=Xi({code:Bi()}),Hs=Xi({guilds:Qi(Xi({id:Bi(),name:Bi()}))}),Zs=Xi({id:Bi(),name:Bi(),icon_url:Bi().optional(),members:Qi(ts)}),qs=Xi({id:Bi(),type:Fo(ls),guild_id:Bi().optional().nullable(),name:Bi().optional().nullable(),topic:Bi().optional().nullable(),bitrate:zi().optional().nullable(),user_limit:zi().optional().nullable(),position:zi().optional().nullable(),voice_states:Qi(as),messages:Qi(xs)}),Ks=Xi({channels:Qi(us)}),Ws=(qs.nullable(),qs.nullable()),Ys=qs.nullable(),$s=(Xi({input:Ps,output:Ps,mode:Is,automatic_gain_control:Vi(),echo_cancellation:Vi(),noise_suppression:Vi(),qos:Vi(),silence_warning:Vi(),deaf:Vi(),mute:Vi()}),Xi({evt:Bi()})),Js=Xi({shortcut:Ts}),Qs=os,Xs=Xi({skus:Qi(Os)}),el=Xi({entitlements:Qi(Cs)}),tl=Qi(Cs).nullable(),nl=Xi({use_interactive_pip:Vi()}),rl=Xi({locale:Bi()}),al=Xi({enabled:Vi()}),il=Xi({permissions:Gi().or(Bi())}),ol=Xi({iosKeyboardResizesView:yo(Vi())}),sl=Xo.extend({cmd:fo(Qo),evt:Ki()});function ll(e){let{cmd:t,data:n}=e;switch(t){case Qo.AUTHORIZE:return Vs.parse(n);case Qo.CAPTURE_SHORTCUT:return Js.parse(n);case Qo.ENCOURAGE_HW_ACCELERATION:return al.parse(n);case Qo.GET_CHANNEL:return qs.parse(n);case Qo.GET_CHANNELS:return Ks.parse(n);case Qo.GET_CHANNEL_PERMISSIONS:return il.parse(n);case Qo.GET_GUILD:return Zs.parse(n);case Qo.GET_GUILDS:return Hs.parse(n);case Qo.GET_PLATFORM_BEHAVIORS:return ol.parse(n);case Qo.GET_CHANNEL:return qs.parse(n);case Qo.SELECT_TEXT_CHANNEL:return Ys.parse(n);case Qo.SELECT_VOICE_CHANNEL:return Ws.parse(n);case Qo.SET_ACTIVITY:return Qs.parse(n);case Qo.GET_SKUS_EMBEDDED:return Xs.parse(n);case Qo.GET_ENTITLEMENTS_EMBEDDED:return el.parse(n);case Qo.SET_CONFIG:return nl.parse(n);case Qo.START_PURCHASE:return tl.parse(n);case Qo.SUBSCRIBE:case Qo.UNSUBSCRIBE:return $s.parse(n);case Qo.USER_SETTINGS_GET_LOCALE:return rl.parse(n);case Qo.OPEN_EXTERNAL_LINK:case Qo.SET_ORIENTATION_LOCK_STATE:case Qo.SET_CERTIFIED_DEVICES:case Qo.SEND_ANALYTICS_EVENT:case Qo.OPEN_INVITE_DIALOG:case Qo.CAPTURE_LOG:case Qo.GET_SKUS:case Qo.GET_ENTITLEMENTS:return Gs.parse(n);case Qo.AUTHENTICATE:case Qo.INITIATE_IMAGE_UPLOAD:case Qo.OPEN_SHARE_MOMENT_DIALOG:case Qo.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:e}=$o[t];return e.parse(n);default:!function(e,t){throw t}(0,new Error("Unrecognized command ".concat(t)))}}Xi({frame_id:Bi(),platform:fo(Bo).optional().nullable()}),Xi({v:co(1),encoding:co("json").optional(),client_id:Bi(),frame_id:Bi()});const ul=Xi({code:zi(),message:Bi().optional()}),cl=Xi({evt:Bi().nullable(),nonce:Bi().nullable(),data:Yi().nullable(),cmd:Bi()}).passthrough();function dl(e){const t=cl.parse(e);return null!=t.evt?t.evt===Rs?Us.parse(t):function(e){const t=e.evt;if(!(t in Ls))throw new Error("Unrecognized event type ".concat(e.evt));return Fs[t].payload.parse(e)}(zs.parse(t)):function(e){return Object.assign(Object.assign({},e),{data:ll(e)})}(sl.passthrough().parse(t))}function pl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};const a=Xo.extend({cmd:co(t),data:n});return async n=>{const i=await e({cmd:t,args:n,transfer:r(n)});return a.parse(i).data}}function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=$o[e].response,r=Xo.extend({cmd:co(e),data:n});return n=>async a=>{const i=await n({cmd:e,args:a,transfer:t(a)});return r.parse(i).data}}const hl=fl(Ko.AUTHENTICATE),ml=e=>pl(e,Qo.AUTHORIZE,Vs),yl=e=>pl(e,Qo.CAPTURE_LOG,Gs),vl=e=>pl(e,Qo.ENCOURAGE_HW_ACCELERATION,al),gl=e=>pl(e,Qo.GET_ENTITLEMENTS_EMBEDDED,el),bl=e=>pl(e,Qo.GET_SKUS_EMBEDDED,Xs),_l=e=>pl(e,Qo.GET_CHANNEL_PERMISSIONS,il),wl=e=>pl(e,Qo.GET_PLATFORM_BEHAVIORS,ol),El=e=>pl(e,Qo.OPEN_EXTERNAL_LINK,Gs),Sl=e=>pl(e,Qo.OPEN_INVITE_DIALOG,Gs),kl=fl(Ko.OPEN_SHARE_MOMENT_DIALOG);os.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:os.shape.type.optional(),instance:os.shape.instance.optional()}).nullable();const xl=e=>pl(e,Qo.SET_ACTIVITY,Qs),Nl=e=>pl(e,Qo.SET_CONFIG,nl);const Tl=e=>({lock_state:e.lock_state,picture_in_picture_lock_state:e.picture_in_picture_lock_state}),Il=e=>function(e){let{sendCommand:t,cmd:n,response:r,fallbackTransform:a,transferTransform:i=(()=>{})}=e;const o=Xo.extend({cmd:co(n),data:r});return async e=>{try{const r=await t({cmd:n,args:e,transfer:i(e)});return o.parse(r).data}catch(et){if(et.code===jo.INVALID_PAYLOAD){const r=a(e),s=await t({cmd:n,args:r,transfer:i(r)});return o.parse(s).data}throw et}}}({sendCommand:e,cmd:Qo.SET_ORIENTATION_LOCK_STATE,response:Gs,fallbackTransform:Tl}),Pl=e=>pl(e,Qo.START_PURCHASE,tl),Ol=e=>pl(e,Qo.USER_SETTINGS_GET_LOCALE,rl),Cl=fl(Ko.INITIATE_IMAGE_UPLOAD),Al=e=>pl(e,Qo.GET_CHANNEL,qs),Dl=fl(Ko.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);var Ml=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Rl(e){return"string"===typeof e&&Ml.test(e)}for(var Ll=[],jl=0;jl<256;++jl)Ll.push((jl+256).toString(16).substr(1));function Ul(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ll[e[t+0]]+Ll[e[t+1]]+Ll[e[t+2]]+Ll[e[t+3]]+"-"+Ll[e[t+4]]+Ll[e[t+5]]+"-"+Ll[e[t+6]]+Ll[e[t+7]]+"-"+Ll[e[t+8]]+Ll[e[t+9]]+"-"+Ll[e[t+10]]+Ll[e[t+11]]+Ll[e[t+12]]+Ll[e[t+13]]+Ll[e[t+14]]+Ll[e[t+15]]).toLowerCase();if(!Rl(n))throw TypeError("Stringified UUID is invalid");return n}var Bl;function zl(e,t,n){function r(e,r,a,i){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=function(e){if(!Rl(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,a){i=i||0;for(var s=0;s<16;++s)a[i+s]=o[s];return a}return Ul(o)}try{r.name=e}catch(Ku){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Fl(e){return 14+(e+64>>>9<<4)+1}function Gl(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Vl(e,t,n,r,a,i){return Gl((o=Gl(Gl(t,e),Gl(r,i)))<<(s=a)|o>>>32-s,n);var o,s}function Hl(e,t,n,r,a,i,o){return Vl(t&n|~t&r,e,t,a,i,o)}function Zl(e,t,n,r,a,i,o){return Vl(t&r|n&~r,e,t,a,i,o)}function ql(e,t,n,r,a,i,o){return Vl(t^n^r,e,t,a,i,o)}function Kl(e,t,n,r,a,i,o){return Vl(n^(t|~r),e,t,a,i,o)}zl("v3",48,(function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",a=0;a<n;a+=8){var i=e[a>>5]>>>a%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Fl(t)-1]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=n,l=r,u=a,c=i;n=Hl(n,r,a,i,e[o],7,-680876936),i=Hl(i,n,r,a,e[o+1],12,-389564586),a=Hl(a,i,n,r,e[o+2],17,606105819),r=Hl(r,a,i,n,e[o+3],22,-1044525330),n=Hl(n,r,a,i,e[o+4],7,-176418897),i=Hl(i,n,r,a,e[o+5],12,1200080426),a=Hl(a,i,n,r,e[o+6],17,-1473231341),r=Hl(r,a,i,n,e[o+7],22,-45705983),n=Hl(n,r,a,i,e[o+8],7,1770035416),i=Hl(i,n,r,a,e[o+9],12,-1958414417),a=Hl(a,i,n,r,e[o+10],17,-42063),r=Hl(r,a,i,n,e[o+11],22,-1990404162),n=Hl(n,r,a,i,e[o+12],7,1804603682),i=Hl(i,n,r,a,e[o+13],12,-40341101),a=Hl(a,i,n,r,e[o+14],17,-1502002290),n=Zl(n,r=Hl(r,a,i,n,e[o+15],22,1236535329),a,i,e[o+1],5,-165796510),i=Zl(i,n,r,a,e[o+6],9,-1069501632),a=Zl(a,i,n,r,e[o+11],14,643717713),r=Zl(r,a,i,n,e[o],20,-373897302),n=Zl(n,r,a,i,e[o+5],5,-701558691),i=Zl(i,n,r,a,e[o+10],9,38016083),a=Zl(a,i,n,r,e[o+15],14,-660478335),r=Zl(r,a,i,n,e[o+4],20,-405537848),n=Zl(n,r,a,i,e[o+9],5,568446438),i=Zl(i,n,r,a,e[o+14],9,-1019803690),a=Zl(a,i,n,r,e[o+3],14,-187363961),r=Zl(r,a,i,n,e[o+8],20,1163531501),n=Zl(n,r,a,i,e[o+13],5,-1444681467),i=Zl(i,n,r,a,e[o+2],9,-51403784),a=Zl(a,i,n,r,e[o+7],14,1735328473),n=ql(n,r=Zl(r,a,i,n,e[o+12],20,-1926607734),a,i,e[o+5],4,-378558),i=ql(i,n,r,a,e[o+8],11,-2022574463),a=ql(a,i,n,r,e[o+11],16,1839030562),r=ql(r,a,i,n,e[o+14],23,-35309556),n=ql(n,r,a,i,e[o+1],4,-1530992060),i=ql(i,n,r,a,e[o+4],11,1272893353),a=ql(a,i,n,r,e[o+7],16,-155497632),r=ql(r,a,i,n,e[o+10],23,-1094730640),n=ql(n,r,a,i,e[o+13],4,681279174),i=ql(i,n,r,a,e[o],11,-358537222),a=ql(a,i,n,r,e[o+3],16,-722521979),r=ql(r,a,i,n,e[o+6],23,76029189),n=ql(n,r,a,i,e[o+9],4,-640364487),i=ql(i,n,r,a,e[o+12],11,-421815835),a=ql(a,i,n,r,e[o+15],16,530742520),n=Kl(n,r=ql(r,a,i,n,e[o+2],23,-995338651),a,i,e[o],6,-198630844),i=Kl(i,n,r,a,e[o+7],10,1126891415),a=Kl(a,i,n,r,e[o+14],15,-1416354905),r=Kl(r,a,i,n,e[o+5],21,-57434055),n=Kl(n,r,a,i,e[o+12],6,1700485571),i=Kl(i,n,r,a,e[o+3],10,-1894986606),a=Kl(a,i,n,r,e[o+10],15,-1051523),r=Kl(r,a,i,n,e[o+1],21,-2054922799),n=Kl(n,r,a,i,e[o+8],6,1873313359),i=Kl(i,n,r,a,e[o+15],10,-30611744),a=Kl(a,i,n,r,e[o+6],15,-1560198380),r=Kl(r,a,i,n,e[o+13],21,1309151649),n=Kl(n,r,a,i,e[o+4],6,-145523070),i=Kl(i,n,r,a,e[o+11],10,-1120210379),a=Kl(a,i,n,r,e[o+2],15,718787259),r=Kl(r,a,i,n,e[o+9],21,-343485551),n=Gl(n,s),r=Gl(r,l),a=Gl(a,u),i=Gl(i,c)}return[n,r,a,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(Fl(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var Wl=new Uint8Array(16);function Yl(){if(!Bl&&!(Bl="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bl(Wl)}function $l(e,t,n){var r=(e=e||{}).random||(e.rng||Yl)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Ul(r)}function Jl(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Ql(e,t){return e<<t|e>>>32-t}zl("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];s[l]=u}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[d][f];for(var h=16;h<80;++h)p[h]=Ql(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],y=n[1],v=n[2],g=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),E=Ql(m,5)+Jl(w,y,v,g)+b+t[w]+p[_]>>>0;b=g,g=v,v=Ql(y,30)>>>0,y=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));class Xl extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";super(t),this.code=e,this.message=t,this.name="Discord SDK Error"}}const eu=["log","warn","debug","info","error"];var tu;!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.FRAME=1]="FRAME",e[e.CLOSE=2]="CLOSE",e[e.HELLO=3]="HELLO"}(tu||(tu={}));const nu=new Set("undefined"===typeof window?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]);var ru,au=1e9,iu=!0,ou="[DecimalError] ",su=ou+"Invalid argument: ",lu=ou+"Exponent out of range: ",uu=Math.floor,cu=Math.pow,du=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pu=1e7,fu=7,hu=9007199254740991,mu=uu(hu/fu),yu={};function vu(e,t){var n,r,a,i,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),iu?Tu(t,d):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),i>(s=(o=Math.ceil(d/fu))>s?o+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=l.length)-(i=u.length)<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/pu|0,l[i]%=pu;for(n&&(l.unshift(n),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,iu?Tu(t,d):t}function gu(e,t,n){if(e!==~~e||e<t||e>n)throw Error(su+e)}function bu(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",(n=fu-r.length)&&(i+=ku(n)),i+=r;o=e[t],(n=fu-(r=o+"").length)&&(i+=ku(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}yu.absoluteValue=yu.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},yu.comparedTo=yu.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},yu.decimalPlaces=yu.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*fu;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},yu.dividedBy=yu.div=function(e){return _u(this,new this.constructor(e))},yu.dividedToIntegerBy=yu.idiv=function(e){var t=this.constructor;return Tu(_u(this,new t(e),0,1),t.precision)},yu.equals=yu.eq=function(e){return!this.cmp(e)},yu.exponent=function(){return Eu(this)},yu.greaterThan=yu.gt=function(e){return this.cmp(e)>0},yu.greaterThanOrEqualTo=yu.gte=function(e){return this.cmp(e)>=0},yu.isInteger=yu.isint=function(){return this.e>this.d.length-2},yu.isNegative=yu.isneg=function(){return this.s<0},yu.isPositive=yu.ispos=function(){return this.s>0},yu.isZero=function(){return 0===this.s},yu.lessThan=yu.lt=function(e){return this.cmp(e)<0},yu.lessThanOrEqualTo=yu.lte=function(e){return this.cmp(e)<1},yu.logarithm=yu.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(ru))throw Error(ou+"NaN");if(n.s<1)throw Error(ou+(n.s?"NaN":"-Infinity"));return n.eq(ru)?new r(0):(iu=!1,t=_u(xu(n,i),xu(e,i),i),iu=!0,Tu(t,a))},yu.minus=yu.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Iu(t,e):vu(t,(e.s=-e.s,e))},yu.modulo=yu.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(ou+"NaN");return n.s?(iu=!1,t=_u(n,e,0,1).times(e),iu=!0,n.minus(t)):Tu(new r(n),a)},yu.naturalExponential=yu.exp=function(){return wu(this)},yu.naturalLogarithm=yu.ln=function(){return xu(this)},yu.negated=yu.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},yu.plus=yu.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vu(t,e):Iu(t,(e.s=-e.s,e))},yu.precision=yu.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(su+e);if(t=Eu(a)+1,n=(r=a.d.length-1)*fu+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},yu.squareRoot=yu.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ou+"NaN")}for(e=Eu(s),iu=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=bu(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=uu((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"1e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=o=(n=l.precision)+3;;)if(r=(i=r).plus(_u(s,i,o+2)).times(.5),bu(i.d).slice(0,o)===(t=bu(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(Tu(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if("9999"!=t)break;o+=4}return iu=!0,Tu(r,n)},yu.times=yu.mul=function(e){var t,n,r,a,i,o,s,l,u,c=this,d=c.constructor,p=c.d,f=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,(l=p.length)<(u=f.length)&&(i=p,p=f,f=i,o=l,l=u,u=o),i=[],r=o=l+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+f[r]*p[a-r-1]+t,i[a--]=s%pu|0,t=s/pu|0;i[a]=(i[a]+t)%pu|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,iu?Tu(e,d.precision):e},yu.toDecimalPlaces=yu.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(gu(e,0,au),void 0===t?t=r.rounding:gu(t,0,8),Tu(n,e+Eu(n)+1,t))},yu.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=Pu(r,!0):(gu(e,0,au),void 0===t?t=a.rounding:gu(t,0,8),n=Pu(r=Tu(new a(r),e+1,t),!0,e+1)),n},yu.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?Pu(a):(gu(e,0,au),void 0===t?t=i.rounding:gu(t,0,8),n=Pu((r=Tu(new i(a),e+Eu(a)+1,t)).abs(),!1,e+Eu(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},yu.toInteger=yu.toint=function(){var e=this,t=e.constructor;return Tu(new t(e),Eu(e)+1,t.rounding)},yu.toNumber=function(){return+this},yu.toPower=yu.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=+(e=new l(e));if(!e.s)return new l(ru);if(!(s=new l(s)).s){if(e.s<1)throw Error(ou+"Infinity");return s}if(s.eq(ru))return s;if(r=l.precision,e.eq(ru))return Tu(s,r);if(o=(t=e.e)>=(n=e.d.length-1),i=s.s,o){if((n=u<0?-u:u)<=hu){for(a=new l(ru),t=Math.ceil(r/fu+4),iu=!1;n%2&&Ou((a=a.times(s)).d,t),0!==(n=uu(n/2));)Ou((s=s.times(s)).d,t);return iu=!0,e.s<0?new l(ru).div(a):Tu(a,r)}}else if(i<0)throw Error(ou+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,iu=!1,a=e.times(xu(s,r+12)),iu=!0,(a=wu(a)).s=i,a},yu.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=Pu(a,(n=Eu(a))<=i.toExpNeg||n>=i.toExpPos):(gu(e,1,au),void 0===t?t=i.rounding:gu(t,0,8),r=Pu(a=Tu(new i(a),e,t),e<=(n=Eu(a))||n<=i.toExpNeg,e)),r},yu.toSignificantDigits=yu.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(gu(e,1,au),void 0===t?t=n.rounding:gu(t,0,8)),Tu(new n(this),e,t)},yu.toString=yu.valueOf=yu.val=yu.toJSON=yu[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Eu(e),n=e.constructor;return Pu(e,t<=n.toExpNeg||t>=n.toExpPos)};var _u=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%pu|0,r=n/pu|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*pu+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,l,u,c,d,p,f,h,m,y,v,g,b,_,w,E,S,k,x=r.constructor,N=r.s==a.s?1:-1,T=r.d,I=a.d;if(!r.s)return new x(r);if(!a.s)throw Error(ou+"Division by zero");for(l=r.e-a.e,S=I.length,w=T.length,h=(f=new x(N)).d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--l,(g=null==i?i=x.precision:o?i+(Eu(r)-Eu(a))+1:i)<0)return new x(0);if(g=g/fu+2|0,u=0,1==S)for(c=0,I=I[0],g++;(u<w||c)&&g--;u++)b=c*pu+(T[u]||0),h[u]=b/I|0,c=b%I|0;else{for((c=pu/(I[0]+1)|0)>1&&(I=e(I,c),T=e(T,c),S=I.length,w=T.length),_=S,y=(m=T.slice(0,S)).length;y<S;)m[y++]=0;(k=I.slice()).unshift(0),E=I[0],I[1]>=pu/2&&++E;do{c=0,(s=t(I,m,S,y))<0?(v=m[0],S!=y&&(v=v*pu+(m[1]||0)),(c=v/E|0)>1?(c>=pu&&(c=pu-1),1==(s=t(d=e(I,c),m,p=d.length,y=m.length))&&(c--,n(d,S<p?k:I,p))):(0==c&&(s=c=1),d=I.slice()),(p=d.length)<y&&d.unshift(0),n(m,d,y),-1==s&&(s=t(I,m,S,y=m.length))<1&&(c++,n(m,S<y?k:I,y)),y=m.length):0===s&&(c++,m=[0]),h[u++]=c,s&&m[0]?m[y++]=T[_]||0:(m=[T[_]],y=1)}while((_++<w||void 0!==m[0])&&g--)}return h[0]||h.shift(),f.e=l,Tu(f,o?i+Eu(f)+1:i)}}();function wu(e,t){var n,r,a,i,o,s=0,l=0,u=e.constructor,c=u.precision;if(Eu(e)>16)throw Error(lu+Eu(e));if(!e.s)return new u(ru);for(null==t?(iu=!1,o=c):o=t,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(o+=Math.log(cu(2,l))/Math.LN10*2+5|0,n=r=a=new u(ru),u.precision=o;;){if(r=Tu(r.times(e),o),n=n.times(++s),bu((i=a.plus(_u(r,n,o))).d).slice(0,o)===bu(a.d).slice(0,o)){for(;l--;)a=Tu(a.times(a),o);return u.precision=c,null==t?(iu=!0,Tu(a,c)):a}a=i}}function Eu(e){for(var t=e.e*fu,n=e.d[0];n>=10;n/=10)t++;return t}function Su(e,t,n){if(t>e.LN10.sd())throw iu=!0,n&&(e.precision=n),Error(ou+"LN10 precision limit exceeded");return Tu(new e(e.LN10),t)}function ku(e){for(var t="";e--;)t+="0";return t}function xu(e,t){var n,r,a,i,o,s,l,u,c,d=1,p=e,f=p.d,h=p.constructor,m=h.precision;if(p.s<1)throw Error(ou+(p.s?"NaN":"-Infinity"));if(p.eq(ru))return new h(0);if(null==t?(iu=!1,u=m):u=t,p.eq(10))return null==t&&(iu=!0),Su(h,u);if(u+=10,h.precision=u,r=(n=bu(f)).charAt(0),i=Eu(p),!(Math.abs(i)<15e14))return l=Su(h,u+2,m).times(i+""),p=xu(new h(r+"."+n.slice(1)),u-10).plus(l),h.precision=m,null==t?(iu=!0,Tu(p,m)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=bu((p=p.times(e)).d)).charAt(0),d++;for(i=Eu(p),r>1?(p=new h("0."+n),i++):p=new h(r+"."+n.slice(1)),s=o=p=_u(p.minus(ru),p.plus(ru),u),c=Tu(p.times(p),u),a=3;;){if(o=Tu(o.times(c),u),bu((l=s.plus(_u(o,new h(a),u))).d).slice(0,u)===bu(s.d).slice(0,u))return s=s.times(2),0!==i&&(s=s.plus(Su(h,u+2,m).times(i+""))),s=_u(s,new h(d),u),h.precision=m,null==t?(iu=!0,Tu(s,m)):s;s=l,a+=2}}function Nu(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=uu(n/fu),e.d=[],r=(n+1)%fu,n<0&&(r+=fu),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=fu;r<a;)e.d.push(+t.slice(r,r+=fu));t=t.slice(r),r=fu-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),iu&&(e.e>mu||e.e<-mu))throw Error(lu+n)}else e.s=0,e.e=0,e.d=[0];return e}function Tu(e,t,n){var r,a,i,o,s,l,u,c,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=fu,a=t,u=d[c=0];else{if((c=Math.ceil((r+1)/fu))>=(i=d.length))return e;for(u=i=d[c],o=1;i>=10;i/=10)o++;a=(r%=fu)-fu+o}if(void 0!==n&&(s=u/(i=cu(10,o-a-1))%10|0,l=t<0||void 0!==d[c+1]||u%i,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?a>0?u/cu(10,o-a):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(i=Eu(e),d.length=1,t=t-i-1,d[0]=cu(10,(fu-t%fu)%fu),e.e=uu(-t/fu)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=c,i=1,c--):(d.length=c+1,i=cu(10,fu-r),d[c]=a>0?(u/cu(10,o-a)%cu(10,a)|0)*i:0),l)for(;;){if(0==c){(d[0]+=i)==pu&&(d[0]=1,++e.e);break}if(d[c]+=i,d[c]!=pu)break;d[c--]=0,i=1}for(r=d.length;0===d[--r];)d.pop();if(iu&&(e.e>mu||e.e<-mu))throw Error(lu+Eu(e));return e}function Iu(e,t){var n,r,a,i,o,s,l,u,c,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),iu?Tu(t,f):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r){for((c=o<0)?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),o>(a=Math.max(Math.ceil(f/fu),s)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((c=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){c=l[a]<d[a];break}o=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=pu-1;--l[i],l[a]+=pu}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,iu?Tu(t,f):t):new p(0)}function Pu(e,t,n){var r,a=Eu(e),i=bu(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+ku(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ku(-a-1)+i,n&&(r=n-o)>0&&(i+=ku(r))):a>=o?(i+=ku(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+ku(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=ku(r))),e.s<0?"-"+i:i}function Ou(e,t){if(e.length>t)return e.length=t,!0}function Cu(e){if(!e||"object"!==typeof e)throw Error(ou+"Object expected");var t,n,r,a=["precision",1,au,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(uu(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(su+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(su+n+": "+r);this[n]=new this(r)}return this}var Au=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(su+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Nu(t,e.toString())}if("string"!==typeof e)throw Error(su+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!du.test(e))throw Error(su+e);Nu(t,e)}if(i.prototype=yu,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=Cu,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});ru=new Au(1);var Du;!function(e){e.AED="aed",e.AFN="afn",e.ALL="all",e.AMD="amd",e.ANG="ang",e.AOA="aoa",e.ARS="ars",e.AUD="aud",e.AWG="awg",e.AZN="azn",e.BAM="bam",e.BBD="bbd",e.BDT="bdt",e.BGN="bgn",e.BHD="bhd",e.BIF="bif",e.BMD="bmd",e.BND="bnd",e.BOB="bob",e.BOV="bov",e.BRL="brl",e.BSD="bsd",e.BTN="btn",e.BWP="bwp",e.BYN="byn",e.BYR="byr",e.BZD="bzd",e.CAD="cad",e.CDF="cdf",e.CHE="che",e.CHF="chf",e.CHW="chw",e.CLF="clf",e.CLP="clp",e.CNY="cny",e.COP="cop",e.COU="cou",e.CRC="crc",e.CUC="cuc",e.CUP="cup",e.CVE="cve",e.CZK="czk",e.DJF="djf",e.DKK="dkk",e.DOP="dop",e.DZD="dzd",e.EGP="egp",e.ERN="ern",e.ETB="etb",e.EUR="eur",e.FJD="fjd",e.FKP="fkp",e.GBP="gbp",e.GEL="gel",e.GHS="ghs",e.GIP="gip",e.GMD="gmd",e.GNF="gnf",e.GTQ="gtq",e.GYD="gyd",e.HKD="hkd",e.HNL="hnl",e.HRK="hrk",e.HTG="htg",e.HUF="huf",e.IDR="idr",e.ILS="ils",e.INR="inr",e.IQD="iqd",e.IRR="irr",e.ISK="isk",e.JMD="jmd",e.JOD="jod",e.JPY="jpy",e.KES="kes",e.KGS="kgs",e.KHR="khr",e.KMF="kmf",e.KPW="kpw",e.KRW="krw",e.KWD="kwd",e.KYD="kyd",e.KZT="kzt",e.LAK="lak",e.LBP="lbp",e.LKR="lkr",e.LRD="lrd",e.LSL="lsl",e.LTL="ltl",e.LVL="lvl",e.LYD="lyd",e.MAD="mad",e.MDL="mdl",e.MGA="mga",e.MKD="mkd",e.MMK="mmk",e.MNT="mnt",e.MOP="mop",e.MRO="mro",e.MUR="mur",e.MVR="mvr",e.MWK="mwk",e.MXN="mxn",e.MXV="mxv",e.MYR="myr",e.MZN="mzn",e.NAD="nad",e.NGN="ngn",e.NIO="nio",e.NOK="nok",e.NPR="npr",e.NZD="nzd",e.OMR="omr",e.PAB="pab",e.PEN="pen",e.PGK="pgk",e.PHP="php",e.PKR="pkr",e.PLN="pln",e.PYG="pyg",e.QAR="qar",e.RON="ron",e.RSD="rsd",e.RUB="rub",e.RWF="rwf",e.SAR="sar",e.SBD="sbd",e.SCR="scr",e.SDG="sdg",e.SEK="sek",e.SGD="sgd",e.SHP="shp",e.SLL="sll",e.SOS="sos",e.SRD="srd",e.SSP="ssp",e.STD="std",e.SVC="svc",e.SYP="syp",e.SZL="szl",e.THB="thb",e.TJS="tjs",e.TMT="tmt",e.TND="tnd",e.TOP="top",e.TRY="try",e.TTD="ttd",e.TWD="twd",e.TZS="tzs",e.UAH="uah",e.UGX="ugx",e.USD="usd",e.USN="usn",e.USS="uss",e.UYI="uyi",e.UYU="uyu",e.UZS="uzs",e.VEF="vef",e.VND="vnd",e.VUV="vuv",e.WST="wst",e.XAF="xaf",e.XAG="xag",e.XAU="xau",e.XBA="xba",e.XBB="xbb",e.XBC="xbc",e.XBD="xbd",e.XCD="xcd",e.XDR="xdr",e.XFU="xfu",e.XOF="xof",e.XPD="xpd",e.XPF="xpf",e.XPT="xpt",e.XSU="xsu",e.XTS="xts",e.XUA="xua",e.YER="yer",e.ZAR="zar",e.ZMW="zmw",e.ZWL="zwl"}(Du||(Du={}));Du.AED,Du.AFN,Du.ALL,Du.AMD,Du.ANG,Du.AOA,Du.ARS,Du.AUD,Du.AWG,Du.AZN,Du.BAM,Du.BBD,Du.BDT,Du.BGN,Du.BHD,Du.BIF,Du.BMD,Du.BND,Du.BOB,Du.BOV,Du.BRL,Du.BSD,Du.BTN,Du.BWP,Du.BYR,Du.BYN,Du.BZD,Du.CAD,Du.CDF,Du.CHE,Du.CHF,Du.CHW,Du.CLF,Du.CLP,Du.CNY,Du.COP,Du.COU,Du.CRC,Du.CUC,Du.CUP,Du.CVE,Du.CZK,Du.DJF,Du.DKK,Du.DOP,Du.DZD,Du.EGP,Du.ERN,Du.ETB,Du.EUR,Du.FJD,Du.FKP,Du.GBP,Du.GEL,Du.GHS,Du.GIP,Du.GMD,Du.GNF,Du.GTQ,Du.GYD,Du.HKD,Du.HNL,Du.HRK,Du.HTG,Du.HUF,Du.IDR,Du.ILS,Du.INR,Du.IQD,Du.IRR,Du.ISK,Du.JMD,Du.JOD,Du.JPY,Du.KES,Du.KGS,Du.KHR,Du.KMF,Du.KPW,Du.KRW,Du.KWD,Du.KYD,Du.KZT,Du.LAK,Du.LBP,Du.LKR,Du.LRD,Du.LSL,Du.LTL,Du.LVL,Du.LYD,Du.MAD,Du.MDL,Du.MGA,Du.MKD,Du.MMK,Du.MNT,Du.MOP,Du.MRO,Du.MUR,Du.MVR,Du.MWK,Du.MXN,Du.MXV,Du.MYR,Du.MZN,Du.NAD,Du.NGN,Du.NIO,Du.NOK,Du.NPR,Du.NZD,Du.OMR,Du.PAB,Du.PEN,Du.PGK,Du.PHP,Du.PKR,Du.PLN,Du.PYG,Du.QAR,Du.RON,Du.RSD,Du.RUB,Du.RWF,Du.SAR,Du.SBD,Du.SCR,Du.SDG,Du.SEK,Du.SGD,Du.SHP,Du.SLL,Du.SOS,Du.SRD,Du.SSP,Du.STD,Du.SVC,Du.SYP,Du.SZL,Du.THB,Du.TJS,Du.TMT,Du.TND,Du.TOP,Du.TRY,Du.TTD,Du.TWD,Du.TZS,Du.UAH,Du.UGX,Du.USD,Du.USN,Du.USS,Du.UYI,Du.UYU,Du.UZS,Du.VEF,Du.VND,Du.VUV,Du.WST,Du.XAF,Du.XAG,Du.XAU,Du.XBA,Du.XBB,Du.XBC,Du.XBD,Du.XCD,Du.XDR,Du.XFU,Du.XOF,Du.XPD,Du.XPF,Du.XPT,Du.XSU,Du.XTS,Du.XUA,Du.YER,Du.ZAR,Du.ZMW,Du.ZWL;var Mu={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,a=2,i=1/0,o=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",f="[object GeneratorFunction]",h="[object Map]",m="[object Number]",y="[object Object]",v="[object Promise]",g="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",k="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,T=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[s]=A[l]=A[S]=A[u]=A[k]=A[c]=A[d]=A[p]=A[h]=A[m]=A[y]=A[g]=A[b]=A[_]=A[E]=!1;var D="object"==typeof pa&&pa&&pa.Object===Object&&pa,M="object"==typeof self&&self&&self.Object===Object&&self,R=D||M||Function("return this")(),L=t&&!t.nodeType&&t,j=L&&e&&!e.nodeType&&e,U=j&&j.exports===L&&D.process,B=function(){try{return U&&U.binding("util")}catch(e){}}(),z=B&&B.isTypedArray;function F(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K=Array.prototype,W=Function.prototype,Y=Object.prototype,$=R["__core-js_shared__"],J=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=W.toString,X=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=R.Symbol,re=R.Uint8Array,ae=Z(Object.getPrototypeOf,Object),ie=Object.create,oe=Y.propertyIsEnumerable,se=K.splice,le=Z(Object.keys,Object),ue=Ge(R,"DataView"),ce=Ge(R,"Map"),de=Ge(R,"Promise"),pe=Ge(R,"Set"),fe=Ge(R,"WeakMap"),he=Ge(Object,"create"),me=$e(ue),ye=$e(ce),ve=$e(de),ge=$e(pe),be=$e(fe),_e=ne?ne.prototype:void 0,we=_e?_e.valueOf:void 0,Ee=_e?_e.toString:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=e?e.length:0;for(this.__data__=new xe;++t<n;)this.add(e[t])}function Te(e){this.__data__=new ke(e)}function Ie(e,t){var n=et(e)||Xe(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!X.call(e,i)||a&&("length"==i||He(i,r))||n.push(i);return n}function Pe(e,t){for(var n=e.length;n--;)if(Qe(e[n][0],t))return n;return-1}Se.prototype.clear=function(){this.__data__=he?he(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(he){var r=t[e];return r===n?void 0:r}return X.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:X.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=he&&void 0===t?n:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():se.call(t,n,1),!0)},ke.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Pe(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Se,map:new(ce||ke),string:new Se}},xe.prototype.delete=function(e){return Fe(this,e).delete(e)},xe.prototype.get=function(e){return Fe(this,e).get(e)},xe.prototype.has=function(e){return Fe(this,e).has(e)},xe.prototype.set=function(e,t){return Fe(this,e).set(e,t),this},Ne.prototype.add=Ne.prototype.push=function(e){return this.__data__.set(e,n),this},Ne.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new ke},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!ce||r.length<199)return r.push([e,t]),this;n=this.__data__=new xe(r)}return n.set(e,t),this};var Oe,Ce=function(e,t,n){for(var r=-1,a=Object(e),i=n(e),o=i.length;o--;){var s=i[Oe?o:++r];if(!1===t(a[s],s,a))break}return e};function Ae(e,t){return e&&Ce(e,t,ut)}function De(e,t){for(var n=0,r=(t=Ze(t,e)?[t]:Be(t)).length;null!=e&&n<r;)e=e[Ye(t[n++])];return n&&n==r?e:void 0}function Me(e,t){return null!=e&&t in Object(e)}function Re(e,t,n,i,o){return e===t||(null==e||null==t||!at(e)&&!it(t)?e!==e&&t!==t:function(e,t,n,i,o,p){var f=et(e),v=et(t),E=l,x=l;f||(E=(E=Ve(e))==s?y:E);v||(x=(x=Ve(t))==s?y:x);var N=E==y&&!V(e),T=x==y&&!V(t),I=E==x;if(I&&!N)return p||(p=new Te),f||lt(e)?ze(e,t,n,i,o,p):function(e,t,n,i,o,s,l){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!i(new re(e),new re(t)));case u:case c:case m:return Qe(+e,+t);case d:return e.name==t.name&&e.message==t.message;case g:case _:return e==t+"";case h:var p=H;case b:var f=s&a;if(p||(p=q),e.size!=t.size&&!f)return!1;var y=l.get(e);if(y)return y==t;s|=r,l.set(e,t);var v=ze(p(e),p(t),i,o,s,l);return l.delete(e),v;case w:if(we)return we.call(e)==we.call(t)}return!1}(e,t,E,n,i,o,p);if(!(o&a)){var P=N&&X.call(e,"__wrapped__"),O=T&&X.call(t,"__wrapped__");if(P||O){var C=P?e.value():e,A=O?t.value():t;return p||(p=new Te),n(C,A,i,o,p)}}if(!I)return!1;return p||(p=new Te),function(e,t,n,r,i,o){var s=i&a,l=ut(e),u=l.length,c=ut(t),d=c.length;if(u!=d&&!s)return!1;var p=u;for(;p--;){var f=l[p];if(!(s?f in t:X.call(t,f)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var m=!0;o.set(e,t),o.set(t,e);var y=s;for(;++p<u;){var v=e[f=l[p]],g=t[f];if(r)var b=s?r(g,v,f,t,e,o):r(v,g,f,e,t,o);if(!(void 0===b?v===g||n(v,g,r,i,o):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,o,p)}(e,t,Re,n,i,o))}function Le(e){return!(!at(e)||(t=e,J&&J in t))&&(nt(e)||V(e)?te:O).test($e(e));var t}function je(e){return"function"==typeof e?e:null==e?ct:"object"==typeof e?et(e)?function(e,t){if(Ze(e)&&qe(t))return Ke(Ye(e),t);return function(n){var i=function(e,t,n){var r=null==e?void 0:De(e,t);return void 0===r?n:r}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,n){t=Ze(t,e)?[t]:Be(t);var r,a=-1,i=t.length;for(;++a<i;){var o=Ye(t[a]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}if(r)return r;i=e?e.length:0;return!!i&&rt(i)&&He(o,i)&&(et(e)||Xe(e))}(e,t,Me)}(n,e):Re(t,i,void 0,r|a)}}(e[0],e[1]):function(e){var t=function(e){var t=ut(e),n=t.length;for(;n--;){var r=t[n],a=e[r];t[n]=[r,a,qe(a)]}return t}(e);if(1==t.length&&t[0][2])return Ke(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var u=n[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var f=new Te;if(i)var h=i(d,p,c,e,t,f);if(!(void 0===h?Re(p,d,i,r|a,f):h))return!1}}return!0}(n,e,t)}}(e):function(e){return Ze(e)?(t=Ye(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return De(t,e)}}(e);var t}(e)}function Ue(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Y;return e===n}(e))return le(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Be(e){return et(e)?e:We(e)}function ze(e,t,n,i,o,s){var l=o&a,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,f=!0,h=o&r?new Ne:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var m=e[p],y=t[p];if(i)var v=l?i(y,m,p,t,e,s):i(m,y,p,e,t,s);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!G(t,(function(e,t){if(!h.has(t)&&(m===e||n(m,e,i,o,s)))return h.add(t)}))){f=!1;break}}else if(m!==y&&!n(m,y,i,o,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Fe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}var Ve=function(e){return ee.call(e)};function He(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Ze(e,t){if(et(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ot(e))||(N.test(e)||!x.test(e)||null!=t&&e in Object(t))}function qe(e){return e===e&&!at(e)}function Ke(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ue&&Ve(new ue(new ArrayBuffer(1)))!=k||ce&&Ve(new ce)!=h||de&&Ve(de.resolve())!=v||pe&&Ve(new pe)!=b||fe&&Ve(new fe)!=E)&&(Ve=function(e){var t=ee.call(e),n=t==y?e.constructor:void 0,r=n?$e(n):void 0;if(r)switch(r){case me:return k;case ye:return h;case ve:return v;case ge:return b;case be:return E}return t});var We=Je((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(ot(e))return Ee?Ee.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(e)}(e);var t=[];return T.test(e)&&t.push(""),e.replace(I,(function(e,n,r,a){t.push(r?a.replace(P,"$1"):n||e)})),t}));function Ye(e){if("string"==typeof e||ot(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function $e(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Je(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(Je.Cache||xe),n}function Qe(e,t){return e===t||e!==e&&t!==t}function Xe(e){return function(e){return it(e)&&tt(e)}(e)&&X.call(e,"callee")&&(!oe.call(e,"callee")||ee.call(e)==s)}Je.Cache=xe;var et=Array.isArray;function tt(e){return null!=e&&rt(e.length)&&!nt(e)}function nt(e){var t=at(e)?ee.call(e):"";return t==p||t==f}function rt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function at(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function it(e){return!!e&&"object"==typeof e}function ot(e){return"symbol"==typeof e||it(e)&&ee.call(e)==w}var st,lt=z?(st=z,function(e){return st(e)}):function(e){return it(e)&&rt(e.length)&&!!A[ee.call(e)]};function ut(e){return tt(e)?Ie(e):Ue(e)}function ct(e){return e}e.exports=function(e,t,n){var r,a=et(e)||lt(e);if(t=je(t),null==n)if(a||at(e)){var i=e.constructor;n=a?et(e)?new i:[]:nt(i)?at(r=ae(e))?ie(r):{}:{}}else n={};return(a?F:Ae)(e,(function(e,r,a){return t(n,e,r,a)})),n}}(Mu,Mu.exports);"function"===typeof SuppressedError&&SuppressedError;const Ru=/\{([a-z]+)\}/g;const Lu=/\.[a-z0-9]{1,4}$/;function ju(e){let{originalURL:t,prefix:n,prefixHost:r,target:a}=e;const i=new URL("https://".concat(a)),o=function(e){const t=e.replace(Ru,((e,t)=>"(?<".concat(t,">[\\w-]+)")));return new RegExp("".concat(t,"(/|$)"))}(i.host.replace(/%7B/g,"{").replace(/%7D/g,"}")),s=t.toString().match(o);if(null==s)return t;const l=new URL(t.toString());return l.host=r,l.pathname=n.replace(Ru,((e,t)=>{var n;const r=null===(n=s.groups)||void 0===n?void 0:n[t];if(null==r)throw new Error("Misconfigured route.");return r})),l.pathname+="/"===l.pathname?t.pathname.slice(1):t.pathname,l.pathname=l.pathname.replace(i.pathname,""),!t.pathname.endsWith("/")||l.pathname.endsWith("/")||Lu.test(l.pathname)||(l.pathname+="/"),l}function Uu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.protocol,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.host;return new URL(e,"".concat(t,"//").concat(n))}function Bu(e){let{patchFetch:t=!0,patchWebSocket:n=!0,patchXhr:r=!0,patchSrcAttributes:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!==typeof window){if(t){const t=window.fetch;window.fetch=function(n,r){if(n instanceof Request){const a=Gu({url:Uu(n.url),mappings:e}),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(null!==r&&void 0!==r?r:{},["url"]);return Object.keys(Request.prototype).forEach((e=>{if("url"!==e)try{i[e]=n[e]}catch(t){console.warn('Remapping fetch request key "'.concat(e,'" failed'),t)}})),new Promise(((e,r)=>{try{n.blob().then((r=>{"HEAD"!==n.method.toUpperCase()&&"GET"!==n.method.toUpperCase()&&r.size>0&&(i.body=r),e(t(new Request(a,i)))}))}catch(o){r(o)}}))}const a=Gu({url:n instanceof URL?n:Uu(n),mappings:e});return t(a,r)}}if(n){class t extends WebSocket{constructor(t,n){super(Gu({url:t instanceof URL?t:Uu(t),mappings:e}),n)}}window.WebSocket=t}if(r){const t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r,a,i,o){const s=Gu({url:Uu(r),mappings:e});t.apply(this,[n,s,a,i,o])}}if(a){const t={attributeFilter:["src"],childList:!0,subtree:!0};new MutationObserver((function(t){for(const n of t)"attributes"===n.type&&"src"===n.attributeName?Fu(n.target,e):"childList"===n.type&&n.addedNodes.forEach((t=>zu(t,e)))})).observe(window.document,t),window.document.querySelectorAll("[src]").forEach((t=>{Fu(t,e)}))}}}function zu(e,t){e.hasChildNodes()&&e.childNodes.forEach((e=>{Fu(e,t),zu(e,t)}))}function Fu(e,t){var n;if(e instanceof HTMLElement&&e.hasAttribute("src")){const r=Uu(null!==(n=e.getAttribute("src"))&&void 0!==n?n:"");if(r.host===window.location.host)return;e.setAttribute("src",Gu({url:r,mappings:t}).toString())}}function Gu(e){let{url:t,mappings:n}=e;for(const r of n){const e=ju({originalURL:t,prefix:r.prefix,target:r.target,prefixHost:window.location.host});if(null!=e&&(null===e||void 0===e?void 0:e.toString())!==t.toString())return e}return t}const{Commands:Vu}=t,Hu={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DISCORD_CLIENT_ID,Zu=new class{getTransfer(e){var t;switch(e.cmd){case Qo.SUBSCRIBE:case Qo.UNSUBSCRIBE:return;default:return null!==(t=e.transfer)&&void 0!==t?t:void 0}}constructor(e,t){var n;if(this.eventBus=new va,this.source=null,this.sourceOrigin="",this.pendingCommands=new Map,this.sendCommand=e=>{var t;if(null==this.source)throw new Error("Attempting to send message before initialization");const n=$l();null===(t=this.source)||void 0===t||t.postMessage([tu.FRAME,Object.assign(Object.assign({},e),{nonce:n})],this.sourceOrigin,this.getTransfer(e));return new Promise(((e,t)=>{this.pendingCommands.set(n,{resolve:e,reject:t})}))},this.commands=(n=this.sendCommand,{authenticate:hl(n),authorize:ml(n),captureLog:yl(n),encourageHardwareAcceleration:vl(n),getChannel:Al(n),getChannelPermissions:_l(n),getEntitlements:gl(n),getPlatformBehaviors:wl(n),getSkus:bl(n),openExternalLink:El(n),openInviteDialog:Sl(n),openShareMomentDialog:kl(n),setActivity:xl(n),setConfig:Nl(n),setOrientationLockState:Il(n),startPurchase:Pl(n),userSettingsGetLocale:Ol(n),initiateImageUpload:Cl(n),getInstanceConnectedParticipants:Dl(n)}),this.handleMessage=e=>{if(!nu.has(e.origin))return;const t=e.data;if(!Array.isArray(t))return;const[n,r]=t;switch(n){case tu.HELLO:return;case tu.CLOSE:return this.handleClose(r);case tu.HANDSHAKE:return this.handleHandshake();case tu.FRAME:return this.handleFrame(r);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=null!==t&&void 0!==t?t:{disableConsoleLogOverride:!1},"undefined"!==typeof window&&window.addEventListener("message",this.handleMessage),"undefined"===typeof window)return this.frameId="",this.instanceId="",this.platform=Bo.DESKTOP,this.guildId=null,void(this.channelId=null);const r=new URLSearchParams(this._getSearch()),a=r.get("frame_id");if(!a)throw new Error("frame_id query param is not defined");this.frameId=a;const i=r.get("instance_id");if(!i)throw new Error("instance_id query param is not defined");this.instanceId=i;const o=r.get("platform");if(!o)throw new Error("platform query param is not defined");if(o!==Bo.DESKTOP&&o!==Bo.MOBILE)throw new Error('Invalid query param "platform" of "'.concat(o,'". Valid values are "').concat(Bo.DESKTOP,'" or "').concat(Bo.MOBILE,'"'));this.platform=o,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),[this.source,this.sourceOrigin]=function(){var e;return[null!==(e=window.parent.opener)&&void 0!==e?e:window.parent,document.referrer?document.referrer:"*"]}(),this.addOnReadyListener(),this.handshake()}close(e,t){var n;window.removeEventListener("message",this.handleMessage);const r=$l();null===(n=this.source)||void 0===n||n.postMessage([tu.CLOSE,{code:e,message:t,nonce:r}],this.sourceOrigin)}async subscribe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];const[i]=r,o=this.eventBus.listenerCount(e),s=this.eventBus.on(e,t);return Object.values(Ls).includes(e)&&e!==Ls.READY&&0===o&&await this.sendCommand({cmd:Qo.SUBSCRIBE,args:i,evt:e}),s}async unsubscribe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];const[i]=r;return e!==Ls.READY&&1===this.eventBus.listenerCount(e)&&await this.sendCommand({cmd:Qo.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,t)}async ready(){this.isReady||await new Promise((e=>{this.eventBus.once(Ls.READY,e)}))}handshake(){var e;null===(e=this.source)||void 0===e||e.postMessage([tu.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(Ls.READY,(()=>{this.overrideConsoleLogging(),this.isReady=!0}))}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(e,t)=>{this.commands.captureLog({level:e,message:t})};eu.forEach((t=>{!function(e,t,n){const r=e[t],a=e;r&&(e[t]=function(){const e=[].slice.call(arguments),i=""+e.join(" ");n(t,i),r.apply(a,e)})}(console,t,e)}))}handleClose(e){ul.parse(e)}handleHandshake(){}handleFrame(e){var t,n;let r;try{r=dl(e)}catch(a){return console.error("Failed to parse",e),void console.error(a)}if("DISPATCH"===r.cmd)this.eventBus.emit(r.evt,r.data);else{if(r.evt===Rs){if(null!=r.nonce)return null===(t=this.pendingCommands.get(r.nonce))||void 0===t||t.reject(r.data),void this.pendingCommands.delete(r.nonce);this.eventBus.emit("error",new Xl(r.data.code,r.data.message))}if(null==r.nonce)return void console.error("Missing nonce",e);null===(n=this.pendingCommands.get(r.nonce))||void 0===n||n.resolve(r),this.pendingCommands.delete(r.nonce)}}_getSearch(){return"undefined"===typeof window?"":window.location.search}}(Hu);let qu;console.log("discordsdk.js start"),async function(){Bu([{prefix:"/api",target:"poker-roguelike.onrender.com"}]),await Zu.ready();const{code:e}=await Zu.commands.authorize({client_id:Hu,response_type:"code",state:"",prompt:"none",scope:["identify","guilds"]}),t=await fetch("/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}),{access_token:n}=await t.json();if(qu=await Zu.commands.authenticate({access_token:n}),null==qu)throw new Error("Authenticate command failed")}().then((()=>{console.log("Discord SDK is ready")}));a.createRoot(document.getElementById("root")).render((0,oa.jsx)(r.StrictMode,{children:(0,oa.jsx)(ca,{})})),da()})()})();
//# sourceMappingURL=main.3c7657ec.js.map